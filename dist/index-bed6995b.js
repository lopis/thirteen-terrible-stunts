function f(a){var b=g,d=[];b.g.wa?.();b.g=a;b.g.s?.(...d)}class aa{constructor(...a){this.g=ba;this.g.s?.(...a)}}
let g,ca=a=>a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(b,d,e,h,k)=>"#"+d+d+e+e+h+h+k+k).substring(1).match(/.{2}/g).map(b=>parseInt(b,16)),da="6v7ic 2rwzo 6nvic 58jgo 55eyo jz6bo 933m7 3ugt8 34ao 7k b28 m0 20o0o 9a7vy jbmjj jf63j ivhmn etrs7 ju8e7 jalrz jeyks jwdj3 jwdlv 2t8g 2t8s 34yo lskg m2yo jf4lo jysjy 98ruh j8htq 9v7zj j8d32 ju78f ju8t4 9ul2n g44e1 jykrj jewdq g4rbt fgsgv hha5t g6xgz 98rou j8d7c 98uwe j8d7d 9xgxq jykqs g3zn2 g3z9g b1ipn h4qu3 c8oz2 jhyfz 7uq18  3xjqe ".split(" "),l=
{},ea=async(a,b,d,e=1)=>{let h=a+d+b;if(!l[h]){var k=5*b;e*=b;var n=k+e,r=n*a.length-e,y=new ImageData(r,k),[J,F,G,M]=ca(d);a.replace("!","@").toUpperCase().split("").forEach((N,eb)=>{String(parseInt(" "===N?"0":da[N.charCodeAt(0)-35],36).toString(2)).padStart(25,"0").split("").forEach((O,fb)=>{if("0"!==O)for(O=0;O<b;O++){var V=fb*b;V=4*(eb*n+V%k+b*r*Math.floor(V/k)+r*O);for(let ja=0;ja<b;ja++){let W=4*ja+V;y.data[W]=J;y.data[W+1]=F;y.data[W+2]=G;y.data[W+3]=M||255}}})});a=await createImageBitmap(y);
l[h]=a}},p=({text:a,color:b=m.C,textAlign:d="left",textBaseline:e="top",size:h=2,Ma:k=999,Pa:n=1,...r})=>{let y=Math.round(r.x),J=Math.round(r.y);a||=" ";let F=5*h;var G=n*h;r=F+G;G=r*a.length-G;let M=a+b+h,N="left"===d?0:"center"===d?Math.round(G/2):G;d="top"===e?0:"middle"===e?Math.round(F/2):F;l[M]?(a=k*r,c.drawImage(l[M],0,0,a,r,y-N,J-d,a,r)):ea(a,h,b,n).then(()=>{c.drawImage(l[M],y-N,J)})},fa=(a,b,d)=>{a.forEach(e=>{b.forEach(h=>ea(e,d,h))})};
function q(a,b,d){return Math.max(Math.min(a,d),b)}function ha(){var a=ia;let b=RegExp("(.{1,40})(\\s|$)","g"),d=[],e;for(;null!==(e=b.exec(a));)d.push(e[1].trim());return d}function ka(a){return{x:Math.round(a.x),y:Math.round(a.y)}}function la({x:a,y:b},d,e=1){return{x:a+d.x*e,y:b+d.y*e}}let t=(a,b)=>a[0]+(a[1]-a[0])*b,u=(a,b,d)=>({x:a.x+b,y:a.y+d}),m={C:"#1F0A00",H:"#FFFCEA",o:"#A29782",B:"#CEC6AD"},ma=Object.values(m).join("").replace(/#/g,"");m.C.repeat(4);
let na="@@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@E@T@@T@PA@ @@@@@@@@@@@@@@@@@TUUA@djjZ@PjjjA@ijjF@dZjY@PjjjA@iZeF@TUUU@TjjjEDijjFQTUUUD@UUU@@@EPA@ @TUUA@djjZ@PjifA@ijjF@djUZ@PjjjQ@ijjFATUUUATjjjADiejFPTUUU@@UUU@@PAU@@@@U@@@@T@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@PUUUA@YijZ@eejjFUVjjZEYiZfEdfffFPZZfYUiiijUUUUUE@D@@@@@U@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@E@@@@}A@@`U_ji`@tgAh@@}U`@@PoF@@@djA@@PjZ@@@TUA @@@@@@@UUE@@UUUA@ijjU@dfZZAPjYjE@iifV@ifZZAdjjjFPjUeZ@iZUjAPjjjA@TejU@UijUEUUjUUTUUUUA @@@@@@PUUE@PeZUAPijjU@ijjVAeUVYUTjifVQijjZEejjjUPjUjVAijjZ@PjjZ@@TiU@@@dF@@PUVUAPUUUU@ @TUU@@djjF@djjjAPUUUF@ijjV@djjjAPVjeF@ijjZ@djjjAPjUjF@djjF@@ejF@@@iF@@TeZU@TUYUEPUUUU@ @PA@E@PU@UAPUUUU@UiVUAPijUA@djZA@PfiF@@YfZ@@djjATdjjFPejjZ@djjZ@@UUU@@@@U@@@@UE@@PUUE@ p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@ @\u007f\u007f\u007fC@kjjz@kjjjNkjjjjojjjj~jjjjzkjjjjojjjj~kjjj~{jjjns~\u007f\u007foCljjjCp\u007f\u007f\u007fO@kCpz@lN@kCp\u007f@|O@ @p\u007fO@@|jjO@ljzjCpjznNpjjnjCknjjNlnkjzpjkzjskjzn~ojjnzokjjz~z\u007f\u007f\u007fzkjjjj\u007f\u007f\u007f\u007f\u007f\u007fjjjjz|\u007f\u007f\u007f\u007f@ @pOpO@pjsjC@kNkNLlzozpC\u007fj\u007f@{sjz@l~kjCpzojN@{s\u007f\u007f@|@pN@p@pjC@@p~{@@pNpN@pN@lCpN@@{@O@@pC @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|C@@@pW@@@@\u007fC@@@|K@@@@J@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@TUE@@djjA@d~\u007fZ@T^UmAdZUUFPfVUZ@YjjjEtjjjfQujj^Fi}\u007f_ZPZUUZ@djjZ@@UUU@@@@@@@ PUUUU@ijjjAdjjjFPjjjZ@UUUUAt\u007f\u007f\u007fGPUUu^@@@P\u007fAPUEmGPTVt_@QYQ\u007fADeE}G@TUt_@UUU\u007fAt\u007f\u007f\u007fGPUUUU@ @@\u007fC@@pkzC@pz\u007fz@p~\u007f\u007fNp~\u007f\u007foC{\u007f\u007f\u007fN{\u007f\u007f\u007foo\u007f\u007f\u007f\u007f~~\u007f\u007f\u007f{{\u007f\u007f\u007fos~\u007f\u007foC{\u007f\u007f\u007fNp~\u007f\u007fN@l~oN@@ojO@@@\u007fC@@ @@|\u007fO@@|\u007f\u007fC@|C@\u007f@pC@pC@O@@Op\u007fO@|pjjCpsjjz@OkjjC|kjjzpojjjC\u007f\u007f\u007f\u007fO|`kzBpCnjK@O`\u007fK@|@hJ@pC @@@@pC@@@@O@@@@|@@@@pC@@@@O@@@@|@@@@pC@@@@O@@@@|@@@@pC@@@@O@@@@|@@@@pC@@@@O@@@@|@@@@pC @@@@@@TUUA@TejZATUffEPUYZV@UejZAPeZiA@djjF@PUiV@PUYfEPTUfEAQUeUDPUUUE@TUUE@@E@E@@@@@@@ @@@@@@PUUA@PjjZ@@ijjA@dZZF@PjiY@@iZiA@djjF@PUUU@PiZiEPdjjFAQUUUDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUA@PUUU@@ijjA@TUUE@PZiU@@ijjA@djjF@PUUU@PUUVEPTUYEAQUUUDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@@@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@E@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@@@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @|@L|psO|\u007fLk~sz\u007flzC|O@ C@@sp||@\u007f\u007fso{ljNlzC|O@".split(" "),oa=
[],v=[],pa=[],qa=[];async function ra(a,b){let d=[];[...b].map(k=>{k=k.charCodeAt(0);d.push(k&3);d.push(k>>2&3);d.push(k>>4&3)});b=Math.floor(Math.sqrt(d.length));let e=new ImageData(b,b);for(let k=0;k<b;k++)for(let n=0;n<b;n++)if(d[k*b+n]){var h=6*(d[k*b+n]-1);let [r,y,J,F]=ca("#"+ma.substring(h,h+6));h=4*(n+k*b);e.data[h]=r;e.data[h+1]=y;e.data[h+2]=J;e.data[h+3]=F||255}b=await createImageBitmap(e);oa[a]=b}
async function sa(){let a=performance.now();return Promise.all(na.map((b,d)=>ra(d,b))).then(()=>{console.debug(`Loaded icons in ${performance.now()-a}ms`);v=[19,20,21];pa=[5,6,7,8];qa=[22,23,24,25,26,27]})}function w(a,b,d=!1,e=!1,h=!1){if(a=oa[a])c.save(),d&&(c.filter="brightness(0)"),c.translate(b.x+(e?a.width:0),b.y),c.save(),c.scale(e?-1:1,1),h&&(c.beginPath(),c.rect(0,0,16,8),c.clip()),c.drawImage(a,0,0),c.restore(),c.restore()}
function x(a,b,d,e){let {x:h,y:k}=ka(a);c.fillStyle=d;c.fillRect(h,k,b.x,b.y);c.fillStyle=e;c.fillRect(h+1,k+1,b.x-2,b.y-2)}function z(a,b,d,e,h){a=Math.round(a);b=Math.round(b);d=Math.round(d);e=Math.round(e);d-=a;e-=b;let k=Math.max(Math.abs(d),Math.abs(e));d/=k;e/=k;c.fillStyle=h;c.beginPath();for(h=0;h<=k;h++)c.rect(Math.round(a)-1,Math.round(b)-1,3,3),a+=d,b+=e;c.fill()}
function ta(){c.save();c.translate(160,80);[{x:-50,y:0},{x:-50,y:22},{x:-72,y:22},{x:-28,y:22}].forEach(({x:a,y:b})=>{x({x:a-11,y:b},{x:20,y:20},m.o,m.o);x({x:a-11,y:b},{x:18,y:18},m.B,m.B)});p({text:"move with arrows or wasd",x:-50,y:60,textAlign:"center",size:1});[["esc","exit game"],[" P ","pause game"]].forEach(([a,b],d)=>{d*=22;x({x:40,y:d},{x:26,y:20},m.o,m.o);x({x:40,y:d},{x:24,y:18},m.B,m.B);p({text:`${a}  ${b}`,x:45,y:d+8,size:1})});c.restore();c.save();c.restore()}
function ua(a,b){c.save();c.globalAlpha=.5;c.transform(b,-1+b,0,1,0,0);c.beginPath();c.moveTo(0,256);a.forEach(([d,e])=>{c.lineTo(320*d,256*e)});c.fillStyle=m.C;c.clip();c.fillRect(0,0,320,256);c.restore()}
function va(a,b){b=Math.min(1,b);c.save();c.transform(Math.pow(b,3),.5*(-1+b),0,1,0,0);c.beginPath();c.moveTo(0,256);a.forEach(([d,e])=>{c.lineTo(320*d,256*e)});c.fillStyle=m.H;c.strokeStyle=m.B;c.stroke();c.save();c.clip();b=Math.round(320/30);c.fillRect(0,0,320,256);for(let d=0;30>d;d++)c.strokeRect(b*d,0,b,256);c.restore();z(320*a[1][0],256*a[1][1],320*a[2][0],256*a[2][1],m.B);z(320*a[2][0],256*a[2][1],320*a[10][0],256*a[10][1],m.B);c.restore()}
function wa(a,b){b=[[0,0],[.5,0],[1,.5],[.8,.5],[.8,.5-b.y],[1-(.2+b.x),.5-b.y],[1-(.2+b.x),.5+b.y],[.8,.5+b.y],[.8,.5],[1,.5],[.5,1],[0,1]];ua(b,a);va(b,a)}
function xa(a){var b=2*Math.PI/8;for(let d=0;8>d;d++){let e=b*(d+8*a);c.save();c.translate(160,128);z(40*Math.cos(e),40*Math.sin(e),40*Math.cos(e+b),40*Math.sin(e+b),m.o);z(0,0,80*Math.cos(e),80*Math.sin(e),m.o);c.restore()}b=148+5*Math.sin(2*Math.PI*a);a=148+5*Math.cos(2*Math.PI*a);z(0,b,320,a,m.o);c.beginPath();c.moveTo(0,b);c.lineTo(320,a);c.lineTo(320,256);c.lineTo(0,256);c.lineTo(0,b);c.fill()}
function ya(){c.fillStyle=m.C+"DD";c.fillRect(0,0,320,256);["paused","press 'P' to continue"].forEach((a,b)=>{[m.C,m.H].forEach((d,e)=>{p({text:a,x:160-e,y:128+30*b-30-e,textAlign:"center",color:d,size:3-b})})})}class za{constructor(){window.c=c2d.getContext("2d",{alpha:!1});c.imageSmoothingEnabled=!1}}new za;function A(a,b){B.h=ka({x:a,y:b})}function Aa(a){var b=B;b.h=la(b.h,b.l,a/16)}function Ba(a){a.J.forEach((b,d)=>{w(b,{...a.h,y:a.h.y-12*(d+1)})})}
function C(a){var b=B;w(a,b.h,!1,b.K);Ba(b)}function D(a){var b=B;b.g+=a;60<=b.g&&(b.j=(b.j+1)%6,b.g-=60);w(qa[b.j],b.h,!1,b.K);Ba(b)}function Ca(){var a=B;w(2,a.h,!1,a.K,!0)}class Da{constructor(){this.j=this.g=0;this.size={x:16,y:16};this.h={x:0,y:0};this.K=!1;this.J=[];this.ra=!1;this.l={x:0,y:0}}}
let B=new Da,Ea=a=>{let b=new AudioContext,d=b.createBuffer(1,96E3,48E3),e=d.getChannelData(0);for(let h=96E3;h--;)e[h]=a(h);a=b.createBufferSource();a.buffer=d;a.connect(b.destination);a.start()},Fa=a=>{Ea(b=>{if(2E4<b)return 0;var d=(2E4-b)/2E4;return.2*Math.tan(Math.cbrt(Math.sin(b/(145-5*a))))*d*d})},Ga=()=>{Ea(a=>.1*Math.sin(a/50+50*Math.random())*(8E3-a%8E3)/5E3*Math.exp(-a/8E3))},Ha=(a,b)=>{var d=1+.5*(Math.random()-.5);let e=new AudioContext;var h=3E3*(a+.25);let k=e.createBuffer(1,h,48E3),
n=k.getChannelData(0);for(;h--;){let r=3E3*a;n[h]=h>r?0:Math.sin(d*h/25-.5*Math.sin(h/5))*Math.sin(h/(r/a)*Math.PI)*.2}a=e.createBufferSource();a.buffer=k;a.connect(e.destination);a.start();a.onended=b},E=!1,Ia=a=>{E=!0;let b=a.replace(/[^a-zA-Z\s]/g,"").split(" "),d=0,e=0,h=()=>{if(E&&d<b.length){e=performance.now();let k=Math.floor(b[d].replace(/[^a-zA-Z\s]/g,"").length/2)||1;Ha(k,()=>{let n=performance.now()-e;e=performance.now();setTimeout(h,Math.max(60*(k+1)-n,0))});d++}else E=!1};h()},Ja=0,
Ka=0,La="",ia="",Ma;function Na(a,b){La=a;ia=b;Ma=pa[H.j];Ka=Ja=0;Ia(b)}function Oa(a,b=!1){Ja+=a;30<=Ja&&(Ka++,Ja-=30);x({x:5,y:186},{x:310,y:50},m.B,m.H);x({x:8,y:189},{x:304,y:44},m.B,m.H);p({text:La,x:12,y:193,size:2,color:m.o});ha().forEach((d,e)=>{p({text:d,x:12,y:211+8*e,size:1,Ma:Ka-40*e})});c.save();c.translate(275,196);c.save();c.scale(2,2);w(Ma,{x:0,y:0});c.restore();c.restore();b&&p({text:"Press Enter to continue",x:160,y:241,textAlign:"center",color:m.o,size:1})}
function Pa(a){I.i?.port.postMessage({name:"voices",high:a})}function Qa(){var a=I;a.j&&(a.i?.disconnect(),a.j=!1)}class Ra{constructor(){this.startTime=0;this.j=!1}async start(){this.j||(this.g=new (window.AudioContext||window.webkitAudioContext),await this.g.resume(),await this.g.audioWorklet.addModule("a.js"),this.i=new AudioWorkletNode(this.g,"music-processor"),this.i.connect(this.g.destination),this.j=!0)}}let I=new Ra;
function Sa(){let a=localStorage.getItem("13_terrible_stunts_game_save")||"";return parseInt(a,10)||0}function Ta(a){localStorage.setItem("13_terrible_stunts_game_save",a.toString())}let K=[];function L(a,b,d=0,e=0){K.push({La:a,time:b,L:b+e,repeat:d})}function Ua(a){for(let b=K.length-1;0<=b;b--){let d=K[b];if(!d)break;d.L-=a;0>=d.L&&(d.La(),0>=d.repeat--?K.splice(b,1):d.L=d.time)}}
class Va{s(){Qa();I.start().then(()=>{Pa(!1)});let {name:a,ua:b}=Wa();Na(a,b)}wa(){E=!1}u(a){ta();Oa(a,!0)}$(){H.start()}}let Xa=new Va;
class P{constructor(a={x:0,y:0},b={x:0,y:0}){this.X=!1;this.h=a;this.size=b}update(){this.X=!1}W(){var a=B.h.x+B.size.x,b=B.h.y+B.size.y,d=this.h.x+this.size.x,e=this.h.y+this.size.y,h=a>this.h.x,k=B.h.y<e;let n=b>this.h.y;h=B.h.x<d&&h&&k&&n;if(!h)return this.X=!1,{V:!1,aa:!1,right:!1,left:!1,bottom:!1,top:!1};d-=B.h.x;a-=this.h.x;e-=B.h.y;b-=this.h.y;k=Math.min(d,a,e,b);this.X=!0;return{V:h,aa:this.aa(),right:k===d,left:k===a,bottom:k===e,top:k===b}}aa(){if(0>B.l.y)return!1;let a=B.h.x+B.size.x-
3,b=B.h.y+B.size.y,d=this.h.y+2;return B.h.x+5<this.h.x+this.size.x&&a>this.h.x&&B.h.y<d&&b>=this.h.y}ia(a,b){x(this.h,this.size,b||a,a)}}class Q extends P{constructor(a,b){super(a,b);this.fill=this.stroke=m.o}update(){x(this.h,this.size,this.stroke,this.fill)}}
class R extends Q{constructor(a,b=3,d=!0){super(ka(a),{x:130,y:50*b});this.j=0;this.g=!1;this.j=b;this.g=d}update(){x(this.h,this.size,m.o,m.B);for(let a=0;a<this.j;a++)if(x({x:this.h.x-1,y:this.h.y+50*a},{x:this.size.x+2,y:6},m.o,m.o),this.g)for(let b=0;5>b;b++)c.save(),c.translate(this.h.x+8+25*b,this.h.y+14+50*a),x({x:0,y:0},{x:14,y:12},m.o,m.H),x({x:0,y:12},{x:14,y:12},m.o,m.H),c.restore()}}
class Ya{constructor(){this.progress=0;this.g=!1;this.j=0;this.i=new R({x:95,y:0},5)}s(){this.progress=0;this.g=!1}u(a){for(let b=0;320>b;b+=16)w(11,{x:b,y:183});this.i.update();c.fillStyle=m.o;c.fillRect(0,200,320,100);x({x:146,y:161},{x:14,y:39},m.o,m.H);x({x:160,y:161},{x:14,y:39},m.o,m.H);x({x:110,y:130},{x:100,y:20},m.C,m.C);p({text:"movie studio",x:160,y:138,textAlign:"center",size:1,color:m.H});1>this.progress?(this.progress+=a/3E3,D(a)):(C(0),p({text:"Press ENTER to apply for job",x:160,y:241,
textAlign:"center",color:m.H,size:1}));A(-100+252*this.progress,194);this.g&&(this.j=Math.min(1,this.j+a/1500),a=m.H+(3*Math.round(16*this.j/3)).toString(16).repeat(2),x({x:0,y:0},{x:320,y:256},a,a))}$(){1<=this.progress&&!this.g&&(this.g=!0,Ga(),L(()=>{f(Xa)},1500))}}let Za=new Ya,$a=["Story mode","Restart story","Endless mode"];
class ab{constructor(){this.g=0}s(){Qa()}u(){p({text:"Levels",x:160,y:30,textAlign:"center",color:m.o,size:3});let a=128,b=0;[...$a].forEach(d=>{d={text:d,x:a,y:130+12*b++,color:m.C,size:1};p(d)});p({text:"&",x:a-10,y:130+12*this.g,color:m.C,size:1});p({text:`High score: ${H.D}`,x:a,y:130+12*b++,color:m.B,size:1});p({text:H.A?"# Easy Mode Enabled #":"Press E for easy mode",x:160,y:221,textAlign:"center",color:H.A?m.o:m.B,size:1});p({text:"Press ENTER to start",x:160,y:241,textAlign:"center",color:m.o,
size:1});a=96;c.save();c.translate(a,80);x({x:-16,y:0},{x:160,y:32},m.B,m.B);[5,6,7,8].forEach((d,e)=>{c.save();c.scale(2,2);w(d,{x:16*e,y:0},H.j<=e);c.restore()});c.restore();S.Z&&!S.j.Z&&(H.A=!H.A)}ha(){this.g--;0>this.g&&(this.g=$a.length-1)}va(){this.g++;this.g>$a.length-1&&(this.g=0)}$(){0===this.g?(H.i=!1,f(0===H.j?Za:Xa)):1===this.g?(H.i=!1,H.j=0,f(Za)):(H.i=!0,H.start())}}let bb=new ab;function cb(a=0){return"#".repeat(H.F-a)+"%".repeat(4-(H.F-a))}
function T(a){B.l={x:0,y:0};let b=`Oh no! ${cb()}`,d=`Oh no! ${cb(1)}`;fa([b,d],[m.C],Math.floor(200/(6*b.length)));a.text=b;a.I=0;a.j=!0;H.F--;L(()=>{a.text=d},200,3,500);L(()=>{a.text=b},200,2,600);1>H.F?L(()=>{a.ka=!0;a.text="you're fired!";a.ba=!0;if(H.i)H.g>H.D&&(H.D=H.g,localStorage.setItem("13_terrible_stunts_game_hs",H.g.toString()));else{let {name:e,ta:h}=Wa();Na(e,h)}a.da=()=>{f(db)}},2E3):L(()=>{gb(a)},500)}function gb(a){H.i||12!=H.g?L(()=>{hb(H)},1500):H.m?ib(a):jb(a)}
function U(a){B.l={x:0,y:0};a.I=0;a.j=!0;a.text="Nice!";gb(a)}function ib(a){let {name:b,ya:d}=Wa();H.m=!1;a.ba=!0;Na(b,d);a.da=()=>{if(3===H.j)a.text="# You're a star! #",Ta(H.j),a.da=()=>{f(bb)};else if(4>H.F){for(let e=H.F;4>e;e++)L(()=>{Fa(26+.5*(e-H.F));a.text=` ${cb(H.F-e-1)} `},0,0,500*e);L(()=>{kb()},0,0,2500);a.da=()=>{}}else kb()}}
function jb(a){let {name:b,sa:d}=Wa();Na(b,d);a.ba=!0;let e=500;for(let h=13;1<=h;h--)e+=100+250*(13-h)/13,L(()=>{Fa(h);a.text=`Level ${(" "+h).slice(-2)}`},e,0,1E3);L(()=>{a.text="SPEED UP!";I.i?.port.postMessage({name:"speed-up"});L(()=>{H.m=!0;H.g=-1;hb(H)},1E3,0,500)},e+2E3,0,1E3)}
function lb(a){[[cb(),"left",7],[a.Aa?"[]":Math.round(a.L),"center",160,0],[`Lvl ${H.g+1}`,"right",313]].forEach(([b,d,e,h=1])=>{[m.B,m.C].forEach((k,n)=>{p({text:b.toString(),x:e-n,y:7-n,textAlign:d,color:k,size:2,Pa:h})})});a=2*Math.round(100*a.L/a.ea/2);x({x:160-a/2,y:20},{x:a,y:8},m.o,m.H)}
class X{constructor(){this.Aa=this.ba=this.j=this.F=!1;this.za=this.I=0;this.ea=10;this.L=0;this.text="";this.ka=!1;this.da=()=>{}}s(){this.ea=H.A?20:10;this.Aa=!1;this.L=this.ea;this.ka=this.ba=this.j=this.F=!1;B.l={x:0,y:0};I.start();Pa(!0);this.start()}wa(){K=[]}oa(){}start(){this.I=0;this.F=!0}qa(){this.j||T(this)}u(a){this.j||this.F||(this.oa(a),this.Aa||(this.L=Math.max(0,this.L-a/1E3),0>=Math.round(this.L)&&this.qa()))}Ka(a){if(this.j||this.F){this.I+=a;500>=this.I&&(this.za=-(Math.cos(this.I/
500*Math.PI)-1)/2);if(0<this.I){let b=320*this.za-160,d=256*this.za-128,e=this.ka?m.C:m.H,h=this.ka?m.H:m.C;x({x:320-b-100+8,y:256-d-25+8},{x:200,y:50},m.C,m.C);x({x:b-100,y:d-25},{x:200,y:50},m.C,e);p({text:this.text,x:b,y:d,textAlign:"center",textBaseline:"middle",size:Math.floor(200/(6*this.text.length)),color:h})}1E3<this.I&&this.F&&(this.F=!1)}this.ba&&!H.i&&Oa(a,this.ba);lb(this)}$(){this.da()}}
class mb extends X{constructor(){super(...arguments);this.ja=4;this.m={x:.3,y:.05};this.Ba=7;this.Ea=14;this.R=0;this.pa=!0;this.na=0;this.Fa=2;this.i=[];this.A=[];this.ma=!0;this.Ga=512;this.Ha=-256;this.Da=0}s(){super.s();this.na=0;Object.assign(B,{K:!1,ra:!1,h:{x:20,y:20},l:{x:0,y:0}})}la(){return!this.j&&this.g?.W().V}u(a){7>H.g&&!H.m&&p({text:"You can double jump",x:160,y:80,color:m.B,size:1,textAlign:"center"});!this.j&&this.A.some(b=>b.W().V)&&(B.ra=!0,T(this));!this.j&&this.la()&&U(this);
if(!this.j){B.l.x=q(B.l.x,-this.ja,this.ja);A(q(B.h.x+a/16*B.l.x,0,304),q(B.h.y+a/16*Math.min(this.Ea,B.l.y),this.Ha,this.Ga)+1);let b=this.i.find(d=>d.aa());b?(B.h.y=b.h.y-16,this.na=this.R=B.l.y=0,this.ma=!0):(B.l.y+=this.m.y*a,this.ma=!1)}c.save();c.translate(0,this.Da);[...this.i,...this.A,this.g].forEach(b=>{b?.update(a)});this.D();this.Ia(a);c.restore();super.u(a)}D(){this.g&&p({text:"(",x:this.g.h.x+this.g.size.x/2-5,y:this.g.h.y-20-Math.round(8*this.L)%2})}Ia(a){B.ra?C(3):0===B.l.x&&0===B.l.y?
C(0):0===B.l.y?D(a):0<B.l.y?C(1):0>B.l.y&&C(2)}oa(a){S.M&&this.na<this.Fa&&(!this.ma||this.pa)?S.j.M?100>this.R&&(this.pa=!1,this.R+=a,B.l.y=-this.Ba):(this.pa=!0,this.R=0,B.l.y=Math.min(0,B.l.y),this.na++):S.M||(this.pa=!0);S.O?B.l.x-=this.m.x*a:S.P?B.l.x+=this.m.x*a:0==B.l.y&&(0<B.l.x?B.l.x=Math.max(0,B.l.x-2*this.m.x*a):0>B.l.x&&(B.l.x=Math.min(0,B.l.x+2*this.m.x*a)))}}var nb=[0,40],ob=[-10,20];
let pb=class extends mb{constructor(){super(...arguments);this.m={x:.01,y:.05}}s(){super.s();this.text="Jump over";var a=Y(),b=t(nb,a);a=t(ob,a);this.i=[new R({x:2-b,y:116+a}),new R({x:218+b,y:136-a})];this.A=[new P({x:0,y:276},{x:320,y:10})];b=218+b;this.g=new P({x:b,y:135-a},{x:Math.min(320-b,130),y:10})}},qb=new pb;var rb=[4,2],sb=[100,50];
class tb extends pb{constructor(){super(...arguments);this.G=this.v=0}s(){super.s();this.text="Land safely";var a=Y();this.v=t(rb,a);this.G=t(sb,a);a=new Q({x:0,y:236},{x:320,y:20});var b=m.o;a.stroke=m.o||"";a.fill=b||a.stroke;this.A=[a];a=new Q({x:218,y:231},{x:16*this.v,y:5});b=m.H;a.stroke=m.C||"";a.fill=b||a.stroke;this.g=a;this.i=[new R({x:-20,y:this.G+16},4),new Q({...a.h},{...a.size})];a.h.y--;a.size.y+=3}la(){return!this.j&&this.g.W().aa}}let ub=new tb;var vb=[2500,1800],wb=[120,100];
class xb extends mb{constructor(){super(...arguments);this.m={x:.01,y:.05};this.S=new P({x:0,y:0},{x:5,y:5});this.U=110;this.Ja=2E3;this.ca=1;this.G=this.v=!1;this.ja=3}s(){super.s();this.text="Swing over";this.G=this.v=!1;this.i=[new R({x:-65,y:116}),new R({x:255,y:116})];this.A=[new P({x:0,y:276},{x:320,y:10})];var a=320-130/3;this.g=new P({x:a,y:115},{x:Math.min(320-a,130),y:10});a=Y();this.Ja=t(vb,a);this.U=t(wb,a)}u(a){this.ca+=a/this.Ja;let b=Math.sin(2*this.ca*Math.PI),d=160+this.U*Math.sin(b),
e=this.U*Math.cos(b);z(160,-20,d,e,m.o);this.S.h={x:d,y:e};this.S.ia(m.H,m.C);this.j||(this.G||this.v||!this.S.W().V||(this.v=!0),!this.G&&this.v&&(B.h=u(this.S.h,-8,-24)),this.G&&this.v&&(B.l={x:4*Math.sin(b),y:-Math.cos(b)},this.v=!1),this.ma&&(this.v=this.G=!1));super.u(a)}ha(){this.G=!0}}let yb=new xb;
class zb extends X{constructor(){super(...arguments);this.i=Array.from({length:16},()=>[]);this.v=256/13}u(a){super.u(a);this.j||([...this.i.flat()].forEach(b=>{let d=b.W();d.V&&(d.right&&(B.h.x=b.h.x+b.size.x,B.l.x=0),d.left&&(B.h.x=b.h.x-b.size.x,B.l.x=0),d.bottom&&(B.h.y=b.h.y+b.size.y,B.l.y=0),d.top&&(B.h.y=b.h.y-b.size.y,B.l.y=0))}),Aa(a),B.h.x=q(B.h.x,0,304),B.h.y=q(B.h.y,0,240),B.l={x:q(B.l.x,-3,3),y:q(B.l.y,-3,3)});0!=B.l.x||0!=B.l.y?D(a):C(0)}oa(a){S.M?B.l.y-=.02*a:S.N?B.l.y+=.02*a:0<B.l.y?
B.l.y=Math.max(0,B.l.y-.02*a):0>B.l.y&&(B.l.y=Math.min(0,B.l.y+.02*a));S.O?(B.l.x-=.02*a,B.K=!0):S.P?(B.l.x+=.02*a,B.K=!1):0<B.l.x?B.l.x=Math.max(0,B.l.x-.02*a):0>B.l.x&&(B.l.x=Math.min(0,B.l.x+.02*a))}}function Ab(a){a.text="TY#";a.g=1500}
class Z extends P{constructor(a,b,d={}){super(a,{x:16,y:16});this.xa=this.ga=!1;this.text=this.J=null;this.g=0;this.Ca=!1;this.j=b;this.K=!!d.K;this.ga=!!d.ga;this.xa=!!d.xa}update(a){this.Ca||(this.xa&&w(10,{...this.h,y:this.h.y+8}),w(this.j,this.h,!1,this.K),this.J&&w(this.J,this.h,!1),0<this.g&&this.text&&(this.g-=a||0,a=this.g/1500,p({text:this.text,x:this.h.x+8,y:this.h.y-10+3*a,size:1,color:.66<a?m.C:.33<a?m.o:m.B,textAlign:"center"})))}}
let Bb=[[11,6,5],[11,7,5],[11,8,5],[9,6,6],[9,8,6,!0],[10,7,6],[10,7,7],[9,8,7,!0],[9,6,7],[12,12,7,!0]];var Cb=[1,5];fa(["TY#"],[m.C,m.o,m.B],1);
class Db extends zb{constructor(){super(...arguments);this.g=new Z({x:48,y:192},15,{K:!0,xa:!0});this.m=0}s(){this.text="Bring coffee";this.i=Array.from({length:16},()=>[]);this.m=t(Cb,Y());super.s();A(30,30);B.J=[];Bb.forEach(([a,b,d,e=!1])=>{this.i[d][b]=new Z({x:16*b,y:16*d},a,{K:e})});this.g.X=!1;this.i[this.g.h.y/16][this.g.h.x/16]=this.g;for(let a=0;a<this.m;a++){let b=0,d=0,e=!1;for(;!e;){b=Math.floor(20*(.15+.7*Math.random()));d=Math.floor(16*(.15+.7*Math.random()));e=!0;for(let h=-1;1>=h&&
e;h++)for(let k=-1;1>=k&&e;k++)if(this.i[d+h]&&this.i[d+h][b+k]||B.h.x==b+k&&B.h.y==d+h)e=!1}this.i[d][b]=new Z({x:16*b,y:16*d},v[a%v.length],{ga:!0,K:!0})}}wa(){B.J=[]}u(a){this.ia();this.i.flat().forEach(b=>{b.update(a);b.ga&&b.X&&(!b.J&&0<B.J.length?(b.J=13,Ab(b),B.J.pop(),this.i.flat().some(d=>d.ga&&!d.J)||U(this)):b.X=!1)});if(this.g.X&&1>B.J.length)for(;B.J.length<this.m;)B.J.push(14);super.u(a)}ia(){for(let a=0;a<this.v;a++)x({x:-1,y:13*a},{x:321,y:13},m.B,m.H);x({x:180,y:20},{x:130,y:216},
m.B,m.H)}}let Eb=new Db;var Fb=[4,2.5],Gb=[130,200];
class Hb extends mb{constructor(){super(...arguments);this.m={x:.05,y:.05};this.Ba=6;this.G=150;this.Ea=7;this.v=3}s(){super.s();this.text="Off board";var a=Y();this.v=t(Fb,a);this.G=t(Gb,a);this.i=[];for(let d=0;4>d;d++){let e=new Q({x:235*d,y:152},{x:210,y:70});a=e;var b=m.B;a.stroke=m.o||"";a.fill=b||a.stroke;this.i.push(e)}this.A=[new P({x:0,y:246},{x:320,y:10})];this.g=new R({x:320-25*this.v,y:206},1,!1);B.h={x:100,y:70}}u(a){x({x:0,y:216},{x:320,y:40},m.o,m.o);super.u(a);this.i.forEach(b=>{this.F||
(b.h.x-=a*this.G/1E3)});this.F||this.j||(B.h.x-=this.m.x*a*.7)}D(){this.i.forEach((a,b)=>{w(16,u(a.h,16,62));w(16,u(a.h,48,62));w(16,u(a.h,194,62));w(16,u(a.h,162,62));p({text:(4-b).toString(),x:a.h.x+15,y:a.h.y+15,size:6,color:m.o})});this.g?.update(0);this.g&&(w(17,{x:this.g.h.x+16,y:this.g.h.y-32}),w(18,{x:this.g.h.x+16,y:this.g.h.y-16}),w(17,{x:this.g.h.x+64,y:this.g.h.y-32}),w(18,{x:this.g.h.x+64,y:this.g.h.y-16}));super.D()}Ia(a){B.ra?C(3):this.j?C(0):D(a)}}let Ib=new Hb;
class Jb extends mb{constructor(){super(...arguments);this.m={x:.01,y:.05};this.T=10;this.Ba=7.5;this.Fa=1;this.ca={T:[8,12]}}s(){super.s();this.text="Climb up";this.T=Math.round(t(this.ca.T,Y()));this.Ga=Number.MAX_SAFE_INTEGER;this.Ha=-Number.MAX_SAFE_INTEGER;B.h={x:160,y:128+50*this.T-10};this.i=[];for(let a=0;a<this.T;a++)this.i.push(new R({x:95,y:50*a+128},1));this.i.push(new Q(la(this.i[this.i.length-1].h,{x:0,y:50}),{x:130,y:10}));this.A=[new P({x:0,y:50*this.T+138},{x:320,y:256})]}u(a){this.Da=
-B.h.y+128;super.u(a)}D(){super.D();let a=this.A[0].h.y-16;for(let b=0;6>b;b++)w(11,{x:225+16*b,y:a}),w(11,{x:95-16*(b+1),y:a});this.A[0].ia(m.o)}la(){return!this.j&&this.i[0].aa()}}let Kb=new Jb;var Lb=[10,30],Mb=[5E3,2E3];
class Nb extends zb{constructor(){super(...arguments);this.progress=0;this.D=5E3;this.m={x:.2,y:.1};this.g=null;this.A=!1}s(){super.s();this.progress=0;this.text="Stay in";A(160,160);var a=Y();let b=t(Lb,a);this.D=t(Mb,a);this.A=.5<Math.random();a=320*this.m.x;var d=512*this.m.y,e=.6*a,h=.6*d;this.g=new P({x:this.A?192+.1*a+(a-e)/2:64+.2*a,y:128-256*this.m.y+(d-h)/2},{x:e,y:h});this.i=Array.from({length:16},()=>[]);for(a=0;a<b;a++){d=!1;for(h=e=0;!d;){e=Math.floor(20*Math.random());h=Math.floor(16*
Math.random());d=!this.i[h][e];for(let k=-1;1>=k&&d;k++)for(let n=-1;1>=n&&d;n++)B.h.x==16*(e+n)&&B.h.y==16*(h+k)&&(d=!1)}this.i[h][e]=new Z({x:16*e,y:16*h},11)}}u(a){super.u(a);this.i.flat().forEach(b=>b.update());this.F||(1<=this.progress?this.j||(this.g?.W().V?U(this):T(this)):this.progress+=a/this.D,c.save(),this.A||(c.translate(320,0),c.scale(-1,1)),wa(Math.pow(this.progress,3),this.m),c.restore())}}let Ob=new Nb;var Pb=[.2,.2],Qb=[.04,.08];
class Rb extends X{constructor(){super(...arguments);this.m=0;this.A=.07;this.g=3;this.i=this.D=0}s(){super.s();this.text="Spotlight";this.m=160;this.i=0;this.g=.5<Math.random()?3:0;let a=Y();this.A=t(Qb,a);this.D=t(Pb,a)}u(a){super.u(a);x({x:0,y:206},{x:320,y:50},m.B,m.B);w(12,{x:16,y:190},!1,!0);for(var b=0;4>b;b++)w(11,{x:160-32*b-24,y:190}),w(11,{x:32*b+168,y:190});w(19,{x:this.m-8,y:196},!1,1==this.g||0==this.g);c.beginPath();c.moveTo(160,80);c.globalAlpha=1;c.fillStyle=m.o;b=160+512*Math.sin(2*
(this.i+.05)*Math.PI);var d=80+512*Math.cos(2*(this.i+.05)*Math.PI),e=160+512*Math.sin(2*(this.i-.05)*Math.PI),h=80+512*Math.cos(2*(this.i-.05)*Math.PI);c.lineTo(b,d);c.lineTo(320,256);c.lineTo(320,0);c.lineTo(0,0);c.lineTo(0,256);c.lineTo(e,h);c.lineTo(160,80);c.fill();z(160,80,b,d,m.B);z(160,80,e,h,m.B);w(0,{x:152,y:64});w(16,{x:152,y:72});40<Math.abs(this.m-160-144*Math.sin(2*Math.PI*this.i))&&!this.j&&T(this);this.j||this.F||(a*Math.random()<this.D*(0===this.g||3===this.g?1:2)&&(this.g=.5<Math.random()?
Math.abs(this.g-1):this.g+(3===this.g?-1:1)),this.m+=a*this.A*(0===this.g?-1:3===this.g?1:0));256<this.m&&3===this.g?this.g=0:64>this.m&&0===this.g&&(this.g=3)}qa(){U(this)}oa(a){S.P&&(this.i+=2E-4*a);S.O&&(this.i-=2E-4*a);this.i=q(this.i,-.125,.125)}}let Sb=new Rb,Tb=[3E3,2500];function Ub(a){let b=(a.g+a.v-a.G/8)%1;a.m&&(b=(a.g+a.v-(a.G-1+a.A)/8)%1);a=2*b*Math.PI;A(160+60*Math.cos(a)-8,128+60*Math.sin(a)-16)}
class Vb extends X{constructor(){super(...arguments);this.v=this.g=0;this.R=3E3;this.G=-7;this.m=!1;this.A=0;this.i=this.D=!1}s(){super.s();this.L=5;this.R=t(Tb,Y());this.text="Stay dry";B.K=!0;this.G=-7;this.g=0;this.v=Math.cos(2*this.g*Math.PI)/20;this.i=this.D=!1;Ub(this)}qa(){U(this)}u(a){super.u(a);this.F||this.j||(this.g+=a/this.R,this.v=Math.cos(2*this.g*Math.PI)/20,1<=this.g&&--this.g);this.D||this.i||(148<B.h.y?(this.D=!1,this.i=!0,L(()=>T(this),500)):140>B.h.x?(this.D=!0,this.i=!1,L(()=>
T(this),500)):Ub(this));this.i?(B.h.y+=.04*a,B.h.x-=.2*a):this.D&&(B.h.x-=.04*a,B.h.y+=.2*a,153.6<B.h.y&&(this.i=!0));this.m&&(this.A+=a/50,1<this.A&&(this.m=!1,this.A=0));xa(this.g+this.v);B.K=!this.i;this.i?Ca():C(this.m?2:0)}ha(){this.F||this.j||this.m||(this.G++,this.m=!0,this.A=0)}}let Wb=new Vb;
class Xb extends Jb{constructor(){super(...arguments);this.m={x:.3,y:.05};this.ja=3;this.U=[];this.G=0;this.T=5;this.v=!1;this.ca={T:[4,9]}}s(){super.s();this.text=" Escape ";this.U=[];this.v=!1;B.h={x:160,y:128};for(let a=0;a<this.i.length-1;a++)this.U.push(15+30*Math.round(90*Math.random()/2/15))}u(a){this.G+=a/40;super.u(a);this.S&&(this.S=!1,B.l.y=2,B.l.x=0,B.h.y+=a/16*60)}la(){return this.i[this.i.length-1].aa()}D(){super.D();let {x:a,y:b}=this.i[0].h,d=Math.round(this.G/3)%3;for(let e=0;e<this.i.length-
1;e++){let h=this.i[e];w(1<=d?28:29,{x:a-4,y:h.h.y+10*Math.cos(e+1)},!1,0===d%2);w(1<=d?28:29,{x:a+130-4,y:h.h.y+20*Math.cos(e)},!1,0===d%2)}this.i[this.i.length-1].ia(m.H,m.C);this.v=!1;this.U.forEach((e,h)=>{let k=15*Math.round(B.h.x/15)===15*Math.round((a+e-5)/15)&&B.h.y<b+50*h&&B.h.y>b+50*(h-1);this.v||(this.v=k);let n=k?m.C:m.o;c.save();c.translate(a+e,b+50*h);[0,10].forEach(r=>x({x:r,y:0},{x:2,y:50},n,n));for(e=0;6>e;e++)x({x:0,y:6+7*e},{x:10,y:2},n,n);c.restore()})}va(){this.v&&!this.S&&(this.S=
!0)}}let ba=new Xb;
class Yb extends zb{constructor(){super(...arguments);this.g=[]}s(){super.s();let a=t([.8,1.5],Y());A(100,100);this.text="Clean up";this.g=[];var b=320*Math.random()/2+80,d=256*Math.random()/2+64;for(let e=0;150>e;e++){let h=Math.random()*Math.PI*2,k=a*Math.random()*256/6;this.g.push(new Z({x:b+k*Math.cos(h),y:d+k*Math.sin(h)},0==e%2?28:29))}}u(a){for(let b=0;b<this.v;b++)x({x:-1,y:13*b},{x:321,y:13},m.B,m.H);this.g.forEach((b,d)=>{c.save();c.translate(b.h.x+b.size.x/2,b.h.y+b.size.y/2);c.rotate((d%
2?1:-1)*Math.PI/2);c.translate(-(b.h.x+b.size.x/2),-(b.h.y+b.size.y/2));b.update();c.restore();b.W().V&&(b.Ca=!0)});super.u(a);C(4);!this.j&&this.g.every(b=>b.Ca)&&U(this)}}let Zb=new Yb;
class $b extends X{constructor(){super(...arguments);this.g=this.progress=0;this.i=!1;this.m=[-65,255].map(a=>new R({x:a,y:106},2))}s(){super.s();this.L=this.ea=5;this.text="DON'T MOVE";this.g=this.progress=0;this.i=!1}u(a){super.u(a);var b=.98*this.progress+.02*Math.cos(2*this.progress*Math.PI*4);x({x:0,y:196},{x:320,y:60},m.o,m.o);this.m.forEach(h=>h.update());let d=Math.sin(2*this.progress*Math.PI*4);b=Math.floor(t([65,255],b));let e;for(e=0;7>e;e++)w(v[e%3],{x:b-d*e+(this.i?5*this.g*(e%2?1:-1)*
e:0),y:191-14*e*(1-(this.i?this.g*this.g:0))});1>this.progress&&!this.i&&A(b-d*e,191-14*e);this.F||this.j||this.i||(1>this.progress?this.progress+=a/(1E3*(this.ea-1)):A(b-d*e+30*this.g,191-14*e-30*Math.sin(this.g*Math.PI*.98)),1<=this.progress&&1>this.g&&(this.g=Math.min(1,this.g+a/300)),(S.M||S.N||S.O||S.P)&&!this.i&&(console.log("fall"),this.i=!0,this.g=0,L(()=>{T(this)},500)));this.i&&1>this.g&&(this.g=Math.min(1,this.g+a/200),A(b-d*e,191-14*e*(1-this.g)));C(0)}qa(){U(this)}}
let ac=new $b,bc=[{name:"Assistant Dave",ua:"If you want to make it big in Hollywood kid, you better do as I say!",sa:"Is that all you got?",ya:"I guess you're not totally worthless!",ta:"Stop wasting my time kid!"},{name:"Director Leni",ua:"Just do what one tells you, and stay out of my way.",sa:"Hurry, I have not the whole day.",ya:"Obedient and disciplined. You'll get far, child.",ta:"Is there some reason my coffee isn't here?"},{name:"Director Alfred",ua:"Good evening. Are you ready to face your fears?",
sa:"It is time for your final act",ya:"Well done. I must admit, you handled the tension admirably.",ta:"Was this worth the price of admission?"},{name:"Wally",ua:"I've been watching you grow. Show me what you got, ha ha.",sa:"The wheel must keep spinning, ha ha!",ya:"Splendid. I can definitely use you, ha ha!",ta:"This just won't do ha ha"}],cc=[[Eb,Zb,qb,Ib,Kb,yb],[Sb,ub,Kb,qb,Ib,yb],[ac,Ob,Sb,ub,Ib,yb],[ba,Wb,Sb,yb,ac,Ob]],dc=new Set(cc.flat());console.log(dc);
function Wa(){return bc[Math.min(H.j,bc.length-1)]}function kb(){var a=H;3==a.j?f(bb):(a.j++,Sa()<a.j&&Ta(a.j),a.g=-1,a.m=!1,f(Xa))}function hb(a){a.g++;if(a.i)a=a.v[a.g%a.v.length];else{let b=cc[a.j];a=b[a.g%b.length]}f(a)}function Y(){var a=H;let b=a.i?a.g/26:(a.j/3+a.g/12)/2;return Math.min(a.A?.5*b:b,2)}
class ec{constructor(){this.j=this.D=0;this.g=-1;this.F=4;this.i=!0;this.v=[];this.I=this.m=this.A=!1;this.j=Sa();let a=localStorage.getItem("13_terrible_stunts_game_hs")||"";this.D=parseInt(a,10)||0}start(){let a=[...Array.from(dc)];for(let b=a.length-1;0<b;b--){let d=Math.floor(Math.random()*(b+1));[a[b],a[d]]=[a[d],a[b]]}this.v=a;this.g=-1;this.m=!1;hb(this)}}let H=new ec;
class fc{u(){"About;;It's 1924 and you're aiming to become a;movie star. Work yourself up through;grueling jobs to reach your goals.;;;Game developed for js13kgames 2024.;Copyright )lopis.;;Music adapted from 'Batty McFaddin';by Kevin MacLeod';CC BY 3.0';;# Special thanks to the js13k community,;# to the js13k organizers,;# and the friends who helped testing".split(";").forEach((a,b)=>{p({text:a,x:20,y:0===b?20:40+10*b,size:0===b?3:1,color:0===b?m.o:m.C})})}$(){f(db)}}
let gc=new fc,hc=["start  ","about  "];
class ic{constructor(){this.g=0;this.j=!1;document.addEventListener("click",()=>this.j=!0)}s(){Qa()}wa(){}u(){["THIRTEEN","TERRIBLE","STUNTS"].forEach((a,b)=>[m.B,m.C].forEach((d,e)=>{p({text:a,x:160-e,y:40+15*b-e,textAlign:"center",color:d,size:2})}));hc.forEach((a,b)=>{p({text:(b===this.g?"& ":"  ")+a,x:160,y:120+16*b,textAlign:"center",color:b===this.g?m.C:m.o,size:1})});this.j&&[m.B,m.C].forEach((a,b)=>{p({text:"Use  Enter + WASD/Arrows  to play",x:160,y:100-b,textAlign:"center",color:a,size:1})});
c.save();c.globalAlpha=.5;c.translate(.5,.5);c.rotate(-25);c.scale(8,8);w(2,{x:3,y:13});c.restore();p({text:"Press Enter to start",x:160,y:241,textAlign:"center",color:m.o,size:1})}ha(){this.g--;0>this.g&&(this.g=hc.length-1)}va(){this.g++;this.g>hc.length-1&&(this.g=0)}$(){0===this.g?(H.i=!0,H.g=-1,H.F=4,f(bb)):1===this.g&&f(gc)}}let db=new ic;function jc(a,b,d){H.I||a.g.set(b.code,d);d||("Escape"===b.key&&(g.g!=db&&f(db),H.I=!1),"KeyP"===b.code&&(H.I=!H.I))}
class kc{constructor(){this.Z=this.fa=this.Y=this.P=this.O=this.N=this.M=!1;this.g=new Map;this.j={M:this.M,N:this.N,P:this.P,O:this.O,Y:this.Y,fa:this.fa,Z:this.Z};document.addEventListener("keydown",a=>jc(this,a,!0));document.addEventListener("keyup",a=>jc(this,a,!1));this.i=new DOMPoint}u(a){this.j.M=this.M;this.j.N=this.N;this.j.Y=this.Y;this.j.fa=this.fa;this.j.Z=this.Z;let b=this.g.get("KeyA")||this.g.get("KeyQ")||this.g.get("ArrowLeft")?-1:0,d=this.g.get("KeyD")||this.g.get("ArrowRight")?1:
0,e=this.g.get("KeyW")||this.g.get("KeyZ")||this.g.get("ArrowUp")?-1:0,h=this.g.get("KeyS")||this.g.get("ArrowDown")?1:0;this.i.x=b+d||0;this.i.y=e+h||0;this.M=0>this.i.y;this.N=0<this.i.y;this.O=0>this.i.x;this.P=0<this.i.x;this.Y=!!this.g.get("Enter")||!!this.g.get("Space");this.fa=!!this.g.get("Escape");this.Z=!!this.g.get("KeyE");this.M&&(this.j.M||"function"==typeof a.ha&&a.ha());this.N&&(this.j.N||"function"==typeof a.va&&a.va());this.P&&(this.j.P||"function"==typeof a.Oa&&a.Oa());this.O&&(this.j.O||
"function"==typeof a.Na&&a.Na());this.Y&&(this.j.Y||"function"==typeof a.$&&a.$())}}let S=new kc;document.querySelector('link[type="image/x-icon"]').href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E\ud83c\udf9e%3C/text%3E%3C/svg%3E";let lc=0,mc=[];
function nc(a){a=performance.now();let b=a-lc;H.m&&(b*=1.3);lc=a;mc.push(1E3/b);15===mc.length&&(fps.innerHTML=`${Math.round(mc.reduce((d,e)=>d+e)/15)} FPS`,mc=[]);c.clearRect(0,0,320,256);c.fillStyle=m.H;c.fillRect(0,0,320,256);H.I&&(b=0);a=g.g;S.u(a);a.u(b);a.Ka&&a.Ka(b);Ua(b);H.I&&ya()}(async function(){await sa();for(let a=1;13>=a;a++)fa([`Level ${(" "+a).slice(-2)}`],[m.C],4)})().then(()=>{g=new aa(...[]);setInterval(nc,16)});
