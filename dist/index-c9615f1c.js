let h=[[6,5,3,3,5,5,0,5,-2,0,-2,0,6,3,2,3],[4,3,5,4,3,5,6,4,3,5,4,3,5,6,4,3],[3,2,3,6,0,-2,0,-2,5,0,5,5,3,3,5,6]],k=[[2,3,2.5,4],[4,3.5,3,2.5],[4,2.5,3,2]],l=(a,b)=>c=>Math.sin(60*Math.pow(10,-(c+1)/2048%8))/8+Math.tan(Math.cbrt(Math.sin(c*a[c>>13&15]/30)))/[2,3,4,6,8,12,16,24][c/[1,1.5][c>>12&1]>>10&7]/32+Math.cbrt(Math.asin(Math.sin(c/b[c>>16&3]/10)))/64;
class r{constructor(){this.source=null;this.i=[];this.g=new AudioContext;for(let a=0;3>a;a++){let b=h[a%h.length],c=k[a%h.length],d=32E3*(b.length+.4)/2,f=this.g.createBuffer(1,d,32E3),e=f.getChannelData(0);for(let g=0;g<d;g++)e[g]=l(b,c)(g);this.i.push(f)}}start(){this.g=new AudioContext;this.source=this.g.createBufferSource();this.source.buffer=this.i[0];this.source.connect(this.g.destination);this.source.loop=!0;this.source.start()}}
let t,y=a=>a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(b,c,d,f,e)=>"#"+c+c+d+d+f+f+e+e).substring(1).match(/.{2}/g).map(b=>parseInt(b,16)),z=" 2rwzo  58jgo jp1dr jz6rj 2pav8 dehn9 34ao 3o b28 3k 20o0o 9a7vy jbmjj jhza7 ivhmm etrs7 ju8e7 jalrz jyn66 jwdj3 jwdlv 2t8g 2t8s 34yo lskg m2yo jf4lo jysjy 98ruh j8htq 9v7zj j8d32 ju78f ju8t4 9ul2n g44e1 8tjm6 jewdq g4rbt fgsgv hha5t g6xgz 98rou j8d7c 98uwe j8d7d 9x3i6 jfm2s g3zn2 g3z9g b1ipn h4qu3 c8oz2 jhyfz    ".split(" "),A={},aa=({text:a,x:b,
y:c,color:d=B.G,textAlign:f="left",size:e=2})=>{var g=C.g;a||=" ";let m=5*e,I=m+1*e,n=I*a.length,u=a+d,J="left"===f?0:"center"===f?n/2:n;if(A[u])g.drawImage(A[u],b-J,c);else{let p=new ImageData(n,m),[U,V,W,X]=y(d);a.toUpperCase().split("").forEach((v,Y)=>{String(parseInt(" "===v?"0":z[v.charCodeAt(0)-35],36).toString(2)).padStart(25,"0").split("").forEach((q,Z)=>{if("0"!==q)for(q=0;q<e;q++){var w=Z*e;w=4*(Y*I+w%m+e*n*Math.floor(w/m)+n*q);for(let D=0;D<e;D++){let x=4*D+w;p.data[x]=U;p.data[x+1]=V;
p.data[x+2]=W;p.data[x+3]=X||255}}})});createImageBitmap(p).then(v=>{A[u]=v;g.drawImage(A[u],b-J,c)})}},B={G:"#2e2622",M:"#cccec7",H:"#77746f",I:"#a09f97"},ba=Object.values(B).join("").replace(/#/g,""),ca="@@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@TUUUADijjVPdjjZDPUUUQ@TUUA@PA@E@@@@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@TUUUADijjVPdjjZDPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjVPdjjZDQUUUQ@TUUA@@EPA@@T@E@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUEPijjFQdjjZDQUUUA@TUUA@@EPA@@T@@@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUEPijjFQdjjZDQUUUA@TUUA@@E@E@@T@T@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjVPdjjZDQUUUQ@TUUA@@E@E@@T@T@@@@PA@".split(" "),
E=(a,{x:b,y:c})=>{var d=C.g;let f=[];[...a].map(e=>{e=e.charCodeAt(0);f.push(e&3);f.push(e>>2&3);f.push(e>>4&3)});a=Math.floor(Math.sqrt(f.length));for(let e=0;e<a;e++)for(let g=0;g<a;g++)if(f[e*a+g]){let m=6*(f[e*a+g]-1);d.fillStyle="#"+ba.substring(m,m+6);d.fillRect(b+g,c+e,1,1)}};function F(a,b,c){var d=C;d.g.strokeStyle=B.H;d.g.fillStyle=c;d.g.fillRect(a.x,a.y,b.x,b.y);d.g.strokeRect(a.x+.5,a.y+.5,b.x,b.y)}
class da{constructor(){this.g=c2d.getContext("2d");let a=()=>{var b=Math.min(window.innerHeight,window.innerWidth);b=Math.max(1,Math.min(b/260,b/320));c2d.style.height=`${260*b}px`;c2d.style.width=`${320*b}px`};window.addEventListener("resize",a);a();c2d.classList.remove("hidden")}}let C=new da;function G(a){var b=H,c=[];b.g=a;b.g.F?.(...c)}class ea{constructor(...a){this.g=K;this.g.F?.(...a)}}let H;function fa(a){var b=L;b.g+=a;60<=b.g&&(b.i=(b.i+1)%6,b.g-=60);E(ca[b.i],b.h)}
class ha{constructor(){this.i=this.g=0;this.size={x:16,y:16};this.h={x:0,y:0}}}let L=new ha;
class ia{constructor(){this.m=this.o=this.v=this.u=this.s=this.l=!1;this.g=new Map;this.i={l:this.l,s:this.s,v:this.v,u:this.u,o:this.o,m:this.m};document.addEventListener("keydown",a=>{this.g.set(a.code,!0)});document.addEventListener("keyup",a=>{this.g.set(a.code,!1)});this.j=new DOMPoint}A(a){this.i.l=this.l;this.i.s=this.s;this.i.o=this.o;this.i.m=this.m;let b=this.g.get("KeyA")||this.g.get("ArrowLeft")?-1:0,c=this.g.get("KeyD")||this.g.get("ArrowRight")?1:0,d=this.g.get("KeyW")||this.g.get("ArrowUp")?
-1:0,f=this.g.get("KeyS")||this.g.get("ArrowDown")?1:0;this.j.x=b+c||0;this.j.y=d+f||0;this.l=0>this.j.y;this.s=0<this.j.y;this.u=0>this.j.x;this.v=0<this.j.x;this.o=!!this.g.get("Enter");(this.m=!!this.g.get("Escape"))&&G(K);this.l&&(this.i.l||"function"==typeof a.L&&a.L());this.s&&(this.i.s||"function"==typeof a.K&&a.K());this.v&&(this.i.v||"function"==typeof a.R&&a.R());this.u&&(this.i.u||"function"==typeof a.P&&a.P());this.o&&(this.i.o||"function"==typeof a.J&&a.J());this.m&&(this.i.m||"function"==
typeof a.O&&a.O())}}let M=new ia;function N(a){return.1>a&&-.1<a?0:a}function ja(a){var b=L;let c=b.h.x+b.size.x,d=b.h.y+b.size.y,f=a.h.y+a.size.y;return b.h.x<a.h.x+a.size.x&&c>a.h.x&&b.h.y<f&&d>a.h.y}class O{constructor(a,b){this.h=a;this.size=b}}
function ka(a){F(a.h,a.size,B.I);[0,50,100,150].forEach(b=>{let [c,d]=[{x:a.h.x-1,y:a.h.y+b},{x:a.size.x+2,y:6}];F(c,d,B.H)});for(let b=0;3>b;b++)for(let c=0;5>c;c++)C.g.save(),C.g.translate(a.h.x+8+25*c,a.h.y+14+50*b),F({x:0,y:0},{x:14,y:12},B.M),F({x:0,y:12},{x:14,y:12},B.M),C.g.restore()}class P extends O{constructor(a){super(a,{x:130,y:200})}}
function la(a,b){M.l&&2>a.C&&(M.i.l?100>a.j&&(a.j+=b,a.g.y=-7):(a.j=0,a.g.y=Math.min(0,a.g.y),a.C++));a.B&&(M.u?a.g.x-=a.i.x*b:M.v?a.g.x+=a.i.x*b:0==a.g.y&&(0<a.g.x?a.g.x=Math.max(0,a.g.x-a.i.x*b):0>a.g.x&&(a.g.x=Math.min(0,a.g.x+a.i.x*b))))}
class ma{constructor(){this.g={x:0,y:0};this.i={x:.3,y:.05};this.C=this.j=0;this.D=[];this.N=new O({x:0,y:c2d.height},{x:c2d.width,y:10});this.B=!1}F(){L.h={x:0,y:50};this.D.push(new P({x:2,y:116}),new P({x:c2d.width-102,y:136}))}A(a){ja(this.N)&&G(K);la(this,a);this.g={x:N(Math.max(Math.min(this.g.x,4),-4)),y:N(this.g.y)};L.h={x:Math.max(Math.min(Math.round(L.h.x+this.g.x),c2d.width-16),0),y:Math.max(Math.min(Math.round(L.h.y+this.g.y),c2d.height),0)+1};let b=this.D.find(c=>{var d=L;let f=d.h.x+
d.size.x,e=d.h.y+d.size.y,g=c.h.y+2;return d.h.x<c.h.x+c.size.x&&f>c.h.x&&d.h.y<g&&e>=c.h.y});this.D.forEach(c=>{ka(c)});b?(L.h.y=b.h.y-16,this.C=this.j=this.g.y=0,this.B=!0):(this.g.y+=this.i.y*a,this.B=!1);0===this.g.x&&0===this.g.y?E("@@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@E@T@@T@PA@",L.h):0===this.g.y?fa(a):0<this.g.y?E("@@@@@@@@@@@@@@@@@TUUA@djjZ@PjjjA@ijjF@dZjY@PjjjA@iZeF@TUUU@TjjjEDijjFQTUUUD@UUU@@@EPA@",L.h):0>this.g.y&&E("@TUUA@djjZ@PjifA@ijjF@djUZ@PjjjQ@ijjFATUUUATjjjADiejFPTUUU@@UUU@@PAU@@@@U@@@@T@@@@@@@@",
L.h)}}let Q=["new game","continue","levels","about"];class na{constructor(){this.g=0}F(){t&&t?.source?.stop()}A(){Q.forEach((a,b)=>{aa({text:a,x:c2d.width/2,y:80+16*b,textAlign:"center",color:b===this.g?B.G:B.I})})}L(){console.log("up");this.g--;0>this.g&&(this.g=Q.length-1)}K(){console.log("down");this.g++;this.g>Q.length-1&&(this.g=0)}J(){0===this.g&&G(new ma)}}let K=new na;document.querySelector('link[type="image/x-icon"]').href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E\ud83c\udf9e%3C/text%3E%3C/svg%3E";
H=new ea(...[]);let R=0,S=[];t=new r;function T(a){let b=a-R;R=a;S.push(1E3/b);15===S.length&&(fps.innerHTML=`${Math.round(S.reduce((c,d)=>c+d)/15)} FPS`,S=[]);C.g.clearRect(0,0,c2d.width,c2d.height);a=H.g;M.A(a);a.A(b);requestAnimationFrame(T)}requestAnimationFrame(T);
