function d(a){var b=h,c=[];b.g.la?.();b.g=a;b.g.m?.(...c)}class aa{constructor(...a){this.g=k;this.g.m?.(...a)}}
let h,ba=a=>a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(b,c,e,f,g)=>"#"+c+c+e+e+f+f+g+g).substring(1).match(/.{2}/g).map(b=>parseInt(b,16)),ca="6v7ic 2rwzo 6nvic 58jgo 55eyo jz6bo   34ao 7k b28 m0 20o0o 9a7vy jbmjj jf63j ivhmn etrs7 ju8e7 jalrz jeyks jwdj3 jwdlv 2t8g 2t8s 34yo lskg m2yo jf4lo jysjy 98ruh j8htq 9v7zj j8d32 ju78f ju8t4 9ul2n g44e1 jykrj jewdq g4rbt fgsgv hha5t g6xgz 98rou j8d7c 98uwe j8d7d 9xgxq jykqs g3zn2 g3z9g b1ipn h4qu3 c8oz2 jhyfz    ".split(" "),n={},da=async(a,b,
c)=>{let e=a+c+b;if(!n[e]){var f=5*b,g=1*b,l=f+g,m=l*a.length-g,q=new ImageData(m,f),[A,y,z,F]=ba(c);a.replace("!","@").toUpperCase().split("").forEach((G,Ya)=>{String(parseInt(" "===G?"0":ca[G.charCodeAt(0)-35],36).toString(2)).padStart(25,"0").split("").forEach((H,Za)=>{if("0"!==H)for(H=0;H<b;H++){var N=Za*b;N=4*(Ya*l+N%f+b*m*Math.floor(N/f)+m*H);for(let ha=0;ha<b;ha++){let O=4*ha+N;q.data[O]=A;q.data[O+1]=y;q.data[O+2]=z;q.data[O+3]=F||255}}})});a=await createImageBitmap(q);n[e]=a}},ea=(a,{text:b,
color:c=p.A,textAlign:e="left",textBaseline:f="top",size:g=2,Aa:l=999,...m})=>{let q=Math.round(m.x),A=Math.round(m.y);b||=" ";let y=5*g;var z=1*g;m=y+z;z=m*b.length-z;let F=b+c+g,G="left"===e?0:"center"===e?Math.round(z/2):z;e="top"===f?0:"middle"===f?Math.round(y/2):y;n[F]?(b=l*m,a.drawImage(n[F],0,0,b,m,q-G,A-e,b,m)):da(b,g,c).then(()=>{a.drawImage(n[F],q-G,A)})},fa=(a,b,c)=>{a.forEach(e=>{b.forEach(f=>da(e,c,f))})};function r(a){return.1>a&&-.1<a?0:a}
function ia(){var a=ja;let b=RegExp("(.{1,40})(\\s|$)","g"),c=[],e;for(;null!==(e=b.exec(a));)c.push(e[1].trim());return c}function ka(a){return{x:Math.round(a.x),y:Math.round(a.y)}}function la({x:a,y:b},c){return{x:a+c.x,y:b+c.y}}function ma(a){let b={...a};Object.keys(b).forEach(c=>{b[c]*=1+.3*Math.random()});return b}let t=(a,b)=>({x:a.x+b,y:a.y+62}),p={A:"#1F0A00",F:"#FFFCEA",B:"#A29782",D:"#CEC6AD"},na=Object.values(p).join("").replace(/#/g,"");p.A.repeat(4);
let oa="@@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@E@T@@T@PA@ @@@@@@@@@@@@@@@@@TUUA@djjZ@PjjjA@ijjF@dZjY@PjjjA@iZeF@TUUU@TjjjEDijjFQTUUUD@UUU@@@EPA@ @TUUA@djjZ@PjifA@ijjF@djUZ@PjjjQ@ijjFATUUUATjjjADiejFPTUUU@@UUU@@PAU@@@@U@@@@T@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@PUUUA@YijZ@eejjFUVjjZEYiZfEdfffFPZZfYUiiijUUUUUE@D@@@@@U@@@ @@@@@@@UUE@@UUUA@ijjU@dfZZAPjYjE@iifV@ifZZAdjjjFPjUeZ@iZUjAPjjjA@TejU@UijUEUUjUUTUUUUA @@@@@@PUUE@PeZUAPijjU@ijjVAeUVYUTjifVQijjZEejjjUPjUjVAijjZ@PjjZ@@TiU@@@dF@@PUVUAPUUUU@ @TUU@@djjF@djjjAPUUUF@ijjV@djjjAPVjeF@ijjZ@djjjAPjUjF@djjF@@ejF@@@iF@@TeZU@TUYUEPUUUU@ @PA@E@PU@UAPUUUU@UiVUAPijUA@djZA@PfiF@@YfZ@@djjATdjjFPejjZ@djjZ@@UUU@@@@U@@@@UE@@PUUE@ p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@ @\u007f\u007f\u007fC@kjjz@kjjjNkjjjjojjjj~jjjjzkjjjjojjjj~kjjj~{jjjns~\u007f\u007foCljjjCp\u007f\u007f\u007fO@kCpz@lN@kCp\u007f@|O@ @p\u007fO@@|jjO@ljzjCpjznNpjjnjCknjjNlnkjzpjkzjskjzn~ojjnzokjjz~z\u007f\u007f\u007fzkjjjj\u007f\u007f\u007f\u007f\u007f\u007fjjjjz|\u007f\u007f\u007f\u007f@ @pOpO@pjsjC@kNkNLlzozpC\u007fj\u007f@{sjz@l~kjCpzojN@{s\u007f\u007f@|@pN@p@pjC@@p~{@@pNpN@pN@lCpN@@{@O@@pC @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|C@@@pW@@@@\u007fC@@@|K@@@@J@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@TUE@@djjA@d~\u007fZ@T^UmAdZUUFPfVUZ@YjjjEtjjjfQujj^Fi}\u007f_ZPZUUZ@djjZ@@UUU@@@@@@@ PUUUU@ijjjAdjjjFPjjjZ@UUUUAt\u007f\u007f\u007fGPUUu^@@@P\u007fAPUEmGPTVt_@QYQ\u007fADeE}G@TUt_@UUU\u007fAt\u007f\u007f\u007fGPUUUU@ @@\u007fC@@pkzC@pz\u007fz@p~\u007f\u007fNp~\u007f\u007foC{\u007f\u007f\u007fN{\u007f\u007f\u007foo\u007f\u007f\u007f\u007f~~\u007f\u007f\u007f{{\u007f\u007f\u007fos~\u007f\u007foC{\u007f\u007f\u007fNp~\u007f\u007fN@l~oN@@ojO@@@\u007fC@@ @@@@@@TUUA@TejZATUffEPUYZV@UejZAPeZiA@djjF@PUUU@PijjEPdjjFAQjjZDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUA@PjjZ@@ijjA@dZZF@PjiY@@iZiA@djjF@PUUU@PiZiEPdjjFAQUUUDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUA@PUUU@@ijjA@TUUE@PZiU@@ijjA@djjF@PUUU@PUUVEPTUYEAQUUUDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@@@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@E@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@@@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@".split(" "),pa=
[],qa=[],ra=[],sa=[];async function ta(a,b){let c=[];[...b].map(g=>{g=g.charCodeAt(0);c.push(g&3);c.push(g>>2&3);c.push(g>>4&3)});b=Math.floor(Math.sqrt(c.length));let e=new ImageData(b,b);for(let g=0;g<b;g++)for(let l=0;l<b;l++)if(c[g*b+l]){var f=6*(c[g*b+l]-1);let [m,q,A,y]=ba("#"+na.substring(f,f+6));f=4*(l+g*b);e.data[f]=m;e.data[f+1]=q;e.data[f+2]=A;e.data[f+3]=y||255}b=await createImageBitmap(e);pa[a]=b}
function u(a,b,c=!1,e=!1,f=!1){var g=v;if(a=pa[a])g.g.save(),c&&(g.g.filter="brightness(0)"),g.g.translate(b.x+(e?a.width:0),b.y),g.g.save(),g.g.scale(e?-1:1,1),f&&(g.g.beginPath(),g.g.rect(0,0,16,8),g.g.clip()),g.g.drawImage(a,0,0),g.g.restore(),g.g.restore()}function w(a,b){ea(a.g,b)}function ua(){var a=v;a.g.clearRect(0,0,320,260);a.g.fillStyle=p.F;a.g.fillRect(0,0,320,260)}
function x(a,b,c,e,f){let {x:g,y:l}=ka(b);a.g.fillStyle=e;a.g.fillRect(g,l,c.x,c.y);a.g.fillStyle=f||e;a.g.fillRect(g+1,l+1,c.x-2,c.y-2)}function va(a,b,c,e,f){var g=p.B;b=Math.round(b);c=Math.round(c);e=Math.round(e);f=Math.round(f);e-=b;f-=c;let l=Math.max(Math.abs(e),Math.abs(f));e/=l;f/=l;a.g.fillStyle=g;a.g.beginPath();for(g=0;g<=l;g++)a.g.rect(Math.round(b),Math.round(c),3,3),b+=e,c+=f;a.g.fill()}
function wa(){var a=v;a.g.save();a.g.translate(80,80);[{x:12,y:0},{x:0,y:12},{x:12,y:12},{x:24,y:12}].forEach(({x:b,y:c})=>{x(a,{x:b,y:c},{x:10,y:10},p.B,p.D)});w(a,{text:"move",x:18,y:30,textAlign:"center",size:2});a.g.restore();a.g.save();a.g.restore()}function xa(a,b,c){a.g.save();a.g.globalAlpha=.5;a.g.transform(c,-1+c,0,1,0,0);a.g.beginPath();a.g.moveTo(0,260);b.forEach(([e,f])=>{a.g.lineTo(320*e,260*f)});a.g.fillStyle=p.A;a.g.clip();a.g.fillRect(0,0,320,260);a.g.restore()}
function ya(a,b,c){a.g.save();a.g.transform(Math.pow(c,3),.5*(-1+c),0,1,0,0);a.g.beginPath();a.g.moveTo(0,260);b.forEach(([e,f])=>{a.g.lineTo(320*e,260*f)});a.g.fillStyle=p.F;a.g.strokeStyle=p.D;a.g.stroke();a.g.clip();b=Math.round(320/30);a.g.fillRect(0,0,320,260);for(c=0;30>c;c++)a.g.strokeRect(b*c,0,b,260);a.g.restore()}function za(a,b){var c=v;b=[[0,0],[.5,0],[1,.5],[.8,.5],[.8,.5-b.y],[1-(.2+b.x),.5-b.y],[1-(.2+b.x),.5+b.y],[.8,.5+b.y],[.8,.5],[1,.5],[.5,1],[0,1]];xa(c,b,a);ya(c,b,a)}
function Aa(a){var b=v,c=2*Math.PI/8;for(let e=0;8>e;e++){let f=c*(e+8*a);b.g.save();b.g.translate(160,130);va(b,40*Math.cos(f),40*Math.sin(f),40*Math.cos(f+c),40*Math.sin(f+c));va(b,0,0,80*Math.cos(f),80*Math.sin(f));b.g.restore()}c=150+5*Math.sin(2*Math.PI*a);a=150+5*Math.cos(2*Math.PI*a);va(b,0,c,320,a);b.g.beginPath;b.g.moveTo(0,c);b.g.lineTo(320,a);b.g.lineTo(320,260);b.g.lineTo(0,260);b.g.lineTo(0,c);b.g.fill()}
class Ba{constructor(){this.g=c2d.getContext("2d",{alpha:!1});this.g.imageSmoothingEnabled=!1;let a=performance.now();Promise.all(oa.map((b,c)=>ta(c,b))).then(()=>{console.debug(`Loaded icons in ${performance.now()-a}ms`);qa=[16,17,18];ra=[4,5,6,7];sa=[19,20,21,22,23,24]})}}let v=new Ba;function B(a,b){C.h=ka({x:a,y:b})}function Ca(){var a=C;a.h=la(a.h,a.i)}function Da(a){a.G.forEach((b,c)=>{u(b,{...a.h,y:a.h.y-12*(c+1)})})}function D(a){var b=C;u(a,b.h,!1,b.H);Da(b)}
function Ea(a){var b=C;b.g+=a;60<=b.g&&(b.j=(b.j+1)%6,b.g-=60);u(sa[b.j],b.h,!1,b.H);Da(b)}function Fa(){var a=C;u(2,a.h,!1,a.H,!0)}class Ga{constructor(){this.j=this.g=0;this.size={x:16,y:16};this.h={x:0,y:0};this.H=!1;this.G=[];this.ba=!1;this.i={x:0,y:0}}}let C=new Ga,E=[];function I(a,b,c=0,e=0){E.push({za:a,time:b,J:b+e,repeat:c})}function Ha(a){for(let b=E.length-1;0<=b;b--){let c=E[b];c.J-=a;0>=c.J&&(c.za(),0>=c.repeat--?E.splice(b,1):c.J=c.time)}}
function Ia(a=0){return"#".repeat(J.j-a)+"%".repeat(4-(J.j-a))}function K(a){C.i={x:0,y:0};let b=`Oh no! ${Ia()}`,c=`Oh no! ${Ia(1)}`;fa([b,c],[p.A],Math.floor(200/(6*b.length)));a.text=b;a.M=0;a.g=!0;J.j--;I(()=>{a.text=c},200,3,500);I(()=>{a.text=b},200,2,600);1>J.j?(I(()=>{a.$=!0;a.text="you're fired!"},2E3),I(()=>{d(k)},3500)):I(()=>{a.m()},2E3)}function L(a){C.i={x:0,y:0};a.M=0;a.text="Nice!";a.g=!0;I(()=>{Ja()},1500)}
function Ka(a){[[Ia(),"left",7],[Math.round(a.J),"center",160],[`Lvl ${J.g+1}`,"right",313]].forEach(([b,c,e])=>{[p.D,p.A].forEach((f,g)=>{w(v,{text:b.toString(),x:e-g,y:7-g,textAlign:c,color:f,size:2})})});a=2*Math.round(50*a.J/a.qa/2);x(v,{x:160-a/2,y:20},{x:a,y:8},p.A,p.F)}
class La{constructor(){this.g=this.u=!1;this.Z=this.M=0;this.qa=10;this.J=0;this.text="";this.$=!1}m(){this.J=this.qa;this.$=this.g=this.u=!1;this.start()}la(){E=[]}ia(){}start(){this.M=0;this.u=!0}ua(){this.g||K(this)}s(a){this.g||this.u||(this.ia(a),this.J=Math.max(0,this.J-a/1E3),0>=Math.round(this.J)&&this.ua())}xa(a){if(this.g||this.u){this.M+=a;500>=this.M&&(this.Z=-(Math.cos(this.M/500*Math.PI)-1)/2);if(0<this.M){a=320*this.Z-160;let b=260*this.Z-130,c=this.$?p.A:p.F,e=this.$?p.F:p.A;x(v,{x:320-
a-100+8,y:260-b-25+8},{x:200,y:50},p.A);x(v,{x:a-100,y:b-25},{x:200,y:50},p.A,c);w(v,{text:this.text,x:320*this.Z/2,y:130*this.Z,textAlign:"center",textBaseline:"middle",size:Math.floor(200/(6*this.text.length)),color:e})}1E3<this.M&&this.u&&(this.u=!1)}Ka(this)}}
class Ma extends La{constructor(){super(...arguments);this.l={x:.3,y:.05};this.ga=7;this.oa=14;this.C=0;this.L=!0;this.ha=0;this.pa=2;this.j=[];this.o=[];this.v=[];this.K=!0;this.ra=520;this.sa=-260}m(){super.m();Object.assign(C,{H:!1,ba:!1,h:{x:20,y:20},i:{x:0,y:0}})}s(a){!this.g&&this.o.some(b=>b.W().V)&&(C.ba=!0,K(this));[...this.j,...this.o,...this.v].forEach(b=>{b.update(a)});if(!this.g){C.i={x:r(Math.max(Math.min(C.i.x,4),-4)),y:r(C.i.y)};B(Math.max(Math.min(C.h.x+C.i.x,304),0),Math.max(Math.min(C.h.y+
Math.min(this.oa,C.i.y),this.ra),this.sa)+1);let b=this.j.find(c=>c.U());!this.g&&this.v.some(c=>{let {V:e,U:f}=c.W();return e||f})&&L(this);b?(C.h.y=b.h.y-16,this.ha=this.C=C.i.y=0,this.K=!0):(C.i.y+=this.l.y*a,this.K=!1)}this.ta(a);super.s(a)}ta(a){C.ba?D(3):0===C.i.x&&0===C.i.y?D(0):0===C.i.y?Ea(a):0<C.i.y?D(1):0>C.i.y&&D(2)}ia(a){M.I&&this.ha<this.pa&&(!this.K||this.L)?M.j.I?100>this.C&&(this.L=!1,this.C+=a,C.i.y=-this.ga):(this.L=!0,this.C=0,C.i.y=Math.min(0,C.i.y),this.ha++):M.I||(this.L=!0);
this.K&&(M.S?C.i.x-=this.l.x*a:M.T?C.i.x+=this.l.x*a:0==C.i.y&&(0<C.i.x?C.i.x=Math.max(0,C.i.x-this.l.x*a):0>C.i.x&&(C.i.x=Math.min(0,C.i.x+this.l.x*a))))}}
class P{constructor(a,b){this.P=!1;this.h=a;this.size=b}update(){this.P=!1}W(){var a=C.h.x+C.size.x,b=C.h.y+C.size.y,c=this.h.x+this.size.x,e=this.h.y+this.size.y,f=a>this.h.x,g=C.h.y<e;let l=b>this.h.y;f=C.h.x<c&&f&&g&&l;if(!f)return this.P=!1,{V:!1,U:!1,right:!1,left:!1,bottom:!1,top:!1};c-=C.h.x;a-=this.h.x;e-=C.h.y;b-=this.h.y;g=Math.min(c,a,e,b);this.P=!0;return{V:f,U:this.U(),right:g===c,left:g===a,bottom:g===e,top:g===b}}U(){if(0>C.i.y)return!1;let a=C.h.x+C.size.x-3,b=C.h.y+C.size.y,c=this.h.y+
2;return C.h.x+5<this.h.x+this.size.x&&a>this.h.x&&C.h.y<c&&b>=this.h.y}fa(a,b){x(v,this.h,this.size,b||a,a)}}class Q extends P{constructor(a,b,c,e){super(a,b);this.fill=this.stroke=p.A;this.stroke=c||"";this.fill=e||this.stroke}update(){x(v,this.h,this.size,this.stroke,this.fill)}}
class R extends Q{constructor(a,b=3){super(a,{x:130,y:50*b});this.g=0;this.g=b}update(){x(v,this.h,this.size,p.B,p.D);for(let a=0;a<this.g;a++){let [b,c]=[{x:this.h.x-1,y:this.h.y+50*a},{x:this.size.x+2,y:6}];x(v,b,c,p.B);for(let e=0;5>e;e++)v.g.save(),v.g.translate(this.h.x+8+25*e,this.h.y+14+50*a),x(v,{x:0,y:0},{x:14,y:12},p.B,p.F),x(v,{x:0,y:12},{x:14,y:12},p.B,p.F),v.g.restore()}}}
let Na=class extends Ma{constructor(){super(...arguments);this.l={x:.01,y:.05}}m(){super.m();this.text="Jump over";this.j=[new R({x:2,y:116}),new R({x:218,y:136})];this.o=[new P({x:0,y:280},{x:320,y:10})];this.v=[new P({x:218,y:135},{x:130,y:10})]}},S=new Na;
class Oa extends La{constructor(){super(...arguments);this.K=[[-10,-10,10,260],[-10,-10,320,10],[320,-10,10,260],[-10,260,320,10]].map(([a,b,c,e])=>new P({x:a,y:b},{x:c,y:e}));this.j=[]}s(a){super.s(a);this.g||([...this.j,...this.K].forEach(b=>{b=b.W();b.V&&(b.right&&(C.i.x=-C.i.x,C.h.x-=-C.i.x),b.left&&(C.i.x=-C.i.x,C.h.x-=-C.i.x),b.bottom&&(C.i.y=-C.i.y,C.h.y-=-C.i.y),b.top&&(C.i.y=-C.i.y,C.h.y-=-C.i.y))}),Ca(),C.i={x:r(Math.max(Math.min(C.i.x,3),-3)),y:r(Math.max(Math.min(C.i.y,3),-3))});0!=C.i.x||
0!=C.i.y?Ea(a):D(0)}ia(a){M.I?C.i.y-=.02*a:M.N?C.i.y+=.02*a:0<C.i.y?C.i.y=Math.max(0,C.i.y-.02*a):0>C.i.y&&(C.i.y=Math.min(0,C.i.y+.02*a));M.S?(C.i.x-=.02*a,C.H=!0):M.T?(C.i.x+=.02*a,C.H=!1):0<C.i.x?C.i.x=Math.max(0,C.i.x-.02*a):0>C.i.x&&(C.i.x=Math.min(0,C.i.x+.02*a))}}function Pa(a){a.text="TY#";a.g=1500}
class T extends P{constructor(a,b,c={}){super(a,{x:16,y:16});this.ea=this.X=!1;this.text=this.G=null;this.g=0;this.j=b;this.H=!!c.H;this.X=!!c.X;this.ea=!!c.ea}update(a){this.ea&&u(9,{...this.h,y:this.h.y+8});u(this.j,this.h,!1,this.H);this.G&&u(this.G,this.h,!1);0<this.g&&this.text&&(this.g-=a||0,a=this.g/1500,w(v,{text:this.text,x:this.h.x+8,y:this.h.y-10+3*a,size:1,color:.66<a?p.A:.33<a?p.B:p.D,textAlign:"center"}))}}
let Qa=()=>[[8,{x:100,y:101}],[8,{x:132,y:101},!0],[9,{x:116,y:101}],[9,{x:116,y:116}],[8,{x:132,y:116},!0],[8,{x:100,y:116}],[10,{x:100,y:80}],[10,{x:116,y:80}],[10,{x:132,y:80}],[11,{x:200,y:116},!0]].sort((a,b)=>a[1].y-b[1].y);var Ra=[1,5];fa(["TY#"],[p.A,p.B,p.D],1);
class Sa extends Oa{constructor(){super(...arguments);this.C=[];this.o=new T({x:50,y:195},14,{H:!0,ea:!0});this.l=[];this.v=0}m(){0===this.C.length&&(this.C=Qa());this.text="Bring coffee";this.j=[];this.l=[];var a=J.g/12/2;console.log("difficulty",a);for(this.v=Ra[0]+(Ra[1]-Ra[0])*a;this.l.length<this.v;){let b;for(a=!1;!a;)b={x:16*Math.round(320*(.4*Math.random()+.6)/16),y:16*Math.round(260*(.6*Math.random()+.3)/16)},(a=!this.l.some(c=>c.x===b.x&&c.y===b.y))&&this.l.push(b)}super.m();B(30,30);C.G=
[];this.C.forEach(([b,c,e=!1])=>{this.j.push(new T(c,b,{H:e}))});this.l.forEach((b,c)=>{this.j.push(new T(b,qa[c%qa.length],{X:!0}))});this.o.P=!1;this.j.push(this.o)}s(a){this.fa();this.j.forEach(b=>{b.update(a);b.X&&b.P&&(!b.G&&0<C.G.length?(b.G=12,Pa(b),C.G.pop(),this.j.some(c=>c.X&&!c.G)||L(this)):b.P=!1)});if(this.o.P&&1>C.G.length)for(;C.G.length<this.v;)C.G.push(13);super.s(a)}fa(){for(let a=0;20>a;a++)x(v,{x:-1,y:13*a},{x:321,y:13},p.D,p.F);x(v,{x:180,y:20},{x:130,y:220},p.D,p.F)}}let U=new Sa;
var Ta=[100,180],Ua=[4,2.5],Va=[.4,.5];
class Wa extends Na{constructor(){super(...arguments);this.aa=new P({x:136,y:220},{x:48,y:15})}m(){super.m();this.text="Jump over";let a=J.g/12/2,{ya:b,Fa:c,Ea:e}=ma({ya:Ta[0]+(Ta[1]-Ta[0])*a,Fa:Ua[0]+(Ua[1]-Ua[0])*a,Ea:Va[0]+(Va[1]-Va[0])*a});this.o=[new Q({x:0,y:240},{x:320,y:20},p.B)];this.j=[new R({x:-130*e,y:260-b+16}),new R({x:320-130*(1-e),y:260-b+16})];this.v=[new P(this.j[1].h,{x:130,y:1})];this.aa=new P({x:160,y:220},{x:16*c,y:15})}s(a){let {V:b,U:c}=this.aa.W();if(b||c)C.i.y=-C.i.y;let e=
this.aa.h,f=this.aa.size;[{h:{x:e.x+3,y:e.y+f.y-1},size:{x:3,y:8}},{h:{x:e.x-6+f.x,y:e.y+f.y-1},size:{x:3,y:8}},{h:e,size:f}].forEach(({h:g,size:l})=>{x(v,g,l,p.A,p.F)});super.s(a)}}let V=new Wa;class Xa extends Na{m(){super.m();this.text="Land safely";this.o=[new Q({x:0,y:240},{x:320,y:20},p.B)];let a=new Q({x:218,y:235},{x:32,y:5},p.A,p.F);this.v=[a];this.j=[new R({x:-20,y:66},4),a]}}let W=new Xa;var $a=[3,15],ab=[5E3,2E3];
class bb extends Oa{constructor(){super(...arguments);this.progress=0;this.v=5E3;this.l={x:.2,y:.1};this.o=null}m(){super.m();this.progress=0;this.text="Stay in";B(150,150);var a=J.g/12/2;let b=$a[0]+($a[1]-$a[0])*a;this.v=ab[0]+(ab[1]-ab[0])*a;a=320*this.l.x;let c=520*this.l.y,e=.6*a,f=.6*c;this.o=new P({x:192+(a-e)/2,y:130-260*this.l.y+(c-f)/2},{x:e,y:f});this.j=[];for(a=0;a<b;a++)this.j.push(new T({x:16*Math.round(320*Math.random()/16),y:16*Math.round(260*Math.random()/16)},10))}s(a){super.s(a);
this.j.forEach(b=>b.update());this.u||(1<=this.progress?this.g||(this.o?.W().V?L(this):K(this)):this.progress+=a/this.v,za(Math.pow(this.progress,2),this.l))}}let X=new bb;
class cb extends Ma{constructor(){super(...arguments);this.l={x:.05,y:.05};this.ga=6;this.oa=7}m(){super.m();this.text="Land safely";this.j=[];for(let a=0;4>a;a++)this.j.push(new Q({x:235*a,y:150},{x:210,y:70},p.B,p.D));this.o=[new P({x:0,y:250},{x:320,y:10})];this.v=[new P({x:218,y:230},{x:48,y:10})];C.h={x:20,y:70}}s(a){x(v,{x:0,y:225},{x:320,y:35},p.B);this.v[0].fa(p.F,p.A);super.s(a);this.u||this.g||(C.h.x-=this.l.x*a);this.j.forEach(b=>{this.u||(b.h.x-=150*a/1E3);u(15,t(b.h,16));u(15,t(b.h,48));
u(15,t(b.h,194));u(15,t(b.h,162))})}ta(a){C.ba?D(3):this.g?D(0):Ea(a)}}let Y=new cb;function db(a){let b=(a.j+a.L-a.K/8)%1;a.o&&(b=(a.j+a.L-(a.K-1+a.v)/8)%1);a=2*b*Math.PI;B(160+60*Math.cos(a)-8,130+60*Math.sin(a)-16)}
class eb extends La{constructor(){super(...arguments);this.L=this.j=0;this.K=-7;this.o=!1;this.v=0;this.l=this.C=!1}m(){super.m();this.text="Stay dry";C.H=!0;this.K=-7;this.j=0;this.l=this.C=!1;db(this)}ua(){L(this)}s(a){super.s(a);this.u||this.g||(this.j+=a/3E3,this.L=Math.cos(2*this.j*Math.PI)/20,1<=this.j&&--this.j,this.C||this.l||(150<C.h.y?(this.C=!1,this.l=!0,I(()=>K(this),500)):140>C.h.x?(this.C=!0,this.l=!1,I(()=>K(this),500)):db(this)));this.l?(C.h.y+=.04*a,C.h.x-=.2*a):this.C&&(C.h.x-=.04*
a,C.h.y+=.2*a,156<C.h.y&&(this.l=!0));this.o&&(this.v+=a/50,1<this.v&&(this.o=!1,this.v=0));Aa(this.j+this.L);C.H=!this.l;this.l?Fa():D(this.o?2:0)}ma(){this.u||this.g||this.o||(this.K++,this.o=!0,this.v=0)}}let Z=new eb;
class fb extends Ma{constructor(){super(...arguments);this.l={x:.01,y:.05};this.ga=8.5;this.pa=1}m(){super.m();this.text="Climb up";this.ra=Number.MAX_SAFE_INTEGER;this.sa=-Number.MAX_SAFE_INTEGER;C.h={x:160,y:620};this.j=[];for(var a=0;10>a;a++)this.j.push(new R({x:95,y:50*a+130},1));a=this.j[this.j.length-1];this.j.push(new Q(la(a.h,{x:0,y:50}),a.size));this.o=[new P({x:0,y:640},{x:320,y:260})]}s(a){v.g.save();v.g.translate(0,-C.h.y+130);let b=this.o[0].h.y-16;for(let c=0;6>c;c++)u(10,{x:225+16*
c,y:b}),u(10,{x:95-16*(c+1),y:b});this.o[0].fa(p.B);super.s(a);v.g.restore();!this.g&&this.j[0].U()&&L(this)}}
let gb=new fb,hb=[{name:"Assistant Dave",ca:"If you want to make it big in Hollywood kid, you better do as I say!",ja:"Is that all you got?",na:"I guess you're not totally worthless!",ka:"Stop wasting my time kid!"},{name:"Producer Elena",ca:"Just do as you're told and don't get in my way.",ja:"Hurry, I don't have all day",na:"Obedient and disciplined. You'll get far, child.",ka:"Is there some reason my coffee isn\t here?"},{name:"Director Alfred",ca:"Good evening. Are you ready to face your fears?",
ja:"Time for your final act",na:"Well done. I must admit, you handled the tension admirably.",ka:"Was this worth the price of admission?"},{name:"Wally",ca:"I've been following you growth. Show me what you got, ha ha.",ja:"The wheel must keep spinning, ha ha!",na:"Splendid. I can definitely use you, ha ha!",ka:"This just won't do ha ha"}],ib=[[Z,gb,U,S,X,V,W,Y],[Z,gb,U,S,X,V,W,Y],[Z,gb,U,S,X,V,W,Y],[Z,gb,U,S,X,V,W,Y]];
function Ja(){var a=J;a.g++;a.u?(a=Math.floor(Math.random()*ib.length),a=ib[a][Math.floor(Math.random()*ib[a].length)]):a=ib[0][a.g];d(a)}class jb{constructor(){this.g=-1;this.j=4;this.u=!1}}
let J=new jb,kb=(a,b)=>{var c=1+.5*(Math.random()-.5);let e=new AudioContext;var f=3E3*(a+.25);let g=e.createBuffer(1,f,48E3),l=g.getChannelData(0);for(;f--;){let m=3E3*a;l[f]=f>m?0:Math.sin(c*f/25-.5*Math.sin(f/5))*Math.sin(f/(m/a)*Math.PI)*.2}a=e.createBufferSource();a.buffer=g;a.connect(e.destination);a.start();a.onended=b},lb=!1,mb=a=>{lb=!0;let b=a.replace(/[^a-zA-Z\s]/g,"").split(" "),c=0,e=0;console.log(b);let f=()=>{if(lb&&c<b.length){e=performance.now();let g=Math.floor(b[c].replace(/[^a-zA-Z\s]/g,
"").length/2)||1;kb(g,()=>{let l=performance.now()-e;e=performance.now();console.log(c,g,l,"ms");setTimeout(f,Math.max(60*(g+1)-l,0))});c++}else lb=!1};f()},nb=0,ob=0,pb="",ja="",qb;
function rb(a){nb+=a;30<=nb&&(ob++,nb-=30);x(v,{x:5,y:190},{x:310,y:50},p.D,p.F);x(v,{x:8,y:193},{x:304,y:44},p.D,p.F);w(v,{text:pb,x:12,y:197,size:2,color:p.B});ia().forEach((b,c)=>{w(v,{text:b,x:12,y:215+8*c,size:1,Aa:ob-40*c})});v.g.save();v.g.translate(275,200);v.g.save();v.g.scale(2,2);u(qb,{x:0,y:0});v.g.restore();v.g.restore()}class sb{m(){console.log(0,hb[0]);let {name:a,ca:b}=hb[0];pb=a;ja=b;qb=ra[0];ob=nb=0;mb(b)}s(a){wa();rb(a)}da(){lb=!1;Ja()}}
let tb=[[" Story mode /soon/",80],[" Endless mode",160]];
class ub{constructor(){this.g=0}m(){this.g=1}la(){}s(){w(v,{text:"Levels",x:160,y:30,textAlign:"center",color:p.B,size:3});[...tb,["&",0===this.g?tb[0][1]:tb[1][1]]].forEach(([a,b])=>{w(v,{text:a,x:66,y:b,color:p.A,size:2})});w(v,{text:"Press ENTER to start",x:160,y:240,textAlign:"center",color:p.B,size:1});v.g.save();v.g.translate(76,100);[4,5,6,7].forEach((a,b)=>{v.g.save();v.g.scale(2,2);b={x:21*b,y:0};x(v,b,{x:16,y:16},p.D);u(a,b,!0);v.g.restore()});v.g.restore()}da(){0===this.g?d(new sb):Ja()}}
let vb=new ub,wb=[];function xb(a,b){let c=0,e=1.24*2**(a/12),f=4E4*b;return function(){let g=(c*e/2&128)/96-.75;++c;if(!(c>=.2*f))return g*Math.pow(.9999,2*c)}}
let yb=(a,b,c=0)=>a.split(",").flatMap(e=>{let f=b;e.includes("!")&&(f=4);e.includes("_")&&(f=2);let g=[[],4];e=[[e.replace(/!_/g,"").split(" ").flatMap(l=>isNaN(parseInt(l))?[]:[parseInt(l)+c]),f]];for(let l=0;l<f-1;l++)e.push(g);return e}),zb={va:xb,Y:yb("0,4 7,-3,4 7,-3,4 6,-6 4 6!,-3,4 6,-6,4 6,-2,4 7,-5 4 7!,0,4 7,-3,4 7,-3,4 6,-6!,-5,4 6,-6,-1 4 6,0,-3 4 7,-7!".repeat(2),2,1)},Ab=[{va:xb,Y:yb(",".repeat(zb.Y.length/2)+"4,3,4,5,4,3,2,4,3,2,3,4,3!,3,2,3,4,5,4,3,2,2,2,3,3,4!,4,3,4,5,4,3,2,4,3,2,3,4,3!,3,2,3,4,5,4,3,2,0_,-3_,0!",
1,30)},zb];function Bb(){let a=0;for(let b of Ab){let c=b.Y.length+20;c>a&&(a=c)}return a}
class Cb{constructor(){this.startTime=0;this.g=new (window.AudioContext||window.webkitAudioContext);let a=Bb();this.startTime=performance.now();this.j=this.g.createBuffer(1,4915.2*a,4E4);this.source=this.g.createBufferSource();requestAnimationFrame(()=>{let b=this.j.getChannelData(0);for(let f=0;f<b.length;f++){var c=f,e=f/4E4;e=32E3*e|0;if(0==e%4096)for(let g of Ab)if(void 0!==g.Y[e/4096]){let [l,m]=g.Y[e/4096];for(let q of l)wb.push(g.va(q,m))}e=0;for(let g=0;g<wb.length;++g){let l=wb[g]();void 0!==
l?e+=l:wb.splice(g,1)}b[c]=e/8}this.source.buffer=this.j;this.source.connect(this.g.destination);console.log(`Created music buffer in ${performance.now()-this.startTime}ms`)})}}let Db=new Cb,Eb=["start","about"],Fb=["Optimized for Firefox 2+","Asbestos Free","Not tested on animals","Requires MS-DOS 5.0 or later","For up-to 1 players"],Gb="";
class Hb{constructor(){this.g=0}m(){Gb=Fb[Math.floor(Math.random()*Fb.length)]}la(){}s(){["THIRTEEN","TERRIBLE","STUNTS"].forEach((a,b)=>[p.D,p.A].forEach((c,e)=>w(v,{text:a,x:160-e,y:40+15*b-e,textAlign:"center",color:c,size:2})));Eb.forEach((a,b)=>{w(v,{text:a,x:160,y:120+16*b,textAlign:"center",color:b===this.g?p.A:p.B,size:1})});v.g.save();v.g.globalAlpha=.5;v.g.translate(.5,.5);v.g.rotate(-25);v.g.scale(8,8);u(2,{x:3,y:13});v.g.restore();w(v,{text:Gb,x:160,y:245,textAlign:"center",color:p.D,
size:1})}ma(){this.g--;0>this.g&&(this.g=Eb.length-1)}wa(){this.g++;this.g>Eb.length-1&&(this.g=0)}da(){0===this.g&&(J.u=!0,J.g=-1,J.j=4,d(vb),Db.source.start())}}let k=new Hb;
class Ib{constructor(){this.O=this.R=this.T=this.S=this.N=this.I=!1;this.g=new Map;this.j={I:this.I,N:this.N,T:this.T,S:this.S,R:this.R,O:this.O};document.addEventListener("keydown",a=>{this.g.set(a.code,!0)});document.addEventListener("keyup",a=>{this.g.set(a.code,!1)});this.u=new DOMPoint}s(a){this.j.I=this.I;this.j.N=this.N;this.j.R=this.R;this.j.O=this.O;let b=this.g.get("KeyA")||this.g.get("KeyQ")||this.g.get("ArrowLeft")?-1:0,c=this.g.get("KeyD")||this.g.get("ArrowRight")?1:0,e=this.g.get("KeyW")||
this.g.get("KeyZ")||this.g.get("ArrowUp")?-1:0,f=this.g.get("KeyS")||this.g.get("ArrowDown")?1:0;this.u.x=b+c||0;this.u.y=e+f||0;this.I=0>this.u.y;this.N=0<this.u.y;this.S=0>this.u.x;this.T=0<this.u.x;this.R=!!this.g.get("Enter")||!!this.g.get("Space");(this.O=!!this.g.get("Escape"))&&h.g!=k&&d(k);this.I&&(this.j.I||"function"==typeof a.ma&&a.ma());this.N&&(this.j.N||"function"==typeof a.wa&&a.wa());this.T&&(this.j.T||"function"==typeof a.Da&&a.Da());this.S&&(this.j.S||"function"==typeof a.Ca&&a.Ca());
this.R&&(this.j.R||"function"==typeof a.da&&a.da());this.O&&(this.j.O||"function"==typeof a.Ba&&a.Ba())}}let M=new Ib;document.querySelector('link[type="image/x-icon"]').href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E\ud83c\udf9e%3C/text%3E%3C/svg%3E";h=new aa(...[]);let Jb=0,Kb=[];
function Lb(a){let b=a-Jb;Jb=a;Kb.push(1E3/b);15===Kb.length&&(fps.innerHTML=`${Math.round(Kb.reduce((c,e)=>c+e)/15)} FPS`,Kb=[]);ua();a=h.g;M.s(a);a.s(b);a.xa&&a.xa(b);Ha(b);requestAnimationFrame(Lb)}requestAnimationFrame(Lb);
