let aa=a=>a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(b,c,d,g,f)=>"#"+c+c+d+d+g+g+f+f).substring(1).match(/.{2}/g).map(b=>parseInt(b,16)),ba="6v7ic 2rwzo 6nvic 58jgo 55eyo jz6bo   34ao 7k b28 m0 20o0o 9a7vy jbmjj jhza7 ivhmm etrs7 ju8e7 jalrz jyn66 jwdj3 jwdlv 2t8g 2t8s 34yo lskg m2yo jf4lo jysjy 98ruh j8htq 9v7zj j8d32 ju78f ju8t4 9ul2n g44e1 jykrj jewdq g4rbt fgsgv hha5t g6xgz 98rou j8d7c 98uwe j8d7d 9xgxq jyy6c g3zn2 g3z9g b1ipn h4qu3 c8oz2 jhyfz    ".split(" "),e={},h=async(a,b,c)=>
{let d=5*b;var g=1*b;let f=d+g,k=f*a.length-g,m=new ImageData(k,d),[t,w,x,u]=aa(c);a.replace("!","@").toUpperCase().split("").forEach((y,G)=>{String(parseInt(" "===y?"0":ba[y.charCodeAt(0)-35],36).toString(2)).padStart(25,"0").split("").forEach((A,sa)=>{if("0"!==A)for(A=0;A<b;A++){var H=sa*b;H=4*(G*f+H%d+b*k*Math.floor(H/d)+k*A);for(let P=0;P<b;P++){let I=4*P+H;m.data[I]=t;m.data[I+1]=w;m.data[I+2]=x;m.data[I+3]=u||255}}})});g=await createImageBitmap(m);e[a+c+b]=g},ca=(a,{text:b,color:c=l.u,textAlign:d=
"left",textBaseline:g="top",size:f=2,la:k=999,...m})=>{let t=Math.round(m.x),w=Math.round(m.y);b||=" ";let x=5*f;var u=1*f;m=x+u;u=m*b.length-u;let y=b+c+f,G="left"===d?0:"center"===d?Math.round(u/2):u;d="top"===g?0:"middle"===g?Math.round(x/2):x;e[y]?(b=k*m,a.drawImage(e[y],0,0,b,m,t-G,w-d,b,m)):h(b,f,c).then(()=>{a.drawImage(e[y],t-G,w)})},da=(a,b,c)=>{a.forEach(d=>{b.forEach(g=>h(d,c,g))})};function n(a){return.1>a&&-.1<a?0:a}
function ea(){var a=fa;let b=RegExp("(.{1,40})(\\s|$)","g"),c=[],d;for(;null!==(d=b.exec(a));)c.push(d[1].trim());return c}function p(a){return{x:Math.round(a.x),y:Math.round(a.y)}}
let l={u:"#1F0A00",L:"#FFFCEA",m:"#A29782",A:"#CEC6AD"},ha=Object.values(l).join("").replace(/#/g,""),ia=l.u.repeat(4).replace(/#/g,""),ja=["@@@@@@TUUA@TejZATUffEPUYZV@UejZAPeZiA@djjF@PUUU@PijjEPdjjFAQjjZDPUUUE@PAPA@@E@E@@@@@@@","@@@@@@PUUA@PjjZ@@ijjA@dZZF@PjiY@@iZiA@djjF@PUUU@PiZiEPdjjFAQUUUDPUUUE@PAPA@@E@E@@@@@@@","@@@@@@PUUA@PUUU@@ijjA@TUUE@PZiU@@ijjA@djjF@PUUU@PUUVEPTUYEAQUUUDPUUUE@PAPA@@E@E@@@@@@@"],ka="@@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@@@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@E@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@@@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@".split(" ");
function q(a,b,c=!1,d=!1){var g=r;let f=[];c=c?ia:ha;[...a].map(k=>{k=k.charCodeAt(0);f.push(k&3);f.push(k>>2&3);f.push(k>>4&3)});a=Math.floor(Math.sqrt(f.length));g.g.save();g.g.translate(b.x+(d?a:0),b.y);g.g.save();g.g.scale(d?-1:1,1);for(b=0;b<a;b++)for(d=0;d<a;d++)if(f[b*a+d]){let k=6*(f[b*a+d]-1);g.g.fillStyle="#"+c.substring(k,k+6);g.g.fillRect(d,b,1,1)}g.g.restore();g.g.restore()}function v(a,b){ca(a.g,b)}
function z(a,b,c,d,g){let {x:f,y:k}=p(b);a.g.fillStyle=d;a.g.fillRect(f,k,c.x,c.y);a.g.fillStyle=g;a.g.fillRect(f+1,k+1,c.x-2,c.y-2)}
function la(){var a=r;a.g.save();a.g.translate(80,80);[{x:12,y:0},{x:0,y:12},{x:12,y:12},{x:24,y:12}].forEach(({x:b,y:c})=>{z(a,{x:b,y:c},{x:10,y:10},l.m,l.A)});v(a,{text:"move",x:18,y:30,textAlign:"center",size:2});a.g.restore();a.g.save();a.g.translate(200,70);[{text:"enter",y:0},{text:"or",y:12},{text:"shift",y:24}].forEach(({text:b,y:c})=>{"or"!==b&&z(a,{x:0,y:c},{x:40,y:10},l.m,l.A);v(a,{text:b,x:20,y:c+3,size:1,textAlign:"center"})});v(a,{text:"action",x:20,y:40,textAlign:"center",size:2});
a.g.restore()}class ma{constructor(){this.g=c2d.getContext("2d");this.g.imageSmoothingEnabled=!1;window.addEventListener("resize",()=>{})}}let r=new ma;function na(a,b){var c=B;c.h=p({x:c.h.x+a,y:c.h.y+b})}function oa(a){a.v.forEach((b,c)=>{q(b,{...a.h,y:a.h.y-12*(c+1)})})}function C(a){var b=B;q(a,b.h,!1,b.C);oa(b)}function pa(a){var b=B;b.g+=a;60<=b.g&&(b.i=(b.i+1)%6,b.g-=60);q(ka[b.i],b.h,!1,b.C);oa(b)}
function qa(){C("@@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@E@T@@T@PA@")}class ra{constructor(){this.i=this.g=0;this.size={x:16,y:16};this.h={x:0,y:0};this.C=!1;this.v=[]}}let B=new ra;function D(a){var b=E,c=[];b.g=a;b.g.s?.(...c)}class ta{constructor(...a){this.g=F;this.g.s?.(...a)}}let E;
class ua{constructor(){this.F=this.K=this.H=this.G=this.D=this.o=!1;this.g=new Map;this.i={o:this.o,D:this.D,H:this.H,G:this.G,K:this.K,F:this.F};document.addEventListener("keydown",a=>{this.g.set(a.code,!0)});document.addEventListener("keyup",a=>{this.g.set(a.code,!1)});this.j=new DOMPoint}l(a){this.i.o=this.o;this.i.D=this.D;this.i.K=this.K;this.i.F=this.F;let b=this.g.get("KeyA")||this.g.get("KeyQ")||this.g.get("ArrowLeft")?-1:0,c=this.g.get("KeyD")||this.g.get("ArrowRight")?1:0,d=this.g.get("KeyW")||
this.g.get("KeyZ")||this.g.get("ArrowUp")?-1:0,g=this.g.get("KeyS")||this.g.get("ArrowDown")?1:0;this.j.x=b+c||0;this.j.y=d+g||0;this.o=0>this.j.y;this.D=0<this.j.y;this.G=0>this.j.x;this.H=0<this.j.x;this.K=!!this.g.get("Enter")||!!this.g.get("KeyZ");(this.F=!!this.g.get("Escape"))&&D(F);this.o&&(this.i.o||"function"==typeof a.ga&&a.ga());this.D&&(this.i.D||"function"==typeof a.fa&&a.fa());this.H&&(this.i.H||"function"==typeof a.oa&&a.oa());this.G&&(this.i.G||"function"==typeof a.na&&a.na());this.K&&
(this.i.K||"function"==typeof a.V&&a.V());this.F&&(this.i.F||"function"==typeof a.ma&&a.ma())}}let J=new ua,K=[];function L(a,b,c=0,d=0){K.push({ka:a,time:b,X:b+d,repeat:c})}function va(a){for(let b=K.length-1;0<=b;b--){let c=K[b];c.X-=a;0>=c.X&&(c.ka(),0>=c.repeat--?K.splice(b,1):c.X=c.time)}}
function wa(a){let b="#".repeat(M.g)+"%".repeat(3-M.g),c="#".repeat(M.g-1)+"%".repeat(3-(M.g-1)),d=`Oh no! ${b}`,g=`Oh no! ${c}`;da([d,g],[l.u],Math.floor(200/(6*d.length)));a.text=d;a.B=0;a.M=!0;M.g--;L(()=>{a.text=g},200,3,500);L(()=>{a.text=d},200,2,600);1>M.g?(L(()=>{a.text="you're fired!"},2E3),L(()=>{D(F)},3E3)):L(()=>{a.s()},2E3)}function xa(a){a.B=0;a.text="Nice!";a.M=!0;let b=a.constructor.name;console.log("next level",b);L(()=>{console.log("addTimeEvent",b);ya()},1500)}
class za{constructor(){this.M=this.R=!1;this.N=this.B=0;this.text=""}s(){this.M=this.R=!1;this.start()}start(){this.B=0;this.R=!0}l(a){if(this.M||this.R){this.B+=a;500>=this.B&&(this.N=-(Math.cos(this.B/500*Math.PI)-1)/2);if(0<this.B){a=320*this.N-160;let b=260*this.N-130;z(r,{x:320-a-100+8,y:260-b-25+8},{x:200,y:50},l.u,l.u);z(r,{x:a-100,y:b-25},{x:200,y:50},l.u,l.L);v(r,{text:this.text,x:320*this.N/2,y:130*this.N,textAlign:"center",textBaseline:"middle",size:Math.floor(200/(6*this.text.length)),
color:l.u})}1E3<this.B&&this.R&&(this.R=!1)}}}
class Aa extends za{constructor(){super(...arguments);this.g={x:0,y:0};this.ia=4;this.i={x:.3,y:.05};this.$=7;this.j=0;this.ba=100;this.I=0;this.aa=2;this.ca=[];this.Y=[];this.Z=[];this.O=!1}s(){super.s();B.h={x:20,y:20};this.g={x:0,y:0}}l(a){!this.M&&this.Y.some(c=>N(c).S)&&wa(this);!this.M&&this.Z.some(c=>N(c).S)&&xa(this);this.ja(a);this.g={x:n(Math.max(Math.min(this.g.x,this.ia),-this.ia)),y:n(this.g.y)};B.h=p({x:Math.max(Math.min(B.h.x+this.g.x,304),0),y:Math.max(Math.min(B.h.y+this.g.y,260),
0)+1});let b=this.ca.find(c=>{var d=B;let g=d.h.x+d.size.x,f=d.h.y+d.size.y,k=c.h.y+2;return d.h.x<c.h.x+c.size.x&&g>c.h.x&&d.h.y<k&&f>=c.h.y});[...this.ca,...this.Y,...this.Z].forEach(c=>{c.update(a)});b?(B.h.y=b.h.y-16,this.I=this.j=this.g.y=0,this.O=!0):(this.g.y+=this.i.y*a,this.O=!1);0===this.g.x&&0===this.g.y?qa():0===this.g.y?pa(a):0<this.g.y?C("@@@@@@@@@@@@@@@@@TUUA@djjZ@PjjjA@ijjF@dZjY@PjjjA@iZeF@TUUU@TjjjEDijjFQTUUUD@UUU@@@EPA@"):0>this.g.y&&C("@TUUA@djjZ@PjifA@ijjF@djUZ@PjjjQ@ijjFATUUUATjjjADiejFPTUUU@@UUU@@PAU@@@@U@@@@T@@@@@@@@");
super.l(a)}ja(a){J.o&&this.I<this.aa&&(J.i.o?this.j<this.ba&&(this.j+=a,this.g.y=-this.$):(this.j=0,this.g.y=Math.min(0,this.g.y),this.I++));this.O&&(J.G?this.g.x-=this.i.x*a:J.H?this.g.x+=this.i.x*a:0==this.g.y&&(0<this.g.x?this.g.x=Math.max(0,this.g.x-this.i.x*a):0>this.g.x&&(this.g.x=Math.min(0,this.g.x+this.i.x*a))))}}
function N(a){var b=B,c=b.h.x+b.size.x,d=b.h.y+b.size.y,g=a.h.x+a.size.x,f=a.h.y+a.size.y,k=c>a.h.x;let m=b.h.y<f,t=d>a.h.y;k=b.h.x<g&&k&&m&&t;if(!k)return a.J=!1,{S:!1,right:!1,left:!1,bottom:!1,top:!1};g-=b.h.x;c-=a.h.x;b=f-b.h.y;d-=a.h.y;f=Math.min(g,c,b,d);a.J=!0;return{S:k,right:f===g,left:f===c,bottom:f===b,top:f===d}}class O{constructor(a,b){this.J=!1;this.h=a;this.size=b}update(){z(r,this.h,this.size,"#00ff0055","#00ff0022");this.J=!1}}
class Ba extends O{constructor(a){super(a,{x:130,y:200})}update(){z(r,this.h,this.size,l.m,l.A);[0,50,100,150].forEach(a=>{let [b,c]=[{x:this.h.x-1,y:this.h.y+a},{x:this.size.x+2,y:6}];z(r,b,c,l.m,l.m)});for(let a=0;3>a;a++)for(let b=0;5>b;b++)r.g.save(),r.g.translate(this.h.x+8+25*b,this.h.y+14+50*a),z(r,{x:0,y:0},{x:14,y:12},l.m,l.L),z(r,{x:0,y:12},{x:14,y:12},l.m,l.L),r.g.restore()}}
class Ca extends Aa{constructor(){super(...arguments);this.g={x:0,y:0};this.ia=4;this.i={x:.3,y:.05};this.$=7;this.j=0;this.ba=100;this.I=0;this.aa=2;this.O=!1}s(){super.s();this.text="Jump over";this.ca=[new Ba({x:2,y:116}),new Ba({x:218,y:136})];this.Y=[new O({x:0,y:260},{x:320,y:10})];this.Z=[new O({x:218,y:135},{x:130,y:10})]}l(a){super.l(a)}ja(a){J.o&&this.I<this.aa&&(J.i.o?this.j<this.ba&&(this.j+=a,this.g.y=-this.$):(this.j=0,this.g.y=Math.min(0,this.g.y),this.I++));this.O&&(J.G?this.g.x-=
this.i.x*a:J.H?this.g.x+=this.i.x*a:0==this.g.y&&(0<this.g.x?this.g.x=Math.max(0,this.g.x-this.i.x*a):0>this.g.x&&(this.g.x=Math.min(0,this.g.x+this.i.x*a))))}}let Da=new Ca;function Ea(a,b){J.o?a.g.y-=.02*b:J.D?a.g.y+=.02*b:0<a.g.y?a.g.y=Math.max(0,a.g.y-.02*b):0>a.g.y&&(a.g.y=Math.min(0,a.g.y+.02*b));J.G?(a.g.x-=.02*b,B.C=!0):J.H?(a.g.x+=.02*b,B.C=!1):0<a.g.x?a.g.x=Math.max(0,a.g.x-.02*b):0>a.g.x&&(a.g.x=Math.min(0,a.g.x+.02*b))}
class Fa extends za{constructor(){super(...arguments);this.I=[[-10,-10,10,260],[-10,-10,320,10],[320,-10,10,260],[-10,260,320,10]].map(([a,b,c,d])=>new O({x:a,y:b},{x:c,y:d}));this.i=[];this.g={x:0,y:0}}l(a){Ea(this,a);[...this.i,...this.I].forEach(b=>{b=N(b);b.S&&(b.right&&(this.g.x=-this.g.x,B.h.x-=-this.g.x),b.left&&(this.g.x=-this.g.x,B.h.x-=-this.g.x),b.bottom&&(this.g.y=-this.g.y,B.h.y-=-this.g.y),b.top&&(this.g.y=-this.g.y,B.h.y-=-this.g.y))});na(this.g.x,this.g.y);this.g={x:n(Math.max(Math.min(this.g.x,
3),-3)),y:n(Math.max(Math.min(this.g.y,3),-3))};0!=this.g.x||0!=this.g.y?pa(a):qa();super.l(a)}}
class Q extends O{constructor(a,b,c={}){super(a,{x:16,y:16});this.W=this.U=!1;this.text=this.v=null;this.P=0;this.icon=b;this.C=!!c.C;this.U=!!c.U;this.W=!!c.W}update(a){this.W&&q("@\u007f\u007f\u007fC@kjjz@kjjjNkjjjjojjjj~jjjjzkjjjjojjjj~kjjj~{jjjns~\u007f\u007foCljjjCp\u007f\u007f\u007fO@kCpz@lN@kCp\u007f@|O@",{...this.h,y:this.h.y+8});q(this.icon,this.h,!1,this.C);this.v&&q(this.v,this.h,!1);0<this.P&&this.text&&(this.P-=a,a=this.P/1500,v(r,{text:this.text,x:this.h.x+8,y:this.h.y-10+3*a,size:1,
color:.66<a?l.u:.33<a?l.m:l.A,textAlign:"center"}))}}
let R=[["p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@",{x:100,y:101}],["p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@",{x:132,y:101},!0],["@\u007f\u007f\u007fC@kjjz@kjjjNkjjjjojjjj~jjjjzkjjjjojjjj~kjjj~{jjjns~\u007f\u007foCljjjCp\u007f\u007f\u007fO@kCpz@lN@kCp\u007f@|O@",{x:116,y:101}],["@\u007f\u007f\u007fC@kjjz@kjjjNkjjjjojjjj~jjjjzkjjjjojjjj~kjjj~{jjjns~\u007f\u007foCljjjCp\u007f\u007f\u007fO@kCpz@lN@kCp\u007f@|O@",
{x:116,y:116}],["p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@",{x:132,y:116},!0],["p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@",{x:100,y:116}],["@p\u007fO@@|jjO@ljzjCpjznNpjjnjCknjjNlnkjzpjkzjskjzn~ojjnzokjjz~z\u007f\u007f\u007fzkjjjj\u007f\u007f\u007f\u007f\u007f\u007fjjjjz|\u007f\u007f\u007f\u007f@",{x:100,
y:80}],["@p\u007fO@@|jjO@ljzjCpjznNpjjnjCknjjNlnkjzpjkzjskjzn~ojjnzokjjz~z\u007f\u007f\u007fzkjjjj\u007f\u007f\u007f\u007f\u007f\u007fjjjjz|\u007f\u007f\u007f\u007f@",{x:116,y:80}],["@p\u007fO@@|jjO@ljzjCpjznNpjjnjCknjjNlnkjzpjkzjskjzn~ojjnzokjjz~z\u007f\u007f\u007fzkjjjj\u007f\u007f\u007f\u007f\u007f\u007fjjjjz|\u007f\u007f\u007f\u007f@",{x:132,y:80}],["@pOpO@pjsjC@kNkNLlzozpC\u007fj\u007f@{sjz@l~kjCpzojN@{s\u007f\u007f@|@pN@p@pjC@@p~{@@pNpN@pN@lCpN@@{@O@@pC",{x:200,y:116},!0]];
R=R.sort((a,b)=>a[1].y-b[1].y);let Ga=[{x:260,y:116}];da(["TY#"],[l.u,l.m,l.A],1);function Ha(){for(let a=0;20>a;a++)z(r,{x:-1,y:13*a},{x:321,y:13},l.A,l.L);z(r,{x:180,y:20},{x:130,y:220},l.A,l.L)}
class Ia extends Fa{constructor(){super(...arguments);this.j=new Q({x:50,y:195},"PUUUU@ijjjAdjjjFPjjjZ@UUUUAt\u007f\u007f\u007fGPUUu^@@@P\u007fAPUEmGPTVt_@QYQ\u007fADeE}G@TUt_@UUU\u007fAt\u007f\u007f\u007fGPUUUU@",{C:!0,W:!0})}s(){this.text="Bring coffee";this.i=[];super.s();B.h=p({x:30,y:30});B.v=[];R.forEach(([a,b,c=!1])=>{this.i.push(new Q(b,a,{C:c}))});Ga.forEach((a,b)=>{this.i.push(new Q(a,ja[b],{U:!0}))});this.j.J=!1;this.i.push(this.j)}l(a){Ha();this.i.forEach(b=>{b.update(a);b.U&&b.J&&(!b.v&&
0<B.v.length?(b.v="@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|C@@@pW@@@@\u007fC@@@|K@@@@J@@@@@@@@@@@@@@@@@",b.text="TY#",b.P=1500,B.v.pop(),xa(this)):b.J=!1)});this.j.J&&1>B.v.length&&B.v.push("@@@@@@@@@@@@TUE@@djjA@d~\u007fZ@T^UmAdZUUFPfVUZ@YjjjEtjjjfQujj^Fi}\u007f_ZPZUUZ@djjZ@@UUU@@@@@@@");super.l(a)}}
let Ja=new Ia,Ka=[{name:"Assistant Dave",T:"If you want to make it big in Hollywood kid, you better do as I say!",da:"Is that all you got?",ha:"I guess you're not totally worthless!",ea:"Stop wasting my time kid!",icon:"@@@@@@@UUE@@UUUA@ijjU@dfZZAPjYjE@YiVV@deZYAPjjjF@iUeZ@dZUjA@ijjA@PUUA@TjjZAdjjjZPUUUUA"},{name:"Producer Elena",T:"Just do as you're told and don't get in my way.",da:"Hurry, I don't have all day",ha:"Obedient and disciplined. You'll get far, child.",ea:"Is there some reason my coffee isn\t here?",
icon:"@@@@@@PUUE@PeZUAPijjU@ijjVAeUVYUTjifVQijjZEejjjUPjUjVAijjZ@PjjZ@@TiU@@@dF@@PUVUAPUUUU@"},{name:"Director Alfred",T:"Good evening. Are you ready to face your fears?",da:"Time for your final act",ha:"Well done. I must admit, you handled the tension admirably.",ea:"Was this worth the price of admission?",icon:"@TUU@@djjF@djjjAPUUUF@ijjV@djjjAPVjeF@ijjZ@djjjAPjUjF@djjF@@ejF@@@iF@@TeZU@TUYUEPUUUU@"},{name:"Wally",T:"I've been following you growth. Show me what you got, ha ha.",da:"The wheel must keep spinning, ha ha!",
ha:"Splendid. I can definitely use you, ha ha!",ea:"This just won't do ha ha",icon:"@PA@E@PU@UAPUUUU@UiVUAPijUA@djZA@PfiF@@YfZ@@djjATdjjFPejjZ@djjZ@@UUU@@@@U@@@@UE@@PUUE@"}],La=[[Ja,Da],[Ja,Da]];function ya(){var a=M;a.i++;a.g=3;D(La[a.j][a.i]||F)}class Ma{constructor(){this.j=0;this.i=-1;this.g=3}}
let M=new Ma,S=[[6,5,3,3,5,5,0,5,-2,0,-2,0,6,3,2,3],[4,3,5,4,3,5,6,4,3,5,4,3,5,6,4,3],[3,2,3,6,0,-2,0,-2,5,0,5,5,3,3,5,6]],Na=[[2,3,2.5,4],[4,3.5,3,2.5],[4,2.5,3,2]],Oa=(a,b)=>c=>Math.sin(60*Math.pow(10,-(c+1)/2048%8))/8+Math.tan(Math.cbrt(Math.sin(c*a[c>>13&15]/30)))/[2,3,4,6,8,12,16,24][c/[1,1.5][c>>12&1]>>10&7]/32+Math.cbrt(Math.asin(Math.sin(c/b[c>>16&3]/10)))/64;
class Pa{constructor(){this.source=null;this.i=[];this.g=new AudioContext;for(let a=0;3>a;a++){let b=S[a%S.length],c=Na[a%S.length],d=32E3*(b.length+.4)/2,g=this.g.createBuffer(1,d,32E3),f=g.getChannelData(0);for(let k=0;k<d;k++)f[k]=Oa(b,c)(k);this.i.push(g)}}start(){this.g=new AudioContext;this.source=this.g.createBufferSource();this.source.buffer=this.i[M.i];this.source.connect(this.g.destination);this.source.loop=!0;this.source.start()}}
let T,U=!1,Qa=a=>{U=!0;let b=a.replace(/[^a-zA-Z\s]/g,"").split(" "),c=0,d=()=>{if(U&&c<b.length){var g=d,f=Math.floor(b[c].replace(/[^a-zA-Z\s]/g,"").length/2)||1,k=1+.5*(Math.random()-.5);let t=new AudioContext;var m=3E3*(f+.25);let w=t.createBuffer(1,m,48E3),x=w.getChannelData(0);for(;m--;){let u=3E3*f;x[m]=m>u?0:Math.sin(k*m/25-.5*Math.sin(m/5))*Math.sin(m/(u/f)*Math.PI)*.2}f=t.createBufferSource();f.buffer=w;f.connect(t.destination);f.start();f.addEventListener("ended",g);c++}};d()},V=0,W=0,
Ra="",fa="",Sa="";function Ta(a){V+=a;30<=V&&(W++,V-=30);z(r,{x:5,y:190},{x:310,y:50},l.A,l.L);z(r,{x:8,y:193},{x:304,y:44},l.A,l.L);v(r,{text:Ra,x:12,y:197,size:2,color:l.m});ea().forEach((b,c)=>{v(r,{text:b,x:12,y:215+8*c,size:1,la:W-40*c})});r.g.save();r.g.translate(275,200);r.g.save();r.g.scale(2,2);q(Sa,{x:0,y:0});r.g.restore();r.g.restore()}class Ua{s(){let {name:a,T:b,icon:c}=Ka[M.j];Ra=a;fa=b;Sa=c;W=V=0;Qa(b)}l(a){la();Ta(a)}V(){U=!1;ya()}}let X=[[" Story mode",80],[" Endless mode",160]];
class Va{constructor(){this.g=0}s(){this.g=0;T&&T?.source?.stop()}l(){v(r,{text:"Levels",x:160,y:30,textAlign:"center",color:l.m,size:3});[...X,["&",0===this.g?X[0][1]:X[1][1]]].forEach(([a,b])=>{v(r,{text:a,x:66,y:b,color:l.u,size:2})});v(r,{text:"Press ENTER to start",x:160,y:240,textAlign:"center",color:l.m,size:1});r.g.save();r.g.translate(76,100);["@@@@@@@UUE@@UUUA@ijjU@dfZZAPjYjE@YiVV@deZYAPjjjF@iUeZ@dZUjA@ijjA@PUUA@TjjZAdjjjZPUUUUA","@@@@@@PUUE@PeZUAPijjU@ijjVAeUVYUTjifVQijjZEejjjUPjUjVAijjZ@PjjZ@@TiU@@@dF@@PUVUAPUUUU@",
"@TUU@@djjF@djjjAPUUUF@ijjV@djjjAPVjeF@ijjZ@djjjAPjUjF@djjF@@ejF@@@iF@@TeZU@TUYUEPUUUU@","@PA@E@PU@UAPUUUU@UiVUAPijUA@djZA@PfiF@@YfZ@@djjATdjjFPejjZ@djjZ@@UUU@@@@U@@@@UE@@PUUE@"].forEach((a,b)=>{r.g.save();r.g.scale(2,2);b={x:21*b,y:0};z(r,b,{x:16,y:16},l.A,l.A);q(a,b,!0);r.g.restore()});r.g.restore()}ga(){this.g--;0>this.g&&(this.g=X.length-1)}fa(){this.g++;this.g>X.length-1&&(this.g=0)}V(){0===this.g&&D(new Ua)}}let Wa=new Va,Y=["new game","continue","about"];
class Xa{constructor(){this.g=0}s(){T&&T?.source?.stop()}l(){Y.forEach((a,b)=>{v(r,{text:a,x:160,y:80+16*b-(b===this.g?2:0),textAlign:"center",color:b===this.g?l.u:l.m,size:b===this.g?2:1})})}ga(){this.g--;0>this.g&&(this.g=Y.length-1)}fa(){this.g++;this.g>Y.length-1&&(this.g=0)}V(){0===this.g&&(M.j=0,M.i=-1,D(Wa))}}let F=new Xa;document.querySelector('link[type="image/x-icon"]').href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E\ud83c\udf9e%3C/text%3E%3C/svg%3E";
E=new ta(...[]);let Ya=0,Z=[];T=new Pa;function Za(a){let b=a-Ya;Ya=a;Z.push(1E3/b);15===Z.length&&(fps.innerHTML=`${Math.round(Z.reduce((c,d)=>c+d)/15)} FPS`,Z=[]);r.g.clearRect(0,0,320,260);a=E.g;J.l(a);a.l(b);va(b);requestAnimationFrame(Za)}requestAnimationFrame(Za);
