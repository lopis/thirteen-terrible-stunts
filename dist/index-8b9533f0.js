function d(a){var b=h,c=[];b.g.pa?.();b.g=a;b.g.m?.(...c)}class aa{constructor(...a){this.g=k;this.g.m?.(...a)}}
let h,ba=a=>a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(b,c,e,f,g)=>"#"+c+c+e+e+f+f+g+g).substring(1).match(/.{2}/g).map(b=>parseInt(b,16)),ca="6v7ic 2rwzo 6nvic 58jgo 55eyo jz6bo   34ao 7k b28 m0 20o0o 9a7vy jbmjj jf63j ivhmn etrs7 ju8e7 jalrz jeyks jwdj3 jwdlv 2t8g 2t8s 34yo lskg m2yo jf4lo jysjy 98ruh j8htq 9v7zj j8d32 ju78f ju8t4 9ul2n g44e1 jykrj jewdq g4rbt fgsgv hha5t g6xgz 98rou j8d7c 98uwe j8d7d 9xgxq jykqs g3zn2 g3z9g b1ipn h4qu3 c8oz2 jhyfz    ".split(" "),m={},da=async(a,b,
c)=>{let e=a+c+b;if(!m[e]){var f=5*b,g=1*b,l=f+g,n=l*a.length-g,u=new ImageData(n,f),[B,z,A,F]=ba(c);a.replace("!","@").toUpperCase().split("").forEach((G,Ma)=>{String(parseInt(" "===G?"0":ca[G.charCodeAt(0)-35],36).toString(2)).padStart(25,"0").split("").forEach((H,Na)=>{if("0"!==H)for(H=0;H<b;H++){var P=Na*b;P=4*(Ma*l+P%f+b*n*Math.floor(P/f)+n*H);for(let Z=0;Z<b;Z++){let Q=4*Z+P;u.data[Q]=B;u.data[Q+1]=z;u.data[Q+2]=A;u.data[Q+3]=F||255}}})});a=await createImageBitmap(u);m[e]=a}},ea=(a,{text:b,
color:c=p.v,textAlign:e="left",textBaseline:f="top",size:g=2,Ca:l=999,...n})=>{let u=Math.round(n.x),B=Math.round(n.y);b||=" ";let z=5*g;var A=1*g;n=z+A;A=n*b.length-A;let F=b+c+g,G="left"===e?0:"center"===e?Math.round(A/2):A;e="top"===f?0:"middle"===f?Math.round(z/2):z;m[F]?(b=l*n,a.drawImage(m[F],0,0,b,n,u-G,B-e,b,n)):da(b,g,c).then(()=>{a.drawImage(m[F],u-G,B)})},fa=(a,b,c)=>{a.forEach(e=>{b.forEach(f=>da(e,c,f))})};function q(a){return.1>a&&-.1<a?0:a}
function ha(){var a=ia;let b=RegExp("(.{1,40})(\\s|$)","g"),c=[],e;for(;null!==(e=b.exec(a));)c.push(e[1].trim());return c}function ja(a){return{x:Math.round(a.x),y:Math.round(a.y)}}function ka({x:a,y:b},c){return{x:a+c.x,y:b+c.y}}function la(a){let b={...a};Object.keys(b).forEach(c=>{b[c]*=1+.3*Math.random()});return b}let r=(a,b,c)=>({x:a.x+b,y:a.y+c}),p={v:"#1F0A00",D:"#FFFCEA",C:"#A29782",F:"#CEC6AD"},ma=Object.values(p).join("").replace(/#/g,"");p.v.repeat(4);
let na="@@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@E@T@@T@PA@ @@@@@@@@@@@@@@@@@TUUA@djjZ@PjjjA@ijjF@dZjY@PjjjA@iZeF@TUUU@TjjjEDijjFQTUUUD@UUU@@@EPA@ @TUUA@djjZ@PjifA@ijjF@djUZ@PjjjQ@ijjFATUUUATjjjADiejFPTUUU@@UUU@@PAU@@@@U@@@@T@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@PUUUA@YijZ@eejjFUVjjZEYiZfEdfffFPZZfYUiiijUUUUUE@D@@@@@U@@@ @@@@@@@UUE@@UUUA@ijjU@dfZZAPjYjE@iifV@ifZZAdjjjFPjUeZ@iZUjAPjjjA@TejU@UijUEUUjUUTUUUUA @@@@@@PUUE@PeZUAPijjU@ijjVAeUVYUTjifVQijjZEejjjUPjUjVAijjZ@PjjZ@@TiU@@@dF@@PUVUAPUUUU@ @TUU@@djjF@djjjAPUUUF@ijjV@djjjAPVjeF@ijjZ@djjjAPjUjF@djjF@@ejF@@@iF@@TeZU@TUYUEPUUUU@ @PA@E@PU@UAPUUUU@UiVUAPijUA@djZA@PfiF@@YfZ@@djjATdjjFPejjZ@djjZ@@UUU@@@@U@@@@UE@@PUUE@ p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@ @\u007f\u007f\u007fC@kjjz@kjjjNkjjjjojjjj~jjjjzkjjjjojjjj~kjjj~{jjjns~\u007f\u007foCljjjCp\u007f\u007f\u007fO@kCpz@lN@kCp\u007f@|O@ @p\u007fO@@|jjO@ljzjCpjznNpjjnjCknjjNlnkjzpjkzjskjzn~ojjnzokjjz~z\u007f\u007f\u007fzkjjjj\u007f\u007f\u007f\u007f\u007f\u007fjjjjz|\u007f\u007f\u007f\u007f@ @pOpO@pjsjC@kNkNLlzozpC\u007fj\u007f@{sjz@l~kjCpzojN@{s\u007f\u007f@|@pN@p@pjC@@p~{@@pNpN@pN@lCpN@@{@O@@pC @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|C@@@pW@@@@\u007fC@@@|K@@@@J@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@TUE@@djjA@d~\u007fZ@T^UmAdZUUFPfVUZ@YjjjEtjjjfQujj^Fi}\u007f_ZPZUUZ@djjZ@@UUU@@@@@@@ PUUUU@ijjjAdjjjFPjjjZ@UUUUAt\u007f\u007f\u007fGPUUu^@@@P\u007fAPUEmGPTVt_@QYQ\u007fADeE}G@TUt_@UUU\u007fAt\u007f\u007f\u007fGPUUUU@ @@\u007fC@@pkzC@pz\u007fz@p~\u007f\u007fNp~\u007f\u007foC{\u007f\u007f\u007fN{\u007f\u007f\u007foo\u007f\u007f\u007f\u007f~~\u007f\u007f\u007f{{\u007f\u007f\u007fos~\u007f\u007foC{\u007f\u007f\u007fNp~\u007f\u007fN@l~oN@@ojO@@@\u007fC@@ @@@@@@TUUA@TejZATUffEPUYZV@UejZAPeZiA@djjF@PUUU@PijjEPdjjFAQjjZDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUA@PjjZ@@ijjA@dZZF@PjiY@@iZiA@djjF@PUUU@PiZiEPdjjFAQUUUDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUA@PUUU@@ijjA@TUUE@PZiU@@ijjA@djjF@PUUU@PUUVEPTUYEAQUUUDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@@@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@E@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@@@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @|@L|psO|\u007fLk~cz\u007fhzChN@ C@@sp||@\u007f\u007fso{`jNhzChN@".split(" "),oa=
[],pa=[],qa=[],ra=[];async function sa(a,b){let c=[];[...b].map(g=>{g=g.charCodeAt(0);c.push(g&3);c.push(g>>2&3);c.push(g>>4&3)});b=Math.floor(Math.sqrt(c.length));let e=new ImageData(b,b);for(let g=0;g<b;g++)for(let l=0;l<b;l++)if(c[g*b+l]){var f=6*(c[g*b+l]-1);let [n,u,B,z]=ba("#"+ma.substring(f,f+6));f=4*(l+g*b);e.data[f]=n;e.data[f+1]=u;e.data[f+2]=B;e.data[f+3]=z||255}b=await createImageBitmap(e);oa[a]=b}
async function ta(){let a=performance.now();return Promise.all(na.map((b,c)=>sa(c,b))).then(()=>{console.debug(`Loaded icons in ${performance.now()-a}ms`);pa=[16,17,18];qa=[4,5,6,7];ra=[19,20,21,22,23,24]})}function t(a,b,c=!1,e=!1,f=!1){var g=v;if(a=oa[a])g.g.save(),c&&(g.g.filter="brightness(0)"),g.g.translate(b.x+(e?a.width:0),b.y),g.g.save(),g.g.scale(e?-1:1,1),f&&(g.g.beginPath(),g.g.rect(0,0,16,8),g.g.clip()),g.g.drawImage(a,0,0),g.g.restore(),g.g.restore()}function w(a,b){ea(a.g,b)}
function ua(){var a=v;a.g.clearRect(0,0,320,256);a.g.fillStyle=p.D;a.g.fillRect(0,0,320,256)}function x(a,b,c,e,f){let {x:g,y:l}=ja(b);a.g.fillStyle=e;a.g.fillRect(g,l,c.x,c.y);a.g.fillStyle=f||e;a.g.fillRect(g+1,l+1,c.x-2,c.y-2)}function y(a,b,c,e,f){var g=p.C;b=Math.round(b);c=Math.round(c);e=Math.round(e);f=Math.round(f);e-=b;f-=c;let l=Math.max(Math.abs(e),Math.abs(f));e/=l;f/=l;a.g.fillStyle=g;a.g.beginPath();for(g=0;g<=l;g++)a.g.rect(Math.round(b),Math.round(c),3,3),b+=e,c+=f;a.g.fill()}
function va(){var a=v;a.g.save();a.g.translate(80,80);[{x:12,y:0},{x:0,y:12},{x:12,y:12},{x:24,y:12}].forEach(({x:b,y:c})=>{x(a,{x:b,y:c},{x:10,y:10},p.C,p.F)});w(a,{text:"move",x:18,y:30,textAlign:"center",size:2});a.g.restore();a.g.save();a.g.restore()}function wa(a,b,c){a.g.save();a.g.globalAlpha=.5;a.g.transform(c,-1+c,0,1,0,0);a.g.beginPath();a.g.moveTo(0,256);b.forEach(([e,f])=>{a.g.lineTo(320*e,256*f)});a.g.fillStyle=p.v;a.g.clip();a.g.fillRect(0,0,320,256);a.g.restore()}
function xa(a,b,c){a.g.save();a.g.transform(Math.pow(c,3),.5*(-1+c),0,1,0,0);a.g.beginPath();a.g.moveTo(0,256);b.forEach(([e,f])=>{a.g.lineTo(320*e,256*f)});a.g.fillStyle=p.D;a.g.strokeStyle=p.F;a.g.stroke();a.g.clip();b=Math.round(320/30);a.g.fillRect(0,0,320,256);for(c=0;30>c;c++)a.g.strokeRect(b*c,0,b,256);a.g.restore()}function ya(a,b){var c=v;b=[[0,0],[.5,0],[1,.5],[.8,.5],[.8,.5-b.y],[1-(.2+b.x),.5-b.y],[1-(.2+b.x),.5+b.y],[.8,.5+b.y],[.8,.5],[1,.5],[.5,1],[0,1]];wa(c,b,a);xa(c,b,a)}
function za(a){var b=v,c=2*Math.PI/8;for(let e=0;8>e;e++){let f=c*(e+8*a);b.g.save();b.g.translate(160,128);y(b,40*Math.cos(f),40*Math.sin(f),40*Math.cos(f+c),40*Math.sin(f+c));y(b,0,0,80*Math.cos(f),80*Math.sin(f));b.g.restore()}c=148+5*Math.sin(2*Math.PI*a);a=148+5*Math.cos(2*Math.PI*a);y(b,0,c,320,a);b.g.beginPath;b.g.moveTo(0,c);b.g.lineTo(320,a);b.g.lineTo(320,256);b.g.lineTo(0,256);b.g.lineTo(0,c);b.g.fill()}
class Aa{constructor(){this.g=c2d.getContext("2d",{alpha:!1});this.g.imageSmoothingEnabled=!1}}let v=new Aa;function C(a,b){D.h=ja({x:a,y:b})}function Ba(){var a=D;a.h=ka(a.h,a.i)}function Ca(a){a.H.forEach((b,c)=>{t(b,{...a.h,y:a.h.y-12*(c+1)})})}function E(a){var b=D;t(a,b.h,!1,b.G);Ca(b)}function Da(a){var b=D;b.g+=a;60<=b.g&&(b.j=(b.j+1)%6,b.g-=60);t(ra[b.j],b.h,!1,b.G);Ca(b)}function Ea(){var a=D;t(2,a.h,!1,a.G,!0)}
class Fa{constructor(){this.j=this.g=0;this.size={x:16,y:16};this.h={x:0,y:0};this.G=!1;this.H=[];this.da=!1;this.i={x:0,y:0}}}let D=new Fa,I=[];function J(a,b,c=0,e=0){I.push({Ba:a,time:b,K:b+e,repeat:c})}function Ga(a){for(let b=I.length-1;0<=b;b--){let c=I[b];c.K-=a;0>=c.K&&(c.Ba(),0>=c.repeat--?I.splice(b,1):c.K=c.time)}}function Ha(a=0){return"#".repeat(K.j-a)+"%".repeat(4-(K.j-a))}
function L(a){D.i={x:0,y:0};let b=`Oh no! ${Ha()}`,c=`Oh no! ${Ha(1)}`;fa([b,c],[p.v],Math.floor(200/(6*b.length)));a.text=b;a.M=0;a.g=!0;K.j--;J(()=>{a.text=c},200,3,500);J(()=>{a.text=b},200,2,600);1>K.j?(J(()=>{a.aa=!0;a.text="you're fired!"},2E3),J(()=>{d(k)},3500)):J(()=>{a.m()},2E3)}function M(a){D.i={x:0,y:0};a.M=0;a.text="Nice!";a.g=!0;J(()=>{Ia()},1500)}
function Ja(a){[[Ha(),"left",7],[Math.round(a.K),"center",160],[`Lvl ${K.g+1}`,"right",313]].forEach(([b,c,e])=>{[p.F,p.v].forEach((f,g)=>{w(v,{text:b.toString(),x:e-g,y:7-g,textAlign:c,color:f,size:2})})});a=2*Math.round(50*a.K/a.ta/2);x(v,{x:160-a/2,y:20},{x:a,y:8},p.v,p.D)}
class Ka{constructor(){this.g=this.u=!1;this.$=this.M=0;this.ta=10;this.K=0;this.text="";this.aa=!1}m(){this.K=this.ta;this.aa=this.g=this.u=!1;D.i={x:0,y:0};this.start()}pa(){I=[]}la(){}start(){this.M=0;this.u=!0}xa(){this.g||L(this)}s(a){this.g||this.u||(this.la(a),this.K=Math.max(0,this.K-a/1E3),0>=Math.round(this.K)&&this.xa())}za(a){if(this.g||this.u){this.M+=a;500>=this.M&&(this.$=-(Math.cos(this.M/500*Math.PI)-1)/2);if(0<this.M){a=320*this.$-160;let b=256*this.$-128,c=this.aa?p.v:p.D,e=this.aa?
p.D:p.v;x(v,{x:320-a-100+8,y:256-b-25+8},{x:200,y:50},p.v);x(v,{x:a-100,y:b-25},{x:200,y:50},p.v,c);w(v,{text:this.text,x:320*this.$/2,y:128*this.$,textAlign:"center",textBaseline:"middle",size:Math.floor(200/(6*this.text.length)),color:e})}1E3<this.M&&this.u&&(this.u=!1)}Ja(this)}}
class N extends Ka{constructor(){super(...arguments);this.ia=4;this.l={x:.3,y:.05};this.ja=7;this.ra=14;this.N=0;this.ba=!0;this.ka=0;this.sa=2;this.j=[];this.o=[];this.B=[];this.L=!0;this.ua=512;this.va=-256}m(){super.m();Object.assign(D,{G:!1,da:!1,h:{x:20,y:20},i:{x:0,y:0}})}s(a){!this.g&&this.o.some(b=>b.X().W)&&(D.da=!0,L(this));[...this.j,...this.o,...this.B].forEach(b=>{b.update(a)});if(!this.g){D.i={x:q(Math.max(Math.min(D.i.x,this.ia),-this.ia)),y:q(D.i.y)};C(Math.max(Math.min(D.h.x+D.i.x,
304),0),Math.max(Math.min(D.h.y+Math.min(this.ra,D.i.y),this.ua),this.va)+1);let b=this.j.find(c=>c.V());!this.g&&this.B.some(c=>c.X().V)&&M(this);b?(D.h.y=b.h.y-16,this.ka=this.N=D.i.y=0,this.L=!0):(D.i.y+=this.l.y*a,this.L=!1)}this.wa(a);super.s(a)}wa(a){D.da?E(3):0===D.i.x&&0===D.i.y?E(0):0===D.i.y?Da(a):0<D.i.y?E(1):0>D.i.y&&E(2)}la(a){O.J&&this.ka<this.sa&&(!this.L||this.ba)?O.j.J?100>this.N&&(this.ba=!1,this.N+=a,D.i.y=-this.ja):(this.ba=!0,this.N=0,D.i.y=Math.min(0,D.i.y),this.ka++):O.J||(this.ba=
!0);this.L&&(O.T?D.i.x-=this.l.x*a:O.U?D.i.x+=this.l.x*a:0==D.i.y&&(0<D.i.x?D.i.x=Math.max(0,D.i.x-2*this.l.x*a):0>D.i.x&&(D.i.x=Math.min(0,D.i.x+2*this.l.x*a))))}}
class R{constructor(a={x:0,y:0},b={x:0,y:0}){this.R=!1;this.h=a;this.size=b}update(){this.R=!1}X(){var a=D.h.x+D.size.x,b=D.h.y+D.size.y,c=this.h.x+this.size.x,e=this.h.y+this.size.y,f=a>this.h.x,g=D.h.y<e;let l=b>this.h.y;f=D.h.x<c&&f&&g&&l;if(!f)return this.R=!1,{W:!1,V:!1,right:!1,left:!1,bottom:!1,top:!1};c-=D.h.x;a-=this.h.x;e-=D.h.y;b-=this.h.y;g=Math.min(c,a,e,b);this.R=!0;return{W:f,V:this.V(),right:g===c,left:g===a,bottom:g===e,top:g===b}}V(){if(0>D.i.y)return!1;let a=D.h.x+D.size.x-3,b=
D.h.y+D.size.y,c=this.h.y+2;return D.h.x+5<this.h.x+this.size.x&&a>this.h.x&&D.h.y<c&&b>=this.h.y}Z(a,b){x(v,this.h,this.size,b||a,a)}}class S extends R{constructor(a,b,c,e){super(a,b);this.fill=this.stroke=p.v;this.stroke=c||"";this.fill=e||this.stroke}update(){x(v,this.h,this.size,this.stroke,this.fill)}}
class T extends S{constructor(a,b=3){super(a,{x:130,y:50*b});this.g=0;this.g=b}update(){x(v,this.h,this.size,p.C,p.F);for(let a=0;a<this.g;a++){let [b,c]=[{x:this.h.x-1,y:this.h.y+50*a},{x:this.size.x+2,y:6}];x(v,b,c,p.C);for(let e=0;5>e;e++)v.g.save(),v.g.translate(this.h.x+8+25*e,this.h.y+14+50*a),x(v,{x:0,y:0},{x:14,y:12},p.C,p.D),x(v,{x:0,y:12},{x:14,y:12},p.C,p.D),v.g.restore()}}}
let La=class extends N{constructor(){super(...arguments);this.l={x:.01,y:.05}}m(){super.m();this.text="Jump over";this.j=[new T({x:2,y:116}),new T({x:218,y:136})];this.o=[new R({x:0,y:276},{x:320,y:10})];this.B=[new R({x:218,y:135},{x:130,y:10})]}},Oa=new La;
class Pa extends Ka{constructor(){super(...arguments);this.I=[[-10,-10,10,256],[-10,-10,320,10],[320,-10,10,256],[-10,256,320,10]].map(([a,b,c,e])=>new R({x:a,y:b},{x:c,y:e}));this.j=Array.from({length:16},()=>[]);this.A=256/13}s(a){super.s(a);this.g||([...this.j.flat(),...this.I].forEach(b=>{let c=b.X();c.W&&(c.right&&(D.h.x=b.h.x+b.size.x,D.i.x=0),c.left&&(D.h.x=b.h.x-b.size.x,D.i.x=0),c.bottom&&(D.h.y=b.h.y+b.size.y,D.i.y=0),c.top&&(D.h.y=b.h.y-b.size.y,D.i.y=0))}),Ba(),D.i={x:q(Math.max(Math.min(D.i.x,
3),-3)),y:q(Math.max(Math.min(D.i.y,3),-3))});0!=D.i.x||0!=D.i.y?Da(a):E(0)}la(a){O.J?D.i.y-=.02*a:O.O?D.i.y+=.02*a:0<D.i.y?D.i.y=Math.max(0,D.i.y-.02*a):0>D.i.y&&(D.i.y=Math.min(0,D.i.y+.02*a));O.T?(D.i.x-=.02*a,D.G=!0):O.U?(D.i.x+=.02*a,D.G=!1):0<D.i.x?D.i.x=Math.max(0,D.i.x-.02*a):0>D.i.x&&(D.i.x=Math.min(0,D.i.x+.02*a))}}function Qa(a){a.text="TY#";a.g=1500}
class U extends R{constructor(a,b,c={}){super(a,{x:16,y:16});this.ga=this.Y=!1;this.text=this.H=null;this.g=0;this.j=b;this.G=!!c.G;this.Y=!!c.Y;this.ga=!!c.ga}update(a){this.ga&&t(9,{...this.h,y:this.h.y+8});t(this.j,this.h,!1,this.G);this.H&&t(this.H,this.h,!1);0<this.g&&this.text&&(this.g-=a||0,a=this.g/1500,w(v,{text:this.text,x:this.h.x+8,y:this.h.y-10+3*a,size:1,color:.66<a?p.v:.33<a?p.C:p.F,textAlign:"center"}))}}
let Ra=()=>[[8,6,6],[8,8,6,!0],[9,7,6],[9,7,7],[8,8,7,!0],[8,6,7],[10,6,5],[10,7,5],[10,8,5],[11,12,7,!0]].sort((a,b)=>a[2]-b[2]);var Sa=[1,5];fa(["TY#"],[p.v,p.C,p.F],1);
class Ta extends Pa{constructor(){super(...arguments);this.l=new U({x:48,y:192},14,{G:!0,ga:!0});this.o=0}m(){this.text="Bring coffee";this.j=Array.from({length:16},()=>[]);this.o=Sa[0]+K.g/12/2*(Sa[1]-Sa[0]);super.m();C(30,30);D.H=[];Ra().forEach(([a,b,c,e=!1])=>{this.j[c][b]=new U({x:16*b,y:16*c},a,{G:e})});this.l.R=!1;this.j[this.l.h.y/16][this.l.h.x/16]=this.l;for(let a=0;a<this.o;a++){let b=0,c=0,e=!1;for(;!e;){b=Math.floor(20*(.15+.7*Math.random()));c=Math.floor(16*(.15+.7*Math.random()));e=
!0;for(let f=-1;1>=f&&e;f++)for(let g=-1;1>=g&&e;g++)if(this.j[c+f]&&this.j[c+f][b+g]||D.h.x==b+g&&D.h.y==c+f)e=!1}this.j[c][b]=new U({x:16*b,y:16*c},pa[a%pa.length],{Y:!0,G:!0})}}s(a){this.Z();this.j.flat().forEach(b=>{b.update(a);b.Y&&b.R&&(!b.H&&0<D.H.length?(b.H=12,Qa(b),D.H.pop(),this.j.flat().some(c=>c.Y&&!c.H)||M(this)):b.R=!1)});if(this.l.R&&1>D.H.length)for(;D.H.length<this.o;)D.H.push(13);super.s(a)}Z(){for(let a=0;a<this.A;a++)x(v,{x:-1,y:13*a},{x:321,y:13},p.F,p.D);x(v,{x:180,y:20},{x:130,
y:216},p.F,p.D)}}let Ua=new Ta;var Va=[100,180],Wa=[4,2.5],Xa=[.4,.5];
class Ya extends La{constructor(){super(...arguments);this.A=new R({x:136,y:216},{x:48,y:15})}m(){super.m();this.text="Jump over";let a=K.g/12/2,{Aa:b,Ha:c,Ga:e}=la({Aa:Va[0]+(Va[1]-Va[0])*a,Ha:Wa[0]+(Wa[1]-Wa[0])*a,Ga:Xa[0]+(Xa[1]-Xa[0])*a});this.o=[new S({x:0,y:236},{x:320,y:20},p.C)];this.j=[new T({x:-130*e,y:256-b+16},4),new T({x:320-130*(1-e),y:256-b+16},4)];this.B=[new R(this.j[1].h,{x:130,y:1})];this.A=new R({x:160,y:216},{x:16*c,y:15})}s(a){let {W:b,V:c}=this.A.X();if(b||c)D.i.y=-D.i.y;let e=
this.A.h,f=this.A.size;[{h:{x:e.x+3,y:e.y+f.y-1},size:{x:3,y:8}},{h:{x:e.x-6+f.x,y:e.y+f.y-1},size:{x:3,y:8}},{h:e,size:f}].forEach(({h:g,size:l})=>{x(v,g,l,p.v,p.D)});super.s(a)}}let Za=new Ya;class $a extends La{m(){super.m();this.text="Land safely";this.o=[new S({x:0,y:236},{x:320,y:20},p.C)];let a=new S({x:218,y:231},{x:32,y:5},p.v,p.D);this.B=[a];this.j=[new T({x:-20,y:66},4),a]}}let ab=new $a;var bb=[10,30],cb=[5E3,2E3];
class db extends Pa{constructor(){super(...arguments);this.progress=0;this.B=5E3;this.l={x:.2,y:.1};this.o=null}m(){super.m();this.progress=0;this.text="Stay in";C(160,160);var a=K.g/12/2;let b=bb[0]+(bb[1]-bb[0])*a;this.B=cb[0]+(cb[1]-cb[0])*a;a=320*this.l.x;var c=512*this.l.y,e=.6*a,f=.6*c;this.o=new R({x:192+(a-e)/2,y:128-256*this.l.y+(c-f)/2},{x:e,y:f});this.j=Array.from({length:16},()=>[]);for(a=0;a<b;a++){c=!1;for(f=e=0;!c;){e=Math.floor(20*Math.random());f=Math.floor(16*Math.random());c=!this.j[f][e];
for(let g=-1;1>=g&&c;g++)for(let l=-1;1>=l&&c;l++)D.h.x==16*(e+l)&&D.h.y==16*(f+g)&&(c=!1)}this.j[f][e]=new U({x:16*e,y:16*f},10)}}s(a){super.s(a);this.j.flat().forEach(b=>b.update());this.u||(1<=this.progress?this.g||(this.o?.X().W?M(this):L(this)):this.progress+=a/this.B,ya(Math.pow(this.progress,3),this.l))}}let eb=new db;
class fb extends N{constructor(){super(...arguments);this.l={x:.05,y:.05};this.ja=6;this.ra=7}m(){super.m();this.text="Land safely";this.j=[];for(let a=0;4>a;a++)this.j.push(new S({x:235*a,y:150},{x:210,y:70},p.C,p.F));this.o=[new R({x:0,y:246},{x:320,y:10})];this.B=[new R({x:218,y:226},{x:48,y:10})];D.h={x:20,y:70}}s(a){x(v,{x:0,y:221},{x:320,y:35},p.C);this.B[0].Z(p.D,p.v);super.s(a);this.u||this.g||(D.h.x-=this.l.x*a);this.j.forEach(b=>{this.u||(b.h.x-=150*a/1E3);t(15,r(b.h,16,62));t(15,r(b.h,
48,62));t(15,r(b.h,194,62));t(15,r(b.h,162,62))})}wa(a){D.da?E(3):this.g?E(0):Da(a)}}let gb=new fb,hb=[3E3,2500];function ib(a){let b=(a.j+a.L-a.I/8)%1;a.o&&(b=(a.j+a.L-(a.I-1+a.B)/8)%1);a=2*b*Math.PI;C(160+60*Math.cos(a)-8,128+60*Math.sin(a)-16)}
class jb extends Ka{constructor(){super(...arguments);this.L=this.j=0;this.N=3E3;this.I=-7;this.o=!1;this.B=0;this.l=this.A=!1}m(){super.m();this.N=hb[0]+K.g/12/2*(hb[1]-hb[0]);this.text="Stay dry";D.G=!0;this.I=-7;this.j=0;this.l=this.A=!1;ib(this)}xa(){M(this)}s(a){super.s(a);this.u||this.g||(this.j+=a/this.N,this.L=Math.cos(2*this.j*Math.PI)/20,1<=this.j&&--this.j,this.A||this.l||(148<D.h.y?(this.A=!1,this.l=!0,J(()=>L(this),500)):140>D.h.x?(this.A=!0,this.l=!1,J(()=>L(this),500)):ib(this)));this.l?
(D.h.y+=.04*a,D.h.x-=.2*a):this.A&&(D.h.x-=.04*a,D.h.y+=.2*a,153.6<D.h.y&&(this.l=!0));this.o&&(this.B+=a/50,1<this.B&&(this.o=!1,this.B=0));za(this.j+this.L);D.G=!this.l;this.l?Ea():E(this.o?2:0)}ha(){this.u||this.g||this.o||(this.I++,this.o=!0,this.B=0)}}let kb=new jb;
class lb extends N{constructor(){super(...arguments);this.l={x:.01,y:.05};this.ja=8.5;this.sa=1}m(){super.m();this.text=" Escape ";this.ua=Number.MAX_SAFE_INTEGER;this.va=-Number.MAX_SAFE_INTEGER;D.h={x:160,y:618};this.j=[];for(var a=0;10>a;a++)this.j.push(new T({x:95,y:50*a+128},1));a=this.j[this.j.length-1];this.j.push(new S(ka(a.h,{x:0,y:50}),a.size));this.o=[new R({x:0,y:638},{x:320,y:256})]}s(a){v.g.save();v.g.translate(0,-D.h.y+128);let b=this.o[0].h.y-16;for(let c=0;6>c;c++)t(10,{x:225+16*
c,y:b}),t(10,{x:95-16*(c+1),y:b});this.o[0].Z(p.C);super.s(a);v.g.restore();!this.g&&this.j[0].V()&&M(this)}}let mb=new lb;
class nb extends N{constructor(){super(...arguments);this.l={x:.01,y:.05};this.ca=new R({x:0,y:0},{x:5,y:5});this.ma=0;this.I=this.A=!1;this.ia=3}m(){super.m();this.text="Swing over";this.I=this.A=!1;this.j=[new T({x:-65,y:116}),new T({x:255,y:116})];this.o=[new R({x:0,y:276},{x:320,y:10})];this.B=[new R({x:320-130/3,y:115},{x:130,y:10})]}s(a){super.s(a);this.ma+=a/2E3;a=Math.sin(2*this.ma*Math.PI);let b=160+110*Math.sin(a),c=110*Math.cos(a);y(v,160,-20,b,c);this.ca.h={x:b,y:c};this.ca.Z(p.D,p.v);
this.g||(this.I||this.A||!this.ca.X().W||(this.A=!0),!this.I&&this.A&&(D.h=r(this.ca.h,-8,-24)),this.I&&this.A&&(D.i={x:4*Math.sin(a),y:-Math.cos(a)},this.A=!1),this.L&&(this.A=this.I=!1))}ha(){this.I=!0}}
let ob=new nb,pb=[{name:"Assistant Dave",ea:"If you want to make it big in Hollywood kid, you better do as I say!",na:"Is that all you got?",qa:"I guess you're not totally worthless!",oa:"Stop wasting my time kid!"},{name:"Producer Elena",ea:"Just do as you're told and don't get in my way.",na:"Hurry, I don't have all day",qa:"Obedient and disciplined. You'll get far, child.",oa:"Is there some reason my coffee isn\t here?"},{name:"Director Alfred",ea:"Good evening. Are you ready to face your fears?",
na:"Time for your final act",qa:"Well done. I must admit, you handled the tension admirably.",oa:"Was this worth the price of admission?"},{name:"Wally",ea:"I've been following you growth. Show me what you got, ha ha.",na:"The wheel must keep spinning, ha ha!",qa:"Splendid. I can definitely use you, ha ha!",oa:"This just won't do ha ha"}],V=[Ua,eb,kb,mb,Oa,Za,ab,gb,ob],qb=[[...V],[...V],[...V],[...V]];function Ia(){var a=K;a.g++;d(a.l?a.u[a.g%a.u.length]:qb[0][a.g])}
class rb{constructor(){this.g=-1;this.j=4;this.l=!0;this.u=[];let a=[...V];for(let b=a.length-1;0<b;b--){let c=Math.floor(Math.random()*(b+1));[a[b],a[c]]=[a[c],a[b]]}this.u=a}}
let K=new rb,sb=(a,b)=>{var c=1+.5*(Math.random()-.5);let e=new AudioContext;var f=3E3*(a+.25);let g=e.createBuffer(1,f,48E3),l=g.getChannelData(0);for(;f--;){let n=3E3*a;l[f]=f>n?0:Math.sin(c*f/25-.5*Math.sin(f/5))*Math.sin(f/(n/a)*Math.PI)*.2}a=e.createBufferSource();a.buffer=g;a.connect(e.destination);a.start();a.onended=b},W=!1,tb=a=>{W=!0;let b=a.replace(/[^a-zA-Z\s]/g,"").split(" "),c=0,e=0;console.log(b);let f=()=>{if(W&&c<b.length){e=performance.now();let g=Math.floor(b[c].replace(/[^a-zA-Z\s]/g,
"").length/2)||1;sb(g,()=>{let l=performance.now()-e;e=performance.now();console.log(c,g,l,"ms");setTimeout(f,Math.max(60*(g+1)-l,0))});c++}else W=!1};f()},X=0,ub=0,vb="",ia="",wb;
function xb(a){X+=a;30<=X&&(ub++,X-=30);x(v,{x:5,y:186},{x:310,y:50},p.F,p.D);x(v,{x:8,y:189},{x:304,y:44},p.F,p.D);w(v,{text:vb,x:12,y:193,size:2,color:p.C});ha().forEach((b,c)=>{w(v,{text:b,x:12,y:211+8*c,size:1,Ca:ub-40*c})});v.g.save();v.g.translate(275,196);v.g.save();v.g.scale(2,2);t(wb,{x:0,y:0});v.g.restore();v.g.restore()}class yb{m(){console.log(0,pb[0]);let {name:a,ea:b}=pb[0];vb=a;ia=b;wb=qa[0];ub=X=0;tb(b)}s(a){va();xb(a)}fa(){W=!1;Ia()}}
let zb=[[" Story mode /soon/",80],[" Endless mode",160]];
class Ab{constructor(){this.g=0}m(){this.g=1}pa(){}s(){w(v,{text:"Levels",x:160,y:30,textAlign:"center",color:p.C,size:3});[...zb,["&",0===this.g?zb[0][1]:zb[1][1]]].forEach(([a,b])=>{w(v,{text:a,x:66,y:b,color:p.v,size:2})});w(v,{text:"Press ENTER to start",x:160,y:236,textAlign:"center",color:p.C,size:1});v.g.save();v.g.translate(76,100);[4,5,6,7].forEach((a,b)=>{v.g.save();v.g.scale(2,2);b={x:21*b,y:0};x(v,b,{x:16,y:16},p.F);t(a,b,!0);v.g.restore()});v.g.restore()}fa(){0===this.g?d(new yb):Ia()}}
let Bb=new Ab,Cb=["start","about"],Db=["Optimized for Firefox 2+","Asbestos Free","Not tested on animals","Requires MS-DOS 5.0 or later","For up-to 1 players"],Eb="";
class Fb{constructor(){this.g=0}m(){Eb=Db[Math.floor(Math.random()*Db.length)]}pa(){}s(){["THIRTEEN","TERRIBLE","STUNTS"].forEach((a,b)=>[p.F,p.v].forEach((c,e)=>w(v,{text:a,x:160-e,y:40+15*b-e,textAlign:"center",color:c,size:2})));Cb.forEach((a,b)=>{w(v,{text:a,x:160,y:120+16*b,textAlign:"center",color:b===this.g?p.v:p.C,size:1})});v.g.save();v.g.globalAlpha=.5;v.g.translate(.5,.5);v.g.rotate(-25);v.g.scale(8,8);t(2,{x:3,y:13});v.g.restore();w(v,{text:Eb,x:160,y:241,textAlign:"center",color:p.F,
size:1})}ha(){this.g--;0>this.g&&(this.g=Cb.length-1)}ya(){this.g++;this.g>Cb.length-1&&(this.g=0)}fa(){0===this.g&&(K.l=!0,K.g=-1,K.j=4,d(Bb))}}let k=new Fb;
class Gb{constructor(){this.P=this.S=this.U=this.T=this.O=this.J=!1;this.g=new Map;this.j={J:this.J,O:this.O,U:this.U,T:this.T,S:this.S,P:this.P};document.addEventListener("keydown",a=>{this.g.set(a.code,!0)});document.addEventListener("keyup",a=>{this.g.set(a.code,!1)});this.u=new DOMPoint}s(a){this.j.J=this.J;this.j.O=this.O;this.j.S=this.S;this.j.P=this.P;let b=this.g.get("KeyA")||this.g.get("KeyQ")||this.g.get("ArrowLeft")?-1:0,c=this.g.get("KeyD")||this.g.get("ArrowRight")?1:0,e=this.g.get("KeyW")||
this.g.get("KeyZ")||this.g.get("ArrowUp")?-1:0,f=this.g.get("KeyS")||this.g.get("ArrowDown")?1:0;this.u.x=b+c||0;this.u.y=e+f||0;this.J=0>this.u.y;this.O=0<this.u.y;this.T=0>this.u.x;this.U=0<this.u.x;this.S=!!this.g.get("Enter")||!!this.g.get("Space");(this.P=!!this.g.get("Escape"))&&h.g!=k&&d(k);this.J&&(this.j.J||"function"==typeof a.ha&&a.ha());this.O&&(this.j.O||"function"==typeof a.ya&&a.ya());this.U&&(this.j.U||"function"==typeof a.Fa&&a.Fa());this.T&&(this.j.T||"function"==typeof a.Ea&&a.Ea());
this.S&&(this.j.S||"function"==typeof a.fa&&a.fa());this.P&&(this.j.P||"function"==typeof a.Da&&a.Da())}}let O=new Gb;document.querySelector('link[type="image/x-icon"]').href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E\ud83c\udf9e%3C/text%3E%3C/svg%3E";let Hb=0,Y=[];
function Ib(a){let b=a-Hb;Hb=a;Y.push(1E3/b);15===Y.length&&(fps.innerHTML=`${Math.round(Y.reduce((c,e)=>c+e)/15)} FPS`,Y=[]);ua();a=h.g;O.s(a);a.s(b);a.za&&a.za(b);Ga(b);requestAnimationFrame(Ib)}(async function(){await ta()})().then(()=>{h=new aa(...[]);requestAnimationFrame(Ib)});
