let aa=a=>a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(b,c,d,h,f)=>"#"+c+c+d+d+h+h+f+f).substring(1).match(/.{2}/g).map(b=>parseInt(b,16)),ba="6v7ic 2rwzo 6nvic 58jgo 55eyo jz6bo   34ao 7k b28 m0 20o0o 9a7vy jbmjj jhza7 ivhmm etrs7 ju8e7 jalrz jyn66 jwdj3 jwdlv 2t8g 2t8s 34yo lskg m2yo jf4lo jysjy 98ruh j8htq 9v7zj j8d32 ju78f ju8t4 9ul2n g44e1 jykrj jewdq g4rbt fgsgv hha5t g6xgz 98rou j8d7c 98uwe j8d7d 9xgxq jykqs g3zn2 g3z9g b1ipn h4qu3 c8oz2 jhyfz    ".split(" "),e={},ca=async(a,b,c)=>
{let d=a+c+b;if(!e[d]){var h=5*b,f=1*b,l=h+f,m=l*a.length-f,p=new ImageData(m,h),[u,v,t,B]=aa(c);a.replace("!","@").toUpperCase().split("").forEach((C,za)=>{String(parseInt(" "===C?"0":ba[C.charCodeAt(0)-35],36).toString(2)).padStart(25,"0").split("").forEach((D,Aa)=>{if("0"!==D)for(D=0;D<b;D++){var J=Aa*b;J=4*(za*l+J%h+b*m*Math.floor(J/h)+m*D);for(let T=0;T<b;T++){let K=4*T+J;p.data[K]=u;p.data[K+1]=v;p.data[K+2]=t;p.data[K+3]=B||255}}})});a=await createImageBitmap(p);e[d]=a}},da=(a,{text:b,color:c=
g.l,textAlign:d="left",textBaseline:h="top",size:f=2,qa:l=999,...m})=>{let p=Math.round(m.x),u=Math.round(m.y);b||=" ";let v=5*f;var t=1*f;m=v+t;t=m*b.length-t;let B=b+c+f,C="left"===d?0:"center"===d?Math.round(t/2):t;d="top"===h?0:"middle"===h?Math.round(v/2):v;e[B]?(b=l*m,a.drawImage(e[B],0,0,b,m,p-C,u-d,b,m)):ca(b,f,c).then(()=>{a.drawImage(e[B],p-C,u)})},ea=(a,b,c)=>{a.forEach(d=>{b.forEach(h=>ca(d,c,h))})};function k(a){return.1>a&&-.1<a?0:a}
function fa(){var a=ha;let b=RegExp("(.{1,40})(\\s|$)","g"),c=[],d;for(;null!==(d=b.exec(a));)c.push(d[1].trim());return c}function n(a){return{x:Math.round(a.x),y:Math.round(a.y)}}let g={l:"#1F0A00",A:"#FFFCEA",o:"#A29782",v:"#CEC6AD"},ia=Object.values(g).join("").replace(/#/g,"");g.l.repeat(4);
let ja="@@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@E@T@@T@PA@ @@@@@@@@@@@@@@@@@TUUA@djjZ@PjjjA@ijjF@dZjY@PjjjA@iZeF@TUUU@TjjjEDijjFQTUUUD@UUU@@@EPA@ @TUUA@djjZ@PjifA@ijjF@djUZ@PjjjQ@ijjFATUUUATjjjADiejFPTUUU@@UUU@@PAU@@@@U@@@@T@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@PUUUA@YijZ@eejjFUVjjZEYiZfEdfffFPZZfYUiiijUUUUUE@D@@@@@U@@@ @@@@@@@UUE@@UUUA@ijjU@dfZZAPjYjE@YiVV@deZYAPjjjF@iUeZ@dZUjA@ijjA@PUUA@TjjZAdjjjZPUUUUA @@@@@@PUUE@PeZUAPijjU@ijjVAeUVYUTjifVQijjZEejjjUPjUjVAijjZ@PjjZ@@TiU@@@dF@@PUVUAPUUUU@ @TUU@@djjF@djjjAPUUUF@ijjV@djjjAPVjeF@ijjZ@djjjAPjUjF@djjF@@ejF@@@iF@@TeZU@TUYUEPUUUU@ @PA@E@PU@UAPUUUU@UiVUAPijUA@djZA@PfiF@@YfZ@@djjATdjjFPejjZ@djjZ@@UUU@@@@U@@@@UE@@PUUE@ p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@ @\u007f\u007f\u007fC@kjjz@kjjjNkjjjjojjjj~jjjjzkjjjjojjjj~kjjj~{jjjns~\u007f\u007foCljjjCp\u007f\u007f\u007fO@kCpz@lN@kCp\u007f@|O@ @p\u007fO@@|jjO@ljzjCpjznNpjjnjCknjjNlnkjzpjkzjskjzn~ojjnzokjjz~z\u007f\u007f\u007fzkjjjj\u007f\u007f\u007f\u007f\u007f\u007fjjjjz|\u007f\u007f\u007f\u007f@ @pOpO@pjsjC@kNkNLlzozpC\u007fj\u007f@{sjz@l~kjCpzojN@{s\u007f\u007f@|@pN@p@pjC@@p~{@@pNpN@pN@lCpN@@{@O@@pC @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|C@@@pW@@@@\u007fC@@@|K@@@@J@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@TUE@@djjA@d~\u007fZ@T^UmAdZUUFPfVUZ@YjjjEtjjjfQujj^Fi}\u007f_ZPZUUZ@djjZ@@UUU@@@@@@@ PUUUU@ijjjAdjjjFPjjjZ@UUUUAt\u007f\u007f\u007fGPUUu^@@@P\u007fAPUEmGPTVt_@QYQ\u007fADeE}G@TUt_@UUU\u007fAt\u007f\u007f\u007fGPUUUU@ @@@@@@TUUA@TejZATUffEPUYZV@UejZAPeZiA@djjF@PUUU@PijjEPdjjFAQjjZDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUA@PjjZ@@ijjA@dZZF@PjiY@@iZiA@djjF@PUUU@PiZiEPdjjFAQUUUDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUA@PUUU@@ijjA@TUUE@PZiU@@ijjA@djjF@PUUU@PUUVEPTUYEAQUUUDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@@@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@E@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@@@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@".split(" "),ka=
[],la=[],ma=[],na=[];async function oa(a,b){let c=[];[...b].map(f=>{f=f.charCodeAt(0);c.push(f&3);c.push(f>>2&3);c.push(f>>4&3)});b=Math.floor(Math.sqrt(c.length));let d=new ImageData(b,b);for(let f=0;f<b;f++)for(let l=0;l<b;l++)if(c[f*b+l]){var h=6*(c[f*b+l]-1);let [m,p,u,v]=aa("#"+ia.substring(h,h+6));h=4*(l+f*b);d.data[h]=m;d.data[h+1]=p;d.data[h+2]=u;d.data[h+3]=v||255}b=await createImageBitmap(d);ka[a]=b}
function q(a,b,c=!1){var d=r;if(a=ka[a])d.g.save(),d.g.translate(b.x+(c?a.width:0),b.y),d.g.save(),d.g.scale(c?-1:1,1),d.g.drawImage(a,0,0),d.g.restore(),d.g.restore()}function w(a,b){da(a.g,b)}function pa(){var a=r;a.g.clearRect(0,0,320,260);a.g.fillStyle=g.A;a.g.fillRect(0,0,320,260)}function x(a,b,c,d,h){let {x:f,y:l}=n(b);a.g.fillStyle=d;a.g.fillRect(f,l,c.x,c.y);a.g.fillStyle=h||d;a.g.fillRect(f+1,l+1,c.x-2,c.y-2)}
function qa(){var a=r;a.g.save();a.g.translate(80,80);[{x:12,y:0},{x:0,y:12},{x:12,y:12},{x:24,y:12}].forEach(({x:b,y:c})=>{x(a,{x:b,y:c},{x:10,y:10},g.o,g.v)});w(a,{text:"move",x:18,y:30,textAlign:"center",size:2});a.g.restore();a.g.save();a.g.translate(200,70);[{text:"enter",y:0},{text:"or",y:12},{text:"space",y:24}].forEach(({text:b,y:c})=>{"or"!==b&&x(a,{x:0,y:c},{x:40,y:10},g.o,g.v);w(a,{text:b,x:20,y:c+3,size:1,textAlign:"center"})});w(a,{text:"action",x:20,y:40,textAlign:"center",size:2});
a.g.restore()}class ra{constructor(){this.g=c2d.getContext("2d",{alpha:!1});this.g.imageSmoothingEnabled=!1;let a=performance.now();Promise.all(ja.map((b,c)=>oa(c,b))).then(()=>{console.log(`Loaded icons in ${performance.now()-a}ms`);la=[15,16,17];ma=[4,5,6,7];na=[18,19,20,21,22,23]});window.addEventListener("resize",()=>{})}}let r=new ra;function sa(a,b){var c=y;c.h=n({x:c.h.x+a,y:c.h.y+b})}function ta(a){a.B.forEach((b,c)=>{q(b,{...a.h,y:a.h.y-12*(c+1)})})}
function z(a){var b=y;q(a,b.h,b.H);ta(b)}function ua(a){var b=y;b.g+=a;60<=b.g&&(b.i=(b.i+1)%6,b.g-=60);q(na[b.i],b.h,b.H);ta(b)}class va{constructor(){this.i=this.g=0;this.size={x:16,y:16};this.h={x:0,y:0};this.H=!1;this.B=[];this.j=!1}}let y=new va;function A(a){var b=E,c=[];b.g=a;b.g.m?.(...c)}class wa{constructor(...a){this.g=F;this.g.m?.(...a)}}let E;
class xa{constructor(){this.J=this.L=this.N=this.M=this.I=this.D=!1;this.g=new Map;this.i={D:this.D,I:this.I,N:this.N,M:this.M,L:this.L,J:this.J};document.addEventListener("keydown",a=>{this.g.set(a.code,!0)});document.addEventListener("keyup",a=>{this.g.set(a.code,!1)});this.j=new DOMPoint}s(a){this.i.D=this.D;this.i.I=this.I;this.i.L=this.L;this.i.J=this.J;let b=this.g.get("KeyA")||this.g.get("KeyQ")||this.g.get("ArrowLeft")?-1:0,c=this.g.get("KeyD")||this.g.get("ArrowRight")?1:0,d=this.g.get("KeyW")||
this.g.get("KeyZ")||this.g.get("ArrowUp")?-1:0,h=this.g.get("KeyS")||this.g.get("ArrowDown")?1:0;this.j.x=b+c||0;this.j.y=d+h||0;this.D=0>this.j.y;this.I=0<this.j.y;this.M=0>this.j.x;this.N=0<this.j.x;this.L=!!this.g.get("Enter")||!!this.g.get("Space");(this.J=!!this.g.get("Escape"))&&A(F);this.D&&(this.i.D||"function"==typeof a.ia&&a.ia());this.I&&(this.i.I||"function"==typeof a.ha&&a.ha());this.N&&(this.i.N||"function"==typeof a.ta&&a.ta());this.M&&(this.i.M||"function"==typeof a.sa&&a.sa());this.L&&
(this.i.L||"function"==typeof a.aa&&a.aa());this.J&&(this.i.J||"function"==typeof a.ra&&a.ra())}}let G=new xa,H=[];function I(a,b,c=0,d=0){H.push({pa:a,time:b,C:b+d,repeat:c})}function ya(a){for(let b=H.length-1;0<=b;b--){let c=H[b];c.C-=a;0>=c.C&&(c.pa(),0>=c.repeat--?H.splice(b,1):c.C=c.time)}}function L(a=0){return"#".repeat(M.i-a)+"%".repeat(3-(M.i-a))}
function Ba(a){a.g={x:0,y:0};let b=`Oh no! ${L()}`,c=`Oh no! ${L(1)}`;ea([b,c],[g.l],Math.floor(200/(6*b.length)));a.text=b;a.i=0;a.j=!0;M.i--;I(()=>{a.text=c},200,3,500);I(()=>{a.text=b},200,2,600);1>M.i?(I(()=>{a.W=!0;a.text="you're fired!"},2E3),I(()=>{A(F)},3500)):I(()=>{a.m()},2E3)}function Ca(a){a.g={x:0,y:0};a.i=0;a.text="Nice!";a.j=!0;let b=a.constructor.name;console.log("next level",b);I(()=>{console.log("addTimeEvent",b);Da()},1500)}
function Ea(a){[[L(),"left",7],[Math.round(a.C),"center",160],[`Lvl ${M.g+1}`,"right",313]].forEach(([b,c,d])=>{[g.v,g.l].forEach((h,f)=>{w(r,{text:b.toString(),x:d-f,y:7-f,textAlign:c,color:h,size:2})})});a=2*Math.round(50*a.C/a.ma/2);x(r,{x:160-a/2,y:20},{x:a,y:8},g.l,g.A)}
class Fa{constructor(){this.g={x:0,y:0};this.j=this.P=!1;this.T=this.i=0;this.ma=10;this.C=0;this.text="";this.W=!1}m(){this.C=this.ma;this.W=this.j=this.P=!1;this.start()}da(){}start(){this.i=0;this.P=!0}s(a){this.j||this.P||(this.da(a),this.C=Math.max(0,this.C-a/1E3),0>=Math.round(this.C)&&Ba(this))}oa(a){if(this.j||this.P){this.i+=a;500>=this.i&&(this.T=-(Math.cos(this.i/500*Math.PI)-1)/2);if(0<this.i){a=320*this.T-160;let b=260*this.T-130,c=this.W?g.l:g.A,d=this.W?g.A:g.l;x(r,{x:320-a-100+8,y:260-
b-25+8},{x:200,y:50},g.l);x(r,{x:a-100,y:b-25},{x:200,y:50},g.l,c);w(r,{text:this.text,x:320*this.T/2,y:130*this.T,textAlign:"center",textBaseline:"middle",size:Math.floor(200/(6*this.text.length)),color:d})}1E3<this.i&&this.P&&(this.P=!1)}Ea(this)}}
class Ga extends Fa{constructor(){super(...arguments);this.ca=4;this.u={x:.3,y:.05};this.ka=7;this.G=0;this.na=100;this.Y=0;this.la=2;this.F=[];this.O=[];this.V=[];this.X=!1}m(){super.m();y.j=!1;y.h={x:20,y:20};this.g={x:0,y:0}}s(a){!this.j&&this.O.some(b=>N(b).S)&&(y.j=!0,Ba(this));[...this.F,...this.O,...this.V].forEach(b=>{b.update(a)});if(!this.j){this.g={x:k(Math.max(Math.min(this.g.x,this.ca),-this.ca)),y:k(this.g.y)};y.h=n({x:Math.max(Math.min(y.h.x+this.g.x,304),0),y:Math.max(Math.min(y.h.y+
this.g.y,260),-260)+1});let b=this.F.find(c=>c.R());!this.j&&this.V.some(c=>{let {S:d,R:h}=N(c);return d||h})&&Ca(this);b?(y.h.y=b.h.y-16,this.Y=this.G=this.g.y=0,this.X=!0):(this.g.y+=this.u.y*a,this.X=!1)}y.j?z(3):0===this.g.x&&0===this.g.y?z(0):0===this.g.y?ua(a):0<this.g.y?z(1):0>this.g.y&&z(2);super.s(a)}da(a){G.D&&this.Y<this.la&&(G.i.D?this.G<this.na&&(this.G+=a,this.g.y=-this.ka):(this.G=0,this.g.y=Math.min(0,this.g.y),this.Y++));this.X&&(G.M?this.g.x-=this.u.x*a:G.N?this.g.x+=this.u.x*a:
0==this.g.y&&(0<this.g.x?this.g.x=Math.max(0,this.g.x-this.u.x*a):0>this.g.x&&(this.g.x=Math.min(0,this.g.x+this.u.x*a))))}}function N(a){var b=y.h.x+y.size.x,c=y.h.y+y.size.y,d=a.h.x+a.size.x,h=a.h.y+a.size.y,f=b>a.h.x,l=y.h.y<h;let m=c>a.h.y;f=y.h.x<d&&f&&l&&m;if(!f)return a.K=!1,{S:!1,R:!1,right:!1,left:!1,bottom:!1,top:!1};d-=y.h.x;b-=a.h.x;h-=y.h.y;c-=a.h.y;l=Math.min(d,b,h,c);a.K=!0;return{S:f,R:a.R(),right:l===d,left:l===b,bottom:l===h,top:l===c}}
class O{constructor(a,b){this.K=!1;this.h=a;this.size=b}update(){this.K=!1}R(){let a=y.h.x+y.size.x-3,b=y.h.y+y.size.y,c=this.h.y+2;return y.h.x+5<this.h.x+this.size.x&&a>this.h.x&&y.h.y<c&&b>=this.h.y}}class P extends O{constructor(a,b,c,d){super(a,b);this.fill=this.g=g.l;this.g=c||"";this.fill=d||this.g}update(){x(r,this.h,this.size,this.g,this.fill)}}
class Q extends P{constructor(a){super(a,{x:130,y:200})}update(){x(r,this.h,this.size,g.o,g.v);[0,50,100,150].forEach(a=>{let [b,c]=[{x:this.h.x-1,y:this.h.y+a},{x:this.size.x+2,y:6}];x(r,b,c,g.o)});for(let a=0;3>a;a++)for(let b=0;5>b;b++)r.g.save(),r.g.translate(this.h.x+8+25*b,this.h.y+14+50*a),x(r,{x:0,y:0},{x:14,y:12},g.o,g.A),x(r,{x:0,y:12},{x:14,y:12},g.o,g.A),r.g.restore()}}
class R extends Ga{constructor(){super(...arguments);this.g={x:0,y:0};this.ca=4;this.u={x:.01,y:.05};this.ka=7;this.G=0;this.na=100;this.Y=0;this.la=2;this.X=!1}m(){super.m();this.text="Jump over";this.F=[new Q({x:2,y:116}),new Q({x:218,y:136})];this.O=[new O({x:0,y:260},{x:320,y:10})];this.V=[new O({x:218,y:135},{x:130,y:10})]}}let Ha=new R;
class Ia extends Fa{constructor(){super(...arguments);this.O=[[-10,-10,10,260],[-10,-10,320,10],[320,-10,10,260],[-10,260,320,10]].map(([a,b,c,d])=>new O({x:a,y:b},{x:c,y:d}));this.u=[]}s(a){super.s(a);this.j||([...this.u,...this.O].forEach(b=>{b=N(b);b.S&&(b.right&&(this.g.x=-this.g.x,y.h.x-=-this.g.x),b.left&&(this.g.x=-this.g.x,y.h.x-=-this.g.x),b.bottom&&(this.g.y=-this.g.y,y.h.y-=-this.g.y),b.top&&(this.g.y=-this.g.y,y.h.y-=-this.g.y))}),sa(this.g.x,this.g.y),this.g={x:k(Math.max(Math.min(this.g.x,
3),-3)),y:k(Math.max(Math.min(this.g.y,3),-3))});0!=this.g.x||0!=this.g.y?ua(a):z(0)}da(a){G.D?this.g.y-=.02*a:G.I?this.g.y+=.02*a:0<this.g.y?this.g.y=Math.max(0,this.g.y-.02*a):0>this.g.y&&(this.g.y=Math.min(0,this.g.y+.02*a));G.M?(this.g.x-=.02*a,y.H=!0):G.N?(this.g.x+=.02*a,y.H=!1):0<this.g.x?this.g.x=Math.max(0,this.g.x-.02*a):0>this.g.x&&(this.g.x=Math.min(0,this.g.x+.02*a))}}
class S extends O{constructor(a,b,c={}){super(a,{x:16,y:16});this.ba=this.$=!1;this.text=this.B=null;this.U=0;this.g=b;this.H=!!c.H;this.$=!!c.$;this.ba=!!c.ba}update(a){this.ba&&q(9,{...this.h,y:this.h.y+8});q(this.g,this.h,this.H);this.B&&q(this.B,this.h);0<this.U&&this.text&&(this.U-=a,a=this.U/1500,w(r,{text:this.text,x:this.h.x+8,y:this.h.y-10+3*a,size:1,color:.66<a?g.l:.33<a?g.o:g.v,textAlign:"center"}))}}
let Ja=()=>[[8,{x:100,y:101}],[8,{x:132,y:101},!0],[9,{x:116,y:101}],[9,{x:116,y:116}],[8,{x:132,y:116},!0],[8,{x:100,y:116}],[10,{x:100,y:80}],[10,{x:116,y:80}],[10,{x:132,y:80}],[11,{x:200,y:116},!0]].sort((a,b)=>a[1].y-b[1].y),Ka=[{x:260,y:116}];ea(["TY#"],[g.l,g.o,g.v],1);function La(){for(let a=0;20>a;a++)x(r,{x:-1,y:13*a},{x:321,y:13},g.v,g.A);x(r,{x:180,y:20},{x:130,y:220},g.v,g.A)}
class Ma extends Ia{constructor(){super(...arguments);this.G=[];this.F=new S({x:50,y:195},14,{H:!0,ba:!0})}m(){0===this.G.length&&(this.G=Ja());this.text="Bring coffee";this.u=[];super.m();y.h=n({x:30,y:30});y.B=[];this.G.forEach(([a,b,c=!1])=>{this.u.push(new S(b,a,{H:c}))});Ka.forEach((a,b)=>{this.u.push(new S(a,la[b],{$:!0}))});this.F.K=!1;this.u.push(this.F)}s(a){La();this.u.forEach(b=>{b.update(a);b.$&&b.K&&(!b.B&&0<y.B.length?(b.B=12,b.text="TY#",b.U=1500,y.B.pop(),Ca(this)):b.K=!1)});this.F.K&&
1>y.B.length&&y.B.push(13);super.s(a)}}let Na=new Ma;
class Oa extends R{constructor(){super(...arguments);this.ea=new O({x:160,y:230},{x:48,y:5})}m(){super.m();this.text="Jump over";this.O=[new P({x:0,y:240},{x:320,y:20},g.o)];this.F=[new Q({x:-260/3,y:66}),new Q({x:320-130/3,y:66})];this.V=[new O(this.F[1].h,{x:130,y:1})]}s(a){let {S:b,R:c}=N(this.ea);if(b||c)console.log("collided"),this.g.y=-this.g.y;let d=this.ea.h,h=this.ea.size;[{h:{x:d.x+3,y:d.y+h.y-1},size:{x:3,y:8}},{h:{x:d.x-6+h.x,y:d.y+h.y-1},size:{x:3,y:8}},{h:d,size:h}].forEach(({h:f,size:l})=>
{x(r,f,l,g.l,g.A)});super.s(a)}}let Pa=new Oa;class Qa extends R{m(){super.m();this.text="Land safely";this.O=[new P({x:0,y:240},{x:320,y:20},g.o)];let a=new P({x:218,y:235},{x:32,y:5},g.l,g.A);this.V=[a];this.F=[new Q({x:-20,y:66}),a]}}
let Ra=new Qa,Sa=[{name:"Assistant Dave",Z:"If you want to make it big in Hollywood kid, you better do as I say!",fa:"Is that all you got?",ja:"I guess you're not totally worthless!",ga:"Stop wasting my time kid!"},{name:"Producer Elena",Z:"Just do as you're told and don't get in my way.",fa:"Hurry, I don't have all day",ja:"Obedient and disciplined. You'll get far, child.",ga:"Is there some reason my coffee isn\t here?"},{name:"Director Alfred",Z:"Good evening. Are you ready to face your fears?",
fa:"Time for your final act",ja:"Well done. I must admit, you handled the tension admirably.",ga:"Was this worth the price of admission?"},{name:"Wally",Z:"I've been following you growth. Show me what you got, ha ha.",fa:"The wheel must keep spinning, ha ha!",ja:"Splendid. I can definitely use you, ha ha!",ga:"This just won't do ha ha"}],Ta=[[Na,Ha,Ra,Pa],[Pa,Na,Ha]];function Da(){var a=M;a.g++;a.i=3;A(Ta[a.j][a.g]||F)}class Ua{constructor(){this.j=0;this.g=-1;this.i=3}}
let M=new Ua,U=[[6,5,3,3,5,5,0,5,-2,0,-2,0,6,3,2,3],[4,3,5,4,3,5,6,4,3,5,4,3,5,6,4,3],[3,2,3,6,0,-2,0,-2,5,0,5,5,3,3,5,6]],Va=[[2,3,2.5,4],[4,3.5,3,2.5],[4,2.5,3,2]],Wa=(a,b)=>c=>Math.sin(60*Math.pow(10,-(c+1)/2048%8))/8+Math.tan(Math.cbrt(Math.sin(c*a[c>>13&15]/30)))/[2,3,4,6,8,12,16,24][c/[1,1.5][c>>12&1]>>10&7]/32+Math.cbrt(Math.asin(Math.sin(c/b[c>>16&3]/10)))/64;
class Xa{constructor(){this.source=null;this.i=[];this.g=new AudioContext;for(let a=0;3>a;a++){let b=U[a%U.length],c=Va[a%U.length],d=32E3*(b.length+.4)/2,h=this.g.createBuffer(1,d,32E3),f=h.getChannelData(0);for(let l=0;l<d;l++)f[l]=Wa(b,c)(l);this.i.push(h)}}start(){this.g=new AudioContext;this.source=this.g.createBufferSource();this.source.buffer=this.i[M.g];this.source.connect(this.g.destination);this.source.loop=!0;this.source.start()}}
let V,W=!1,Ya=a=>{W=!0;let b=a.replace(/[^a-zA-Z\s]/g,"").split(" "),c=0,d=()=>{if(W&&c<b.length){var h=d,f=Math.floor(b[c].replace(/[^a-zA-Z\s]/g,"").length/2)||1,l=1+.5*(Math.random()-.5);let p=new AudioContext;var m=3E3*(f+.25);let u=p.createBuffer(1,m,48E3),v=u.getChannelData(0);for(;m--;){let t=3E3*f;v[m]=m>t?0:Math.sin(l*m/25-.5*Math.sin(m/5))*Math.sin(m/(t/f)*Math.PI)*.2}f=p.createBufferSource();f.buffer=u;f.connect(p.destination);f.start();f.addEventListener("ended",h);c++}};d()},X=0,Za=0,
$a="",ha="",ab;function bb(a){X+=a;30<=X&&(Za++,X-=30);x(r,{x:5,y:190},{x:310,y:50},g.v,g.A);x(r,{x:8,y:193},{x:304,y:44},g.v,g.A);w(r,{text:$a,x:12,y:197,size:2,color:g.o});fa().forEach((b,c)=>{w(r,{text:b,x:12,y:215+8*c,size:1,qa:Za-40*c})});r.g.save();r.g.translate(275,200);r.g.save();r.g.scale(2,2);q(ab,{x:0,y:0});r.g.restore();r.g.restore()}class cb{m(){let {name:a,Z:b}=Sa[M.j];$a=a;ha=b;ab=ma[M.j];Za=X=0;Ya(b)}s(a){qa();bb(a)}aa(){W=!1;Da()}}let Y=[[" Story mode",80],[" Endless mode",160]];
class db{constructor(){this.g=0}m(){this.g=0;V&&V?.source?.stop()}s(){w(r,{text:"Levels",x:160,y:30,textAlign:"center",color:g.o,size:3});[...Y,["&",0===this.g?Y[0][1]:Y[1][1]]].forEach(([a,b])=>{w(r,{text:a,x:66,y:b,color:g.l,size:2})});w(r,{text:"Press ENTER to start",x:160,y:240,textAlign:"center",color:g.o,size:1});r.g.save();r.g.translate(76,100);[4,5,6,7].forEach((a,b)=>{r.g.save();r.g.scale(2,2);b={x:21*b,y:0};x(r,b,{x:16,y:16},g.v);q(a,b);r.g.restore()});r.g.restore()}ia(){this.g--;0>this.g&&
(this.g=Y.length-1)}ha(){this.g++;this.g>Y.length-1&&(this.g=0)}aa(){0===this.g&&A(new cb)}}let eb=new db,fb=["new game","continue","about"];
class gb{constructor(){this.g=0}m(){V&&V?.source?.stop()}s(){["THIRTEEN","TERRIBLE","STUNTS"].forEach((a,b)=>[g.v,g.l].forEach((c,d)=>w(r,{text:a,x:160-d,y:40+15*b-d,textAlign:"center",color:c,size:2})));fb.forEach((a,b)=>{w(r,{text:a,x:160,y:120+16*b,textAlign:"center",color:b===this.g?g.l:g.o,size:1})});r.g.save();r.g.rotate(-25);r.g.scale(8,8);q(2,{x:3.75,y:15});r.g.restore()}ia(){this.g--;0>this.g&&(this.g=fb.length-1)}ha(){this.g++;this.g>fb.length-1&&(this.g=0)}aa(){0===this.g&&(M.j=0,M.g=-1,
A(eb))}}let F=new gb;document.querySelector('link[type="image/x-icon"]').href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E\ud83c\udf9e%3C/text%3E%3C/svg%3E";E=new wa(...[]);let hb=0,Z=[];V=new Xa;function ib(a){let b=a-hb;hb=a;Z.push(1E3/b);15===Z.length&&(fps.innerHTML=`${Math.round(Z.reduce((c,d)=>c+d)/15)} FPS`,Z=[]);pa();a=E.g;G.s(a);a.s(b);a.oa&&a.oa(b);ya(b);requestAnimationFrame(ib)}requestAnimationFrame(ib);
