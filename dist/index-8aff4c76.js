function d(a){var b=g,c=[];b.g.ua?.();b.g=a;b.g.s?.(...c)}class aa{constructor(...a){this.g=h;this.g.s?.(...a)}}
let g,ba=a=>a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(b,c,e,f,k)=>"#"+c+c+e+e+f+f+k+k).substring(1).match(/.{2}/g).map(b=>parseInt(b,16)),ca="6v7ic 2rwzo 6nvic 58jgo 55eyo jz6bo   34ao 7k b28 m0 20o0o 9a7vy jbmjj jf63j ivhmn etrs7 ju8e7 jalrz jeyks jwdj3 jwdlv 2t8g 2t8s 34yo lskg m2yo jf4lo jysjy 98ruh j8htq 9v7zj j8d32 ju78f ju8t4 9ul2n g44e1 jykrj jewdq g4rbt fgsgv hha5t g6xgz 98rou j8d7c 98uwe j8d7d 9xgxq jykqs g3zn2 g3z9g b1ipn h4qu3 c8oz2 jhyfz    ".split(" "),m={},da=async(a,b,
c)=>{let e=a+c+b;if(!m[e]){var f=5*b,k=1*b,l=f+k,p=l*a.length-k,w=new ImageData(p,f),[D,B,C,K]=ba(c);a.replace("!","@").toUpperCase().split("").forEach((L,Ja)=>{String(parseInt(" "===L?"0":ca[L.charCodeAt(0)-35],36).toString(2)).padStart(25,"0").split("").forEach((M,Ka)=>{if("0"!==M)for(M=0;M<b;M++){var T=Ka*b;T=4*(Ja*l+T%f+b*p*Math.floor(T/f)+p*M);for(let ea=0;ea<b;ea++){let U=4*ea+T;w.data[U]=D;w.data[U+1]=B;w.data[U+2]=C;w.data[U+3]=K||255}}})});a=await createImageBitmap(w);m[e]=a}},fa=(a,{text:b,
color:c=n.A,textAlign:e="left",textBaseline:f="top",size:k=2,Ha:l=999,...p})=>{let w=Math.round(p.x),D=Math.round(p.y);b||=" ";let B=5*k;var C=1*k;p=B+C;C=p*b.length-C;let K=b+c+k,L="left"===e?0:"center"===e?Math.round(C/2):C;e="top"===f?0:"middle"===f?Math.round(B/2):B;m[K]?(b=l*p,a.drawImage(m[K],0,0,b,p,w-L,D-e,b,p)):da(b,k,c).then(()=>{a.drawImage(m[K],w-L,D)})},ha=(a,b,c)=>{a.forEach(e=>{b.forEach(f=>da(e,c,f))})};function q(a){return.1>a&&-.1<a?0:a}
function r(a,b,c){return Math.max(Math.min(a,c),b)}function ia(){var a=ja;let b=RegExp("(.{1,40})(\\s|$)","g"),c=[],e;for(;null!==(e=b.exec(a));)c.push(e[1].trim());return c}function ka(a){return{x:Math.round(a.x),y:Math.round(a.y)}}function la({x:a,y:b},c){return{x:a+c.x,y:b+c.y}}function ma(a){let b={...a};Object.keys(b).forEach(c=>{b[c]*=1+.3*Math.random()});return b}
let t=(a,b)=>a[0]+(a[1]-a[0])*b,u=(a,b,c)=>({x:a.x+b,y:a.y+c}),n={A:"#1F0A00",G:"#FFFCEA",C:"#A29782",F:"#CEC6AD"},na=Object.values(n).join("").replace(/#/g,"");n.A.repeat(4);
let oa="@@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@E@T@@T@PA@ @@@@@@@@@@@@@@@@@TUUA@djjZ@PjjjA@ijjF@dZjY@PjjjA@iZeF@TUUU@TjjjEDijjFQTUUUD@UUU@@@EPA@ @TUUA@djjZ@PjifA@ijjF@djUZ@PjjjQ@ijjFATUUUATjjjADiejFPTUUU@@UUU@@PAU@@@@U@@@@T@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@PUUUA@YijZ@eejjFUVjjZEYiZfEdfffFPZZfYUiiijUUUUUE@D@@@@@U@@@ @@@@@@@UUE@@UUUA@ijjU@dfZZAPjYjE@iifV@ifZZAdjjjFPjUeZ@iZUjAPjjjA@TejU@UijUEUUjUUTUUUUA @@@@@@PUUE@PeZUAPijjU@ijjVAeUVYUTjifVQijjZEejjjUPjUjVAijjZ@PjjZ@@TiU@@@dF@@PUVUAPUUUU@ @TUU@@djjF@djjjAPUUUF@ijjV@djjjAPVjeF@ijjZ@djjjAPjUjF@djjF@@ejF@@@iF@@TeZU@TUYUEPUUUU@ @PA@E@PU@UAPUUUU@UiVUAPijUA@djZA@PfiF@@YfZ@@djjATdjjFPejjZ@djjZ@@UUU@@@@U@@@@UE@@PUUE@ p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@ @\u007f\u007f\u007fC@kjjz@kjjjNkjjjjojjjj~jjjjzkjjjjojjjj~kjjj~{jjjns~\u007f\u007foCljjjCp\u007f\u007f\u007fO@kCpz@lN@kCp\u007f@|O@ @p\u007fO@@|jjO@ljzjCpjznNpjjnjCknjjNlnkjzpjkzjskjzn~ojjnzokjjz~z\u007f\u007f\u007fzkjjjj\u007f\u007f\u007f\u007f\u007f\u007fjjjjz|\u007f\u007f\u007f\u007f@ @pOpO@pjsjC@kNkNLlzozpC\u007fj\u007f@{sjz@l~kjCpzojN@{s\u007f\u007f@|@pN@p@pjC@@p~{@@pNpN@pN@lCpN@@{@O@@pC @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|C@@@pW@@@@\u007fC@@@|K@@@@J@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@TUE@@djjA@d~\u007fZ@T^UmAdZUUFPfVUZ@YjjjEtjjjfQujj^Fi}\u007f_ZPZUUZ@djjZ@@UUU@@@@@@@ PUUUU@ijjjAdjjjFPjjjZ@UUUUAt\u007f\u007f\u007fGPUUu^@@@P\u007fAPUEmGPTVt_@QYQ\u007fADeE}G@TUt_@UUU\u007fAt\u007f\u007f\u007fGPUUUU@ @@\u007fC@@pkzC@pz\u007fz@p~\u007f\u007fNp~\u007f\u007foC{\u007f\u007f\u007fN{\u007f\u007f\u007foo\u007f\u007f\u007f\u007f~~\u007f\u007f\u007f{{\u007f\u007f\u007fos~\u007f\u007foC{\u007f\u007f\u007fNp~\u007f\u007fN@l~oN@@ojO@@@\u007fC@@ @@@@@@TUUA@TejZATUffEPUYZV@UejZAPeZiA@djjF@PUUU@PijjEPdjjFAQjjZDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUA@PjjZ@@ijjA@dZZF@PjiY@@iZiA@djjF@PUUU@PiZiEPdjjFAQUUUDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUA@PUUU@@ijjA@TUUE@PZiU@@ijjA@djjF@PUUU@PUUVEPTUYEAQUUUDPUUUE@PAPA@@E@E@@@@@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@@@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@E@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@@@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @|@L|psO|\u007fLk~sz\u007flzC|O@ C@@sp||@\u007f\u007fso{ljNlzC|O@".split(" "),pa=
[],qa=[],ra=[],sa=[];async function ta(a,b){let c=[];[...b].map(k=>{k=k.charCodeAt(0);c.push(k&3);c.push(k>>2&3);c.push(k>>4&3)});b=Math.floor(Math.sqrt(c.length));let e=new ImageData(b,b);for(let k=0;k<b;k++)for(let l=0;l<b;l++)if(c[k*b+l]){var f=6*(c[k*b+l]-1);let [p,w,D,B]=ba("#"+na.substring(f,f+6));f=4*(l+k*b);e.data[f]=p;e.data[f+1]=w;e.data[f+2]=D;e.data[f+3]=B||255}b=await createImageBitmap(e);pa[a]=b}
async function ua(){let a=performance.now();return Promise.all(oa.map((b,c)=>ta(c,b))).then(()=>{console.debug(`Loaded icons in ${performance.now()-a}ms`);qa=[16,17,18];ra=[4,5,6,7];sa=[19,20,21,22,23,24]})}function v(a,b,c=!1,e=!1,f=!1){var k=x;if(a=pa[a])k.g.save(),c&&(k.g.filter="brightness(0)"),k.g.translate(b.x+(e?a.width:0),b.y),k.g.save(),k.g.scale(e?-1:1,1),f&&(k.g.beginPath(),k.g.rect(0,0,16,8),k.g.clip()),k.g.drawImage(a,0,0),k.g.restore(),k.g.restore()}function y(a,b){fa(a.g,b)}
function va(){var a=x;a.g.clearRect(0,0,320,256);a.g.fillStyle=n.G;a.g.fillRect(0,0,320,256)}function z(a,b,c,e,f){let {x:k,y:l}=ka(b);a.g.fillStyle=e;a.g.fillRect(k,l,c.x,c.y);a.g.fillStyle=f||e;a.g.fillRect(k+1,l+1,c.x-2,c.y-2)}function A(a,b,c,e,f,k){b=Math.round(b);c=Math.round(c);e=Math.round(e);f=Math.round(f);e-=b;f-=c;let l=Math.max(Math.abs(e),Math.abs(f));e/=l;f/=l;a.g.fillStyle=k;a.g.beginPath();for(k=0;k<=l;k++)a.g.rect(Math.round(b)-1,Math.round(c)-1,3,3),b+=e,c+=f;a.g.fill()}
function wa(){var a=x;a.g.save();a.g.translate(80,80);[{x:12,y:0},{x:0,y:12},{x:12,y:12},{x:24,y:12}].forEach(({x:b,y:c})=>{z(a,{x:b,y:c},{x:10,y:10},n.C,n.F)});y(a,{text:"move",x:18,y:30,textAlign:"center",size:2});a.g.restore();a.g.save();a.g.restore()}function xa(a,b,c){a.g.save();a.g.globalAlpha=.5;a.g.transform(c,-1+c,0,1,0,0);a.g.beginPath();a.g.moveTo(0,256);b.forEach(([e,f])=>{a.g.lineTo(320*e,256*f)});a.g.fillStyle=n.A;a.g.clip();a.g.fillRect(0,0,320,256);a.g.restore()}
function ya(a,b,c){a.g.save();a.g.transform(Math.pow(c,3),.5*(-1+c),0,1,0,0);a.g.beginPath();a.g.moveTo(0,256);b.forEach(([e,f])=>{a.g.lineTo(320*e,256*f)});a.g.fillStyle=n.G;a.g.strokeStyle=n.F;a.g.stroke();a.g.clip();b=Math.round(320/30);a.g.fillRect(0,0,320,256);for(c=0;30>c;c++)a.g.strokeRect(b*c,0,b,256);a.g.restore()}function za(a,b){var c=x;b=[[0,0],[.5,0],[1,.5],[.8,.5],[.8,.5-b.y],[1-(.2+b.x),.5-b.y],[1-(.2+b.x),.5+b.y],[.8,.5+b.y],[.8,.5],[1,.5],[.5,1],[0,1]];xa(c,b,a);ya(c,b,a)}
function Aa(a){var b=x,c=2*Math.PI/8;for(let e=0;8>e;e++){let f=c*(e+8*a);b.g.save();b.g.translate(160,128);A(b,40*Math.cos(f),40*Math.sin(f),40*Math.cos(f+c),40*Math.sin(f+c),n.C);A(b,0,0,80*Math.cos(f),80*Math.sin(f),n.C);b.g.restore()}c=148+5*Math.sin(2*Math.PI*a);a=148+5*Math.cos(2*Math.PI*a);A(b,0,c,320,a,n.C);b.g.beginPath;b.g.moveTo(0,c);b.g.lineTo(320,a);b.g.lineTo(320,256);b.g.lineTo(0,256);b.g.lineTo(0,c);b.g.fill()}
class Ba{constructor(){this.g=c2d.getContext("2d",{alpha:!1});this.g.imageSmoothingEnabled=!1}}let x=new Ba;function E(a,b){F.h=ka({x:a,y:b})}function Ca(){var a=F;a.h=la(a.h,a.i)}function Da(a){a.I.forEach((b,c)=>{v(b,{...a.h,y:a.h.y-12*(c+1)})})}function G(a){var b=F;v(a,b.h,!1,b.H);Da(b)}function Ea(a){var b=F;b.g+=a;60<=b.g&&(b.j=(b.j+1)%6,b.g-=60);v(sa[b.j],b.h,!1,b.H);Da(b)}function Fa(){var a=F;v(2,a.h,!1,a.H,!0)}
class Ga{constructor(){this.j=this.g=0;this.size={x:16,y:16};this.h={x:0,y:0};this.H=!1;this.I=[];this.ga=!1;this.i={x:0,y:0}}}let F=new Ga,H=[];function I(a,b,c=0,e=0){H.push({Ga:a,time:b,K:b+e,repeat:c})}function Ha(a){for(let b=H.length-1;0<=b;b--){let c=H[b];c.K-=a;0>=c.K&&(c.Ga(),0>=c.repeat--?H.splice(b,1):c.K=c.time)}}function Ia(a=0){return"#".repeat(J.j-a)+"%".repeat(4-(J.j-a))}
function N(a){F.i={x:0,y:0};let b=`Oh no! ${Ia()}`,c=`Oh no! ${Ia(1)}`;ha([b,c],[n.A],Math.floor(200/(6*b.length)));a.text=b;a.M=0;a.j=!0;J.j--;I(()=>{a.text=c},200,3,500);I(()=>{a.text=b},200,2,600);1>J.j?(I(()=>{a.da=!0;a.text="you're fired!"},2E3),I(()=>{d(h)},3500)):I(()=>{O()},2E3)}function P(a){F.i={x:0,y:0};a.M=0;a.text="Nice!";a.j=!0;I(()=>{O()},1500)}
function La(a){[[Ia(),"left",7],[Math.round(a.K),"center",160],[`Lvl ${J.g+1}`,"right",313]].forEach(([b,c,e])=>{[n.F,n.A].forEach((f,k)=>{y(x,{text:b.toString(),x:e-k,y:7-k,textAlign:c,color:f,size:2})})});a=2*Math.round(50*a.K/a.za/2);z(x,{x:160-a/2,y:20},{x:a,y:8},n.A,n.G)}
class Q{constructor(){this.j=this.B=!1;this.ca=this.M=0;this.za=10;this.K=0;this.text="";this.da=!1}s(){this.K=this.za;this.da=this.j=this.B=!1;F.i={x:0,y:0};this.start()}ua(){H=[]}ea(){}start(){this.M=0;this.B=!0}qa(){this.j||N(this)}u(a){this.j||this.B||(this.ea(a),this.K=Math.max(0,this.K-a/1E3),0>=Math.round(this.K)&&this.qa())}Ea(a){if(this.j||this.B){this.M+=a;500>=this.M&&(this.ca=-(Math.cos(this.M/500*Math.PI)-1)/2);if(0<this.M){a=320*this.ca-160;let b=256*this.ca-128,c=this.da?n.A:n.G,e=
this.da?n.G:n.A;z(x,{x:320-a-100+8,y:256-b-25+8},{x:200,y:50},n.A);z(x,{x:a-100,y:b-25},{x:200,y:50},n.A,c);y(x,{text:this.text,x:320*this.ca/2,y:128*this.ca,textAlign:"center",textBaseline:"middle",size:Math.floor(200/(6*this.text.length)),color:e})}1E3<this.M&&this.B&&(this.B=!1)}La(this)}}var Ma=[0,.2],Na=[.04,.08];
class Oa extends Q{constructor(){super(...arguments);this.o=0;this.l=.07;this.D=.1;this.g=0}s(){super.s();this.text="Spotlight";this.o=160;this.g=0;let a=R();this.l=t(Na,a);this.D=t(Ma,a)}u(a){super.u(a);z(x,{x:0,y:206},{x:320,y:50},n.F);v(11,{x:16,y:190},!1,!0);for(var b=0;4>b;b++)v(10,{x:160-32*b-24,y:190}),v(10,{x:32*b+168,y:190});v(16,{x:this.o-8,y:196},!1,0>this.l);x.g.beginPath();x.g.moveTo(160,80);x.g.globalAlpha=1;x.g.fillStyle=n.C;b=160+512*Math.sin(2*(this.g+.05)*Math.PI);var c=80+512*Math.cos(2*
(this.g+.05)*Math.PI),e=160+512*Math.sin(2*(this.g-.05)*Math.PI),f=80+512*Math.cos(2*(this.g-.05)*Math.PI);x.g.lineTo(b,c);x.g.lineTo(320,256);x.g.lineTo(320,0);x.g.lineTo(0,0);x.g.lineTo(0,256);x.g.lineTo(e,f);x.g.lineTo(160,80);x.g.fill();A(x,160,80,b,c,n.F);A(x,160,80,e,f,n.F);v(0,{x:152,y:64});v(15,{x:152,y:72});40<Math.abs(this.o-160-144*Math.sin(2*Math.PI*this.g))&&!this.j&&N(this);this.j||this.B||(a*Math.random()<this.D&&(this.l*=-1),this.o+=a*this.l);256<this.o&&(this.l*=-1);64>this.o&&(this.l*=
-1)}qa(){P(this)}ea(a){S.T&&(this.g+=2E-4*a);S.S&&(this.g-=2E-4*a);this.g=r(this.g,-.125,.125)}}let Pa=new Oa;
class V extends Q{constructor(){super(...arguments);this.la=4;this.l={x:.3,y:.05};this.na=7;this.xa=14;this.aa=0;this.fa=!0;this.oa=0;this.ya=2;this.g=[];this.o=[];this.D=[];this.N=!0;this.Aa=512;this.Ba=-256;this.Da=0}s(){super.s();Object.assign(F,{H:!1,ga:!1,h:{x:20,y:20},i:{x:0,y:0}})}ma(){return!this.j&&this.D.some(a=>a.Z().U)}u(a){!this.j&&this.o.some(b=>b.Z().Y)&&(F.ga=!0,N(this));!this.j&&this.ma()&&P(this);if(!this.j){F.i={x:q(r(F.i.x,-this.la,this.la)),y:q(F.i.y)};E(r(F.h.x+F.i.x,0,304),
r(F.h.y+Math.min(this.xa,F.i.y),this.Ba,this.Aa)+1);let b=this.g.find(c=>c.U());b?(F.h.y=b.h.y-16,this.oa=this.aa=F.i.y=0,this.N=!0):(F.i.y+=this.l.y*a,this.N=!1)}x.g.save();x.g.translate(0,this.Da);[...this.g,...this.o,...this.D].forEach(b=>{b.update(a)});this.L();this.Ca(a);x.g.restore();super.u(a)}L(){}Ca(a){F.ga?G(3):0===F.i.x&&0===F.i.y?G(0):0===F.i.y?Ea(a):0<F.i.y?G(1):0>F.i.y&&G(2)}ea(a){S.J&&this.oa<this.ya&&(!this.N||this.fa)?S.j.J?100>this.aa&&(this.fa=!1,this.aa+=a,F.i.y=-this.na):(this.fa=
!0,this.aa=0,F.i.y=Math.min(0,F.i.y),this.oa++):S.J||(this.fa=!0);this.N&&(S.S?F.i.x-=this.l.x*a:S.T?F.i.x+=this.l.x*a:0==F.i.y&&(0<F.i.x?F.i.x=Math.max(0,F.i.x-2*this.l.x*a):0>F.i.x&&(F.i.x=Math.min(0,F.i.x+2*this.l.x*a))))}}
class W{constructor(a={x:0,y:0},b={x:0,y:0}){this.W=!1;this.h=a;this.size=b}update(){this.W=!1}Z(){var a=F.h.x+F.size.x,b=F.h.y+F.size.y,c=this.h.x+this.size.x,e=this.h.y+this.size.y,f=a>this.h.x,k=F.h.y<e;let l=b>this.h.y;f=F.h.x<c&&f&&k&&l;if(!f)return this.W=!1,{Y:!1,U:!1,right:!1,left:!1,bottom:!1,top:!1};c-=F.h.x;a-=this.h.x;e-=F.h.y;b-=this.h.y;k=Math.min(c,a,e,b);this.W=!0;return{Y:f,U:this.U(),right:k===c,left:k===a,bottom:k===e,top:k===b}}U(){if(0>F.i.y)return!1;let a=F.h.x+F.size.x-3,b=
F.h.y+F.size.y,c=this.h.y+2;return F.h.x+5<this.h.x+this.size.x&&a>this.h.x&&F.h.y<c&&b>=this.h.y}$(a,b){z(x,this.h,this.size,b||a,a)}}class X extends W{constructor(a,b,c,e){super(a,b);this.fill=this.stroke=n.A;this.stroke=c||"";this.fill=e||this.stroke}update(){z(x,this.h,this.size,this.stroke,this.fill)}}
class Y extends X{constructor(a,b=3){super(a,{x:130,y:50*b});this.g=0;this.g=b}update(){z(x,this.h,this.size,n.C,n.F);for(let a=0;a<this.g;a++){let [b,c]=[{x:this.h.x-1,y:this.h.y+50*a},{x:this.size.x+2,y:6}];z(x,b,c,n.C);for(let e=0;5>e;e++)x.g.save(),x.g.translate(this.h.x+8+25*e,this.h.y+14+50*a),z(x,{x:0,y:0},{x:14,y:12},n.C,n.G),z(x,{x:0,y:12},{x:14,y:12},n.C,n.G),x.g.restore()}}}var Qa=[8,12];
class Ra extends V{constructor(){super(...arguments);this.l={x:.01,y:.05};this.m=10;this.na=8.5;this.ya=1}s(){super.s();this.text="Climb up";this.m=t(Qa,R());this.Aa=Number.MAX_SAFE_INTEGER;this.Ba=-Number.MAX_SAFE_INTEGER;F.h={x:160,y:128+50*this.m-10};this.g=[];for(let a=0;a<this.m;a++)this.g.push(new Y({x:95,y:50*a+128},1));this.g.push(new X(la(this.g[this.g.length-1].h,{x:0,y:50}),{x:130,y:10}));this.o=[new W({x:0,y:50*this.m+138},{x:320,y:256})]}u(a){this.Da=-F.h.y+128;super.u(a)}L(){super.L();
let a=this.o[0].h.y-16;for(let b=0;6>b;b++)v(10,{x:225+16*b,y:a}),v(10,{x:95-16*(b+1),y:a});this.o[0].$(n.C)}ma(){return!this.j&&this.g[0].U()}}let Sa=new Ra;var Ta=[4,6];
class Ua extends Ra{constructor(){super(...arguments);this.V=[];this.O=0;this.m=5;this.v=!1}s(){super.s();this.text=" Escape ";this.V=[];this.v=!1;this.m=t(Ta,R());F.h={x:160,y:128};for(let a=0;a<this.g.length-1;a++)this.V.push(4+16*Math.round(98*Math.random()/16))}u(a){this.O+=a/40;super.u(a)}ma(){return this.g[this.g.length-1].U()}L(){super.L();let {x:a,y:b}=this.g[0].h,c=Math.round(this.O/3)%3;this.g.forEach((e,f)=>{v(1<=c?25:26,{x:a-4,y:e.h.y+10*Math.cos(f+1)},!1,0===c%2);v(1<=c?25:26,{x:a+130-
4,y:e.h.y+20*Math.cos(f)},!1,0===c%2)});this.g[this.g.length-1].$(n.G,n.A);this.v=!1;this.V.forEach((e,f)=>{let k=16*Math.round(F.h.x/16)===16*Math.round((a+e)/16)&&F.h.y<b+50*f&&F.h.y>b+50*(f-1);this.v||(this.v=k);let l=k?n.A:n.C;x.g.save();x.g.translate(a+e,b+50*f);[0,10].forEach(p=>z(x,{x:p,y:0},{x:2,y:50},l));for(e=0;6>e;e++)z(x,{x:0,y:6+7*e},{x:10,y:2},l);x.g.restore()})}ta(){this.v&&(F.i.y=2,F.i.x=0,F.h.y+=15)}}let Va=new Ua;
class Wa extends Q{constructor(){super(...arguments);this.v=[[-10,-10,10,256],[-10,-10,320,10],[320,-10,10,256],[-10,256,320,10]].map(([a,b,c,e])=>new W({x:a,y:b},{x:c,y:e}));this.g=Array.from({length:16},()=>[]);this.m=256/13}u(a){super.u(a);this.j||([...this.g.flat(),...this.v].forEach(b=>{let c=b.Z();c.Y&&(c.right&&(F.h.x=b.h.x+b.size.x,F.i.x=0),c.left&&(F.h.x=b.h.x-b.size.x,F.i.x=0),c.bottom&&(F.h.y=b.h.y+b.size.y,F.i.y=0),c.top&&(F.h.y=b.h.y-b.size.y,F.i.y=0))}),Ca(),F.i={x:q(r(F.i.x,-3,3)),
y:q(r(F.i.y,-3,3))});0!=F.i.x||0!=F.i.y?Ea(a):G(0)}ea(a){S.J?F.i.y-=.02*a:S.P?F.i.y+=.02*a:0<F.i.y?F.i.y=Math.max(0,F.i.y-.02*a):0>F.i.y&&(F.i.y=Math.min(0,F.i.y+.02*a));S.S?(F.i.x-=.02*a,F.H=!0):S.T?(F.i.x+=.02*a,F.H=!1):0<F.i.x?F.i.x=Math.max(0,F.i.x-.02*a):0>F.i.x&&(F.i.x=Math.min(0,F.i.x+.02*a))}}function Xa(a){a.text="TY#";a.g=1500}
class Ya extends W{constructor(a,b,c={}){super(a,{x:16,y:16});this.ja=this.ba=!1;this.text=this.I=null;this.g=0;this.j=b;this.H=!!c.H;this.ba=!!c.ba;this.ja=!!c.ja}update(a){this.ja&&v(9,{...this.h,y:this.h.y+8});v(this.j,this.h,!1,this.H);this.I&&v(this.I,this.h,!1);0<this.g&&this.text&&(this.g-=a||0,a=this.g/1500,y(x,{text:this.text,x:this.h.x+8,y:this.h.y-10+3*a,size:1,color:.66<a?n.A:.33<a?n.C:n.F,textAlign:"center"}))}}
let Za=()=>[[8,6,6],[8,8,6,!0],[9,7,6],[9,7,7],[8,8,7,!0],[8,6,7],[10,6,5],[10,7,5],[10,8,5],[11,12,7,!0]].sort((a,b)=>a[2]-b[2]);var $a=[1,5];ha(["TY#"],[n.A,n.C,n.F],1);
class ab extends Wa{constructor(){super(...arguments);this.l=new Ya({x:48,y:192},14,{H:!0,ja:!0});this.o=0}s(){this.text="Bring coffee";this.g=Array.from({length:16},()=>[]);this.o=t($a,R());super.s();E(30,30);F.I=[];Za().forEach(([a,b,c,e=!1])=>{this.g[c][b]=new Ya({x:16*b,y:16*c},a,{H:e})});this.l.W=!1;this.g[this.l.h.y/16][this.l.h.x/16]=this.l;for(let a=0;a<this.o;a++){let b=0,c=0,e=!1;for(;!e;){b=Math.floor(20*(.15+.7*Math.random()));c=Math.floor(16*(.15+.7*Math.random()));e=!0;for(let f=-1;1>=
f&&e;f++)for(let k=-1;1>=k&&e;k++)if(this.g[c+f]&&this.g[c+f][b+k]||F.h.x==b+k&&F.h.y==c+f)e=!1}this.g[c][b]=new Ya({x:16*b,y:16*c},qa[a%qa.length],{ba:!0,H:!0})}}u(a){this.$();this.g.flat().forEach(b=>{b.update(a);b.ba&&b.W&&(!b.I&&0<F.I.length?(b.I=12,Xa(b),F.I.pop(),this.g.flat().some(c=>c.ba&&!c.I)||P(this)):b.W=!1)});if(this.l.W&&1>F.I.length)for(;F.I.length<this.o;)F.I.push(13);super.u(a)}$(){for(let a=0;a<this.m;a++)z(x,{x:-1,y:13*a},{x:321,y:13},n.F,n.G);z(x,{x:180,y:20},{x:130,y:216},n.F,
n.G)}}let bb=new ab;var cb=[10,30],db=[5E3,2E3];
class eb extends Wa{constructor(){super(...arguments);this.progress=0;this.D=5E3;this.l={x:.2,y:.1};this.o=null}s(){super.s();this.progress=0;this.text="Stay in";E(160,160);var a=R();let b=t(cb,a);this.D=t(db,a);a=320*this.l.x;var c=512*this.l.y,e=.6*a,f=.6*c;this.o=new W({x:192+(a-e)/2,y:128-256*this.l.y+(c-f)/2},{x:e,y:f});this.g=Array.from({length:16},()=>[]);for(a=0;a<b;a++){c=!1;for(f=e=0;!c;){e=Math.floor(20*Math.random());f=Math.floor(16*Math.random());c=!this.g[f][e];for(let k=-1;1>=k&&c;k++)for(let l=
-1;1>=l&&c;l++)F.h.x==16*(e+l)&&F.h.y==16*(f+k)&&(c=!1)}this.g[f][e]=new Ya({x:16*e,y:16*f},10)}}u(a){super.u(a);this.g.flat().forEach(b=>b.update());this.B||(1<=this.progress?this.j||(this.o?.Z().Y?P(this):N(this)):this.progress+=a/this.D,za(Math.pow(this.progress,3),this.l))}}let fb=new eb,gb=[3E3,2500];function hb(a){let b=(a.g+a.L-a.v/8)%1;a.o&&(b=(a.g+a.L-(a.v-1+a.D)/8)%1);a=2*b*Math.PI;E(160+60*Math.cos(a)-8,128+60*Math.sin(a)-16)}
class ib extends Q{constructor(){super(...arguments);this.L=this.g=0;this.N=3E3;this.v=-7;this.o=!1;this.D=0;this.l=this.m=!1}s(){super.s();this.N=t(gb,R());this.text="Stay dry";F.H=!0;this.v=-7;this.g=0;this.l=this.m=!1;hb(this)}qa(){P(this)}u(a){super.u(a);this.B||this.j||(this.g+=a/this.N,this.L=Math.cos(2*this.g*Math.PI)/20,1<=this.g&&--this.g,this.m||this.l||(148<F.h.y?(this.m=!1,this.l=!0,I(()=>N(this),500)):140>F.h.x?(this.m=!0,this.l=!1,I(()=>N(this),500)):hb(this)));this.l?(F.h.y+=.04*a,
F.h.x-=.2*a):this.m&&(F.h.x-=.04*a,F.h.y+=.2*a,153.6<F.h.y&&(this.l=!0));this.o&&(this.D+=a/50,1<this.D&&(this.o=!1,this.D=0));Aa(this.g+this.L);F.H=!this.l;this.l?Fa():G(this.o?2:0)}ka(){this.B||this.j||this.o||(this.v++,this.o=!0,this.D=0)}}let jb=new ib;var kb=[0,50];
let lb=class extends V{constructor(){super(...arguments);this.l={x:.01,y:.05}}s(){super.s();this.text="Jump over";let a=t(kb,R());this.g=[new Y({x:2-a,y:116}),new Y({x:218+a,y:136})];this.o=[new W({x:0,y:276},{x:320,y:10})];this.D=[new W({x:218,y:135},{x:130,y:10})]}},mb=new lb;var nb=[100,180],ob=[4,2.5],pb=[.4,.5];
class qb extends lb{constructor(){super(...arguments);this.m=new W({x:136,y:216},{x:48,y:15})}s(){super.s();this.text="Jump over";let a=R(),{Fa:b,Ma:c,La:e}=ma({Fa:t(nb,a),Ma:t(ob,a),La:t(pb,a)});this.o=[new X({x:0,y:236},{x:320,y:20},n.C)];this.g=[new Y({x:-130*e,y:256-b+16},4),new Y({x:320-130*(1-e),y:256-b+16},4)];this.D=[new W(this.g[1].h,{x:130,y:1})];this.m=new W({x:160,y:216},{x:16*c,y:15})}u(a){let {Y:b,U:c}=this.m.Z();if(b||c)F.i.y=-F.i.y;let e=this.m.h,f=this.m.size;[{h:{x:e.x+3,y:e.y+f.y-
1},size:{x:3,y:8}},{h:{x:e.x-6+f.x,y:e.y+f.y-1},size:{x:3,y:8}},{h:e,size:f}].forEach(({h:k,size:l})=>{z(x,k,l,n.A,n.G)});super.u(a)}}let rb=new qb;var sb=[4,2],tb=[100,50];class ub extends lb{constructor(){super(...arguments);this.v=this.m=0}s(){super.s();this.text="Land safely";var a=R();this.m=t(sb,a);this.v=t(tb,a);this.o=[new X({x:0,y:236},{x:320,y:20},n.C)];a=new X({x:218,y:231},{x:16*this.m,y:5},n.A,n.G);this.D=[a];this.g=[new Y({x:-20,y:this.v+16},4),a]}}let vb=new ub;
var wb=[4,2.5],xb=[130,200];
class yb extends V{constructor(){super(...arguments);this.l={x:.05,y:.05};this.na=6;this.v=150;this.xa=7;this.m=3}s(){super.s();this.text="Land safely";var a=R();this.m=t(wb,a);this.v=t(xb,a);this.g=[];for(a=0;4>a;a++)this.g.push(new X({x:235*a,y:150},{x:210,y:70},n.C,n.F));this.o=[new W({x:0,y:246},{x:320,y:10})];this.D=[new W({x:218,y:226},{x:16*this.m,y:10})];F.h={x:20,y:70}}u(a){z(x,{x:0,y:221},{x:320,y:35},n.C);this.D[0].$(n.G,n.A);super.u(a);this.B||this.j||(F.h.x-=this.l.x*a);this.g.forEach(b=>
{this.B||(b.h.x-=a*this.v/1E3);v(15,u(b.h,16,62));v(15,u(b.h,48,62));v(15,u(b.h,194,62));v(15,u(b.h,162,62))})}Ca(a){F.ga?G(3):this.j?G(0):Ea(a)}}let zb=new yb;var Ab=[120,100];let Bb={};
class Cb extends V{constructor(){super(...arguments);this.l={x:.01,y:.05};this.O=new W({x:0,y:0},{x:5,y:5});this.V=110;this.wa=2E3;this.pa=0;this.v=this.m=!1;this.la=3}s(){super.s();this.text="Swing over";this.v=this.m=!1;this.g=[new Y({x:-65,y:116}),new Y({x:255,y:116})];this.o=[new W({x:0,y:276},{x:320,y:10})];this.D=[new W({x:320-130/3,y:115},{x:130,y:10})];let a=R();this.wa=t(Bb.wa,a);this.V=t(Ab,a)}u(a){super.u(a);this.pa+=a/this.wa;a=Math.sin(2*this.pa*Math.PI);let b=160+this.V*Math.sin(a),
c=this.V*Math.cos(a);A(x,160,-20,b,c,n.C);this.O.h={x:b,y:c};this.O.$(n.G,n.A);this.j||(this.v||this.m||!this.O.Z().Y||(this.m=!0),!this.v&&this.m&&(F.h=u(this.O.h,-8,-24)),this.v&&this.m&&(F.i={x:4*Math.sin(a),y:-Math.cos(a)},this.m=!1),this.N&&(this.m=this.v=!1))}ka(){this.v=!0}}
let Db=new Cb,Eb=[{name:"Assistant Dave",ha:"If you want to make it big in Hollywood kid, you better do as I say!",ra:"Is that all you got?",va:"I guess you're not totally worthless!",sa:"Stop wasting my time kid!"},{name:"Producer Elena",ha:"Just do as you're told and don't get in my way.",ra:"Hurry, I don't have all day",va:"Obedient and disciplined. You'll get far, child.",sa:"Is there some reason my coffee isn\t here?"},{name:"Director Alfred",ha:"Good evening. Are you ready to face your fears?",
ra:"Time for your final act",va:"Well done. I must admit, you handled the tension admirably.",sa:"Was this worth the price of admission?"},{name:"Wally",ha:"I've been following you growth. Show me what you got, ha ha.",ra:"The wheel must keep spinning, ha ha!",va:"Splendid. I can definitely use you, ha ha!",sa:"This just won't do ha ha"}],Z=[Pa,Va,bb,fb,jb,Sa,mb,rb,vb,zb,Db],Fb=[[...Z],[...Z],[...Z],[...Z]];function O(){var a=J;a.g++;d(a.B?a.l[a.g%a.l.length]:Fb[0][a.g])}
function R(){var a=J;return a.B?a.g/26:a.g/12/2}class Gb{constructor(){this.g=-1;this.j=4;this.B=!0;this.l=[];let a=[...Z];for(let b=a.length-1;0<b;b--){let c=Math.floor(Math.random()*(b+1));[a[b],a[c]]=[a[c],a[b]]}this.l=a}}
let J=new Gb,Hb=(a,b)=>{var c=1+.5*(Math.random()-.5);let e=new AudioContext;var f=3E3*(a+.25);let k=e.createBuffer(1,f,48E3),l=k.getChannelData(0);for(;f--;){let p=3E3*a;l[f]=f>p?0:Math.sin(c*f/25-.5*Math.sin(f/5))*Math.sin(f/(p/a)*Math.PI)*.2}a=e.createBufferSource();a.buffer=k;a.connect(e.destination);a.start();a.onended=b},Ib=!1,Jb=a=>{Ib=!0;let b=a.replace(/[^a-zA-Z\s]/g,"").split(" "),c=0,e=0;console.log(b);let f=()=>{if(Ib&&c<b.length){e=performance.now();let k=Math.floor(b[c].replace(/[^a-zA-Z\s]/g,
"").length/2)||1;Hb(k,()=>{let l=performance.now()-e;e=performance.now();console.log(c,k,l,"ms");setTimeout(f,Math.max(60*(k+1)-l,0))});c++}else Ib=!1};f()},Kb=0,Lb=0,Mb="",ja="",Nb;
function Ob(a){Kb+=a;30<=Kb&&(Lb++,Kb-=30);z(x,{x:5,y:186},{x:310,y:50},n.F,n.G);z(x,{x:8,y:189},{x:304,y:44},n.F,n.G);y(x,{text:Mb,x:12,y:193,size:2,color:n.C});ia().forEach((b,c)=>{y(x,{text:b,x:12,y:211+8*c,size:1,Ha:Lb-40*c})});x.g.save();x.g.translate(275,196);x.g.save();x.g.scale(2,2);v(Nb,{x:0,y:0});x.g.restore();x.g.restore()}class Pb{s(){console.log(0,Eb[0]);let {name:a,ha:b}=Eb[0];Mb=a;ja=b;Nb=ra[0];Lb=Kb=0;Jb(b)}u(a){wa();Ob(a)}ia(){Ib=!1;O()}}
let Qb=[[" Story mode /soon/",80],[" Endless mode",160]];
class Rb{constructor(){this.g=0}s(){this.g=1}ua(){}u(){y(x,{text:"Levels",x:160,y:30,textAlign:"center",color:n.C,size:3});[...Qb,["&",0===this.g?Qb[0][1]:Qb[1][1]]].forEach(([a,b])=>{y(x,{text:a,x:66,y:b,color:n.A,size:2})});y(x,{text:"Press ENTER to start",x:160,y:236,textAlign:"center",color:n.C,size:1});x.g.save();x.g.translate(76,100);[4,5,6,7].forEach((a,b)=>{x.g.save();x.g.scale(2,2);b={x:21*b,y:0};z(x,b,{x:16,y:16},n.F);v(a,b,!0);x.g.restore()});x.g.restore()}ia(){0===this.g?d(new Pb):O()}}
let Sb=new Rb,Tb=["start","about"],Ub=["Optimized for Firefox 2+","Asbestos Free","Not tested on animals","Requires MS-DOS 5.0 or later","For up-to 1 players"],Vb="";
class Wb{constructor(){this.g=0}s(){Vb=Ub[Math.floor(Math.random()*Ub.length)]}ua(){}u(){["THIRTEEN","TERRIBLE","STUNTS"].forEach((a,b)=>[n.F,n.A].forEach((c,e)=>y(x,{text:a,x:160-e,y:40+15*b-e,textAlign:"center",color:c,size:2})));Tb.forEach((a,b)=>{y(x,{text:a,x:160,y:120+16*b,textAlign:"center",color:b===this.g?n.A:n.C,size:1})});x.g.save();x.g.globalAlpha=.5;x.g.translate(.5,.5);x.g.rotate(-25);x.g.scale(8,8);v(2,{x:3,y:13});x.g.restore();y(x,{text:Vb,x:160,y:241,textAlign:"center",color:n.F,
size:1})}ka(){this.g--;0>this.g&&(this.g=Tb.length-1)}ta(){this.g++;this.g>Tb.length-1&&(this.g=0)}ia(){0===this.g&&(J.B=!0,J.g=-1,J.j=4,d(Sb))}}let h=new Wb;
class Xb{constructor(){this.R=this.X=this.T=this.S=this.P=this.J=!1;this.g=new Map;this.j={J:this.J,P:this.P,T:this.T,S:this.S,X:this.X,R:this.R};document.addEventListener("keydown",a=>{this.g.set(a.code,!0)});document.addEventListener("keyup",a=>{this.g.set(a.code,!1)});this.B=new DOMPoint}u(a){this.j.J=this.J;this.j.P=this.P;this.j.X=this.X;this.j.R=this.R;let b=this.g.get("KeyA")||this.g.get("KeyQ")||this.g.get("ArrowLeft")?-1:0,c=this.g.get("KeyD")||this.g.get("ArrowRight")?1:0,e=this.g.get("KeyW")||
this.g.get("KeyZ")||this.g.get("ArrowUp")?-1:0,f=this.g.get("KeyS")||this.g.get("ArrowDown")?1:0;this.B.x=b+c||0;this.B.y=e+f||0;this.J=0>this.B.y;this.P=0<this.B.y;this.S=0>this.B.x;this.T=0<this.B.x;this.X=!!this.g.get("Enter")||!!this.g.get("Space");(this.R=!!this.g.get("Escape"))&&g.g!=h&&d(h);this.J&&(this.j.J||"function"==typeof a.ka&&a.ka());this.P&&(this.j.P||"function"==typeof a.ta&&a.ta());this.T&&(this.j.T||"function"==typeof a.Ka&&a.Ka());this.S&&(this.j.S||"function"==typeof a.Ja&&a.Ja());
this.X&&(this.j.X||"function"==typeof a.ia&&a.ia());this.R&&(this.j.R||"function"==typeof a.Ia&&a.Ia())}}let S=new Xb;document.querySelector('link[type="image/x-icon"]').href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E\ud83c\udf9e%3C/text%3E%3C/svg%3E";let Yb=0,Zb=[];
function $b(a){let b=a-Yb;Yb=a;Zb.push(1E3/b);15===Zb.length&&(fps.innerHTML=`${Math.round(Zb.reduce((c,e)=>c+e)/15)} FPS`,Zb=[]);va();a=g.g;S.u(a);a.u(b);a.Ea&&a.Ea(b);Ha(b);requestAnimationFrame($b)}(async function(){await ua()})().then(()=>{g=new aa(...[]);requestAnimationFrame($b)});
