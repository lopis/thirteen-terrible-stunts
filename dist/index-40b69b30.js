let aa=a=>a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(b,c,d,g,h)=>"#"+c+c+d+d+g+g+h+h).substring(1).match(/.{2}/g).map(b=>parseInt(b,16)),ba="6v7ic 2rwzo 6nvic 58jgo 55eyo jz6bo   34ao 7k b28 m0 20o0o 9a7vy jbmjj jhza7 ivhmm etrs7 ju8e7 jalrz jyn66 jwdj3 jwdlv 2t8g 2t8s 34yo lskg m2yo jf4lo jysjy 98ruh j8htq 9v7zj j8d32 ju78f ju8t4 9ul2n g44e1 jykrj jewdq g4rbt fgsgv hha5t g6xgz 98rou j8d7c 98uwe j8d7d 9xgxq jykqs g3zn2 g3z9g b1ipn h4qu3 c8oz2 jhyfz    ".split(" "),e={},ca=async(a,b,c)=>
{let d=a+c+b;if(!e[d]){var g=5*b,h=1*b,l=g+h,m=l*a.length-h,n=new ImageData(m,g),[w,x,t,A]=aa(c);a.replace("!","@").toUpperCase().split("").forEach((B,xa)=>{String(parseInt(" "===B?"0":ba[B.charCodeAt(0)-35],36).toString(2)).padStart(25,"0").split("").forEach((C,ya)=>{if("0"!==C)for(C=0;C<b;C++){var H=ya*b;H=4*(xa*l+H%g+b*m*Math.floor(H/g)+m*C);for(let Q=0;Q<b;Q++){let I=4*Q+H;n.data[I]=w;n.data[I+1]=x;n.data[I+2]=t;n.data[I+3]=A||255}}})});a=await createImageBitmap(n);e[d]=a}},da=(a,{text:b,color:c=
f.l,textAlign:d="left",textBaseline:g="top",size:h=2,oa:l=999,...m})=>{let n=Math.round(m.x),w=Math.round(m.y);b||=" ";let x=5*h;var t=1*h;m=x+t;t=m*b.length-t;let A=b+c+h,B="left"===d?0:"center"===d?Math.round(t/2):t;d="top"===g?0:"middle"===g?Math.round(x/2):x;e[A]?(b=l*m,a.drawImage(e[A],0,0,b,m,n-B,w-d,b,m)):ca(b,h,c).then(()=>{a.drawImage(e[A],n-B,w)})},ea=(a,b,c)=>{a.forEach(d=>{b.forEach(g=>ca(d,c,g))})};function k(a){return.1>a&&-.1<a?0:a}
function fa(){var a=ha;let b=RegExp("(.{1,40})(\\s|$)","g"),c=[],d;for(;null!==(d=b.exec(a));)c.push(d[1].trim());return c}function p(a){return{x:Math.round(a.x),y:Math.round(a.y)}}
let f={l:"#1F0A00",G:"#FFFCEA",o:"#A29782",u:"#CEC6AD"},ia=Object.values(f).join("").replace(/#/g,""),ja=f.l.repeat(4).replace(/#/g,""),ka=["@@@@@@TUUA@TejZATUffEPUYZV@UejZAPeZiA@djjF@PUUU@PijjEPdjjFAQjjZDPUUUE@PAPA@@E@E@@@@@@@","@@@@@@PUUA@PjjZ@@ijjA@dZZF@PjiY@@iZiA@djjF@PUUU@PiZiEPdjjFAQUUUDPUUUE@PAPA@@E@E@@@@@@@","@@@@@@PUUA@PUUU@@ijjA@TUUE@PZiU@@ijjA@djjF@PUUU@PUUVEPTUYEAQUUUDPUUUE@PAPA@@E@E@@@@@@@"],la="@@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@@@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@E@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@EPA@@T@@@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@PA@@@ @@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@@E@E@@T@T@@@@PA@".split(" ");
function q(a,b,c=!1,d=!1){var g=r;let h=[];c=c?ja:ia;[...a].map(l=>{l=l.charCodeAt(0);h.push(l&3);h.push(l>>2&3);h.push(l>>4&3)});a=Math.floor(Math.sqrt(h.length));g.g.save();g.g.translate(b.x+(d?a:0),b.y);g.g.save();g.g.scale(d?-1:1,1);for(b=0;b<a;b++)for(d=0;d<a;d++)if(h[b*a+d]){let l=6*(h[b*a+d]-1);g.g.fillStyle="#"+c.substring(l,l+6);g.g.fillRect(d,b,1,1)}g.g.restore();g.g.restore()}function u(a,b){da(a.g,b)}
function v(a,b,c,d,g){let {x:h,y:l}=p(b);a.g.fillStyle=d;a.g.fillRect(h,l,c.x,c.y);a.g.fillStyle=g||d;a.g.fillRect(h+1,l+1,c.x-2,c.y-2)}
function ma(){var a=r;a.g.save();a.g.translate(80,80);[{x:12,y:0},{x:0,y:12},{x:12,y:12},{x:24,y:12}].forEach(({x:b,y:c})=>{v(a,{x:b,y:c},{x:10,y:10},f.o,f.u)});u(a,{text:"move",x:18,y:30,textAlign:"center",size:2});a.g.restore();a.g.save();a.g.translate(200,70);[{text:"enter",y:0},{text:"or",y:12},{text:"space",y:24}].forEach(({text:b,y:c})=>{"or"!==b&&v(a,{x:0,y:c},{x:40,y:10},f.o,f.u);u(a,{text:b,x:20,y:c+3,size:1,textAlign:"center"})});u(a,{text:"action",x:20,y:40,textAlign:"center",size:2});
a.g.restore()}class na{constructor(){this.g=c2d.getContext("2d");this.g.imageSmoothingEnabled=!1;window.addEventListener("resize",()=>{})}}let r=new na;function oa(a,b){var c=y;c.h=p({x:c.h.x+a,y:c.h.y+b})}function pa(a){a.A.forEach((b,c)=>{q(b,{...a.h,y:a.h.y-12*(c+1)})})}function z(a){var b=y;q(a,b.h,!1,b.F);pa(b)}function qa(a){var b=y;b.g+=a;60<=b.g&&(b.i=(b.i+1)%6,b.g-=60);q(la[b.i],b.h,!1,b.F);pa(b)}
function ra(){z("@@@@@@PUUE@PjjjA@ijjF@dZjY@PjjjA@iZeF@djjZ@PUUUAPijjFPdjjZQPUUUQ@TUUA@PA@E@@E@T@@T@PA@")}class sa{constructor(){this.i=this.g=0;this.size={x:16,y:16};this.h={x:0,y:0};this.F=!1;this.A=[];this.j=!1}}let y=new sa;function D(a){var b=E,c=[];b.g=a;b.g.m?.(...c)}class ta{constructor(...a){this.g=F;this.g.m?.(...a)}}let E;
class ua{constructor(){this.I=this.N=this.K=this.J=this.H=this.s=!1;this.g=new Map;this.i={s:this.s,H:this.H,K:this.K,J:this.J,N:this.N,I:this.I};document.addEventListener("keydown",a=>{this.g.set(a.code,!0)});document.addEventListener("keyup",a=>{this.g.set(a.code,!1)});this.j=new DOMPoint}v(a){this.i.s=this.s;this.i.H=this.H;this.i.N=this.N;this.i.I=this.I;let b=this.g.get("KeyA")||this.g.get("KeyQ")||this.g.get("ArrowLeft")?-1:0,c=this.g.get("KeyD")||this.g.get("ArrowRight")?1:0,d=this.g.get("KeyW")||
this.g.get("KeyZ")||this.g.get("ArrowUp")?-1:0,g=this.g.get("KeyS")||this.g.get("ArrowDown")?1:0;this.j.x=b+c||0;this.j.y=d+g||0;this.s=0>this.j.y;this.H=0<this.j.y;this.J=0>this.j.x;this.K=0<this.j.x;this.N=!!this.g.get("Enter")||!!this.g.get("Space");(this.I=!!this.g.get("Escape"))&&D(F);this.s&&(this.i.s||"function"==typeof a.ka&&a.ka());this.H&&(this.i.H||"function"==typeof a.ja&&a.ja());this.K&&(this.i.K||"function"==typeof a.ra&&a.ra());this.J&&(this.i.J||"function"==typeof a.qa&&a.qa());this.N&&
(this.i.N||"function"==typeof a.aa&&a.aa());this.I&&(this.i.I||"function"==typeof a.pa&&a.pa())}}let G=new ua,J=[];function K(a,b,c=0,d=0){J.push({na:a,time:b,B:b+d,repeat:c})}function va(a){for(let b=J.length-1;0<=b;b--){let c=J[b];c.B-=a;0>=c.B&&(c.na(),0>=c.repeat--?J.splice(b,1):c.B=c.time)}}function L(a=0){return"#".repeat(M.i-a)+"%".repeat(3-(M.i-a))}
function wa(a){a.g={x:0,y:0};let b=`Oh no! ${L()}`,c=`Oh no! ${L(1)}`;ea([b,c],[f.l],Math.floor(200/(6*b.length)));a.text=b;a.C=0;a.D=!0;M.i--;K(()=>{a.text=c},200,3,500);K(()=>{a.text=b},200,2,600);1>M.i?(K(()=>{a.U=!0;a.text="you're fired!"},2E3),K(()=>{D(F)},3500)):K(()=>{a.m()},2E3)}function za(a){a.g={x:0,y:0};a.C=0;a.text="Nice!";a.D=!0;let b=a.constructor.name;console.log("next level",b);K(()=>{console.log("addTimeEvent",b);Aa()},1500)}
function Ba(a){[[L(),"left",7],[Math.round(a.B),"center",160],[M.g,"right",313]].forEach(([b,c,d])=>{[f.u,f.l].forEach((g,h)=>{u(r,{text:b.toString(),x:d-h,y:7-h,textAlign:c,color:g,size:2})})})}
class Ca{constructor(){this.g={x:0,y:0};this.D=this.O=!1;this.B=this.P=this.C=0;this.text="";this.U=!1}m(){this.B=10;this.U=this.D=this.O=!1;this.start()}X(){}start(){this.C=0;this.O=!0}v(a){this.D||this.O||(this.X(a),this.B=Math.max(0,this.B-a/1E3),0>=Math.round(this.B)&&wa(this))}ma(a){if(this.D||this.O){this.C+=a;500>=this.C&&(this.P=-(Math.cos(this.C/500*Math.PI)-1)/2);if(0<this.C){a=320*this.P-160;let b=260*this.P-130,c=this.U?f.l:f.G,d=this.U?f.G:f.l;v(r,{x:320-a-100+8,y:260-b-25+8},{x:200,
y:50},f.l);v(r,{x:a-100,y:b-25},{x:200,y:50},f.l,c);u(r,{text:this.text,x:320*this.P/2,y:130*this.P,textAlign:"center",textBaseline:"middle",size:Math.floor(200/(6*this.text.length)),color:d})}1E3<this.C&&this.O&&(this.O=!1)}Ba(this)}}
class Da extends Ca{constructor(){super(...arguments);this.da=1;this.i={x:.3,y:.05};this.ea=7;this.j=0;this.ga=100;this.L=0;this.fa=2;this.W=[];this.ca=[];this.V=[];this.T=!1}m(){super.m();y.j=!1;y.h={x:20,y:20};this.g={x:0,y:0}}v(a){!this.D&&this.ca.some(b=>N(b).Y)&&(y.j=!0,wa(this));[...this.W,...this.ca,...this.V].forEach(b=>{b.update(a)});if(!this.D){this.g={x:k(Math.max(Math.min(this.g.x,this.da),-this.da)),y:k(this.g.y)};y.h=p({x:Math.max(Math.min(y.h.x+this.g.x,304),0),y:Math.max(Math.min(y.h.y+
this.g.y,260),0)+1});let b=this.W.find(c=>c.R(y));!this.D&&this.V.some(c=>{let {Y:d,R:g}=N(c);return d||g})&&za(this);b?(y.h.y=b.h.y-16,this.L=this.j=this.g.y=0,this.T=!0):(this.g.y+=this.i.y*a,this.T=!1)}y.j?z("@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@UUUA@iijZPefjjVUVjjZEYiZfAdeifVUVffYUUUUUA"):0===this.g.x&&0===this.g.y?ra():0===this.g.y?qa(a):0<this.g.y?z("@@@@@@@@@@@@@@@@@TUUA@djjZ@PjjjA@ijjF@dZjY@PjjjA@iZeF@TUUU@TjjjEDijjFQTUUUD@UUU@@@EPA@"):0>this.g.y&&z("@TUUA@djjZ@PjifA@ijjF@djUZ@PjjjQ@ijjFATUUUATjjjADiejFPTUUU@@UUU@@PAU@@@@U@@@@T@@@@@@@@");
super.v(a)}X(a){G.s&&this.L<this.fa&&(G.i.s?this.j<this.ga&&(this.j+=a,this.g.y=-this.ea):(this.j=0,this.g.y=Math.min(0,this.g.y),this.L++));this.T&&(G.J?this.g.x-=this.i.x*a:G.K?this.g.x+=this.i.x*a:0==this.g.y&&(0<this.g.x?this.g.x=Math.max(0,this.g.x-this.i.x*a):0>this.g.x&&(this.g.x=Math.min(0,this.g.x+this.i.x*a))))}}
function N(a){var b=y,c=b.h.x+b.size.x,d=b.h.y+b.size.y,g=a.h.x+a.size.x,h=a.h.y+a.size.y,l=c>a.h.x,m=b.h.y<h;let n=d>a.h.y;l=b.h.x<g&&l&&m&&n;if(!l)return a.M=!1,{Y:!1,R:!1,right:!1,left:!1,bottom:!1,top:!1};g-=b.h.x;c-=a.h.x;h-=b.h.y;d-=a.h.y;m=Math.min(g,c,h,d);a.M=!0;return{Y:l,R:a.R(b),right:m===g,left:m===c,bottom:m===h,top:m===d}}
class O{constructor(a,b){this.M=!1;this.h=a;this.size=b}update(){this.M=!1}R(a){let b=a.h.x+a.size.x-3,c=a.h.y+a.size.y,d=this.h.y+2;return a.h.x+5<this.h.x+this.size.x&&b>this.h.x&&a.h.y<d&&c>=this.h.y}}class P extends O{constructor(a,b,c,d){super(a,b);this.fill=this.g=f.l;this.g=c||"";this.fill=d||this.g}update(){v(r,this.h,this.size,this.g,this.fill)}}
class R extends P{constructor(a){super(a,{x:130,y:200})}update(){v(r,this.h,this.size,f.o,f.u);[0,50,100,150].forEach(a=>{let [b,c]=[{x:this.h.x-1,y:this.h.y+a},{x:this.size.x+2,y:6}];v(r,b,c,f.o)});for(let a=0;3>a;a++)for(let b=0;5>b;b++)r.g.save(),r.g.translate(this.h.x+8+25*b,this.h.y+14+50*a),v(r,{x:0,y:0},{x:14,y:12},f.o,f.G),v(r,{x:0,y:12},{x:14,y:12},f.o,f.G),r.g.restore()}}
class Ea extends Da{constructor(){super(...arguments);this.g={x:0,y:0};this.da=4;this.i={x:.01,y:.05};this.ea=7;this.j=0;this.ga=100;this.L=0;this.fa=2;this.T=!1}m(){super.m();this.text="Jump over";this.W=[new R({x:2,y:116}),new R({x:218,y:136})];this.ca=[new O({x:0,y:260},{x:320,y:10})];this.V=[new O({x:218,y:135},{x:130,y:10})]}X(a){G.s&&this.L<this.fa&&(G.i.s?this.j<this.ga&&(this.j+=a,this.g.y=-this.ea):(this.j=0,this.g.y=Math.min(0,this.g.y),this.L++));this.T&&(G.J?this.g.x-=this.i.x*a:G.K?this.g.x+=
this.i.x*a:0==this.g.y&&(0<this.g.x?this.g.x=Math.max(0,this.g.x-4*this.i.x*a):0>this.g.x&&(this.g.x=Math.min(0,this.g.x+4*this.i.x*a))))}}let Fa=new Ea;
class Ga extends Ca{constructor(){super(...arguments);this.L=[[-10,-10,10,260],[-10,-10,320,10],[320,-10,10,260],[-10,260,320,10]].map(([a,b,c,d])=>new O({x:a,y:b},{x:c,y:d}));this.i=[]}v(a){super.v(a);this.D||([...this.i,...this.L].forEach(b=>{b=N(b);b.Y&&(b.right&&(this.g.x=-this.g.x,y.h.x-=-this.g.x),b.left&&(this.g.x=-this.g.x,y.h.x-=-this.g.x),b.bottom&&(this.g.y=-this.g.y,y.h.y-=-this.g.y),b.top&&(this.g.y=-this.g.y,y.h.y-=-this.g.y))}),oa(this.g.x,this.g.y),this.g={x:k(Math.max(Math.min(this.g.x,
3),-3)),y:k(Math.max(Math.min(this.g.y,3),-3))});0!=this.g.x||0!=this.g.y?qa(a):ra()}X(a){G.s?this.g.y-=.02*a:G.H?this.g.y+=.02*a:0<this.g.y?this.g.y=Math.max(0,this.g.y-.02*a):0>this.g.y&&(this.g.y=Math.min(0,this.g.y+.02*a));G.J?(this.g.x-=.02*a,y.F=!0):G.K?(this.g.x+=.02*a,y.F=!1):0<this.g.x?this.g.x=Math.max(0,this.g.x-.02*a):0>this.g.x&&(this.g.x=Math.min(0,this.g.x+.02*a))}}
class S extends O{constructor(a,b,c={}){super(a,{x:16,y:16});this.ba=this.$=!1;this.text=this.A=null;this.S=0;this.icon=b;this.F=!!c.F;this.$=!!c.$;this.ba=!!c.ba}update(a){this.ba&&q("@\u007f\u007f\u007fC@kjjz@kjjjNkjjjjojjjj~jjjjzkjjjjojjjj~kjjj~{jjjns~\u007f\u007foCljjjCp\u007f\u007f\u007fO@kCpz@lN@kCp\u007f@|O@",{...this.h,y:this.h.y+8});q(this.icon,this.h,!1,this.F);this.A&&q(this.A,this.h,!1);0<this.S&&this.text&&(this.S-=a,a=this.S/1500,u(r,{text:this.text,x:this.h.x+8,y:this.h.y-10+3*a,size:1,
color:.66<a?f.l:.33<a?f.o:f.u,textAlign:"center"}))}}
let T=[["p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@",{x:100,y:101}],["p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@",{x:132,y:101},!0],["@\u007f\u007f\u007fC@kjjz@kjjjNkjjjjojjjj~jjjjzkjjjjojjjj~kjjj~{jjjns~\u007f\u007foCljjjCp\u007f\u007f\u007fO@kCpz@lN@kCp\u007f@|O@",{x:116,y:101}],["@\u007f\u007f\u007fC@kjjz@kjjjNkjjjjojjjj~jjjjzkjjjjojjjj~kjjj~{jjjns~\u007f\u007foCljjjCp\u007f\u007f\u007fO@kCpz@lN@kCp\u007f@|O@",
{x:116,y:116}],["p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@",{x:132,y:116},!0],["p\u007f@@@@kC@@@lN@@@pz@@@@k\u007f\u007f\u007f@|njjCp~jjN@kkjz@lnjjCpzjjN@k\u007f\u007f\u007f@ljjjCpjjjN@k\u007f\u007fz@l~\u007fkCp\u007f@|O@",{x:100,y:116}],["@p\u007fO@@|jjO@ljzjCpjznNpjjnjCknjjNlnkjzpjkzjskjzn~ojjnzokjjz~z\u007f\u007f\u007fzkjjjj\u007f\u007f\u007f\u007f\u007f\u007fjjjjz|\u007f\u007f\u007f\u007f@",{x:100,
y:80}],["@p\u007fO@@|jjO@ljzjCpjznNpjjnjCknjjNlnkjzpjkzjskjzn~ojjnzokjjz~z\u007f\u007f\u007fzkjjjj\u007f\u007f\u007f\u007f\u007f\u007fjjjjz|\u007f\u007f\u007f\u007f@",{x:116,y:80}],["@p\u007fO@@|jjO@ljzjCpjznNpjjnjCknjjNlnkjzpjkzjskjzn~ojjnzokjjz~z\u007f\u007f\u007fzkjjjj\u007f\u007f\u007f\u007f\u007f\u007fjjjjz|\u007f\u007f\u007f\u007f@",{x:132,y:80}],["@pOpO@pjsjC@kNkNLlzozpC\u007fj\u007f@{sjz@l~kjCpzojN@{s\u007f\u007f@|@pN@p@pjC@@p~{@@pNpN@pN@lCpN@@{@O@@pC",{x:200,y:116},!0]];
T=T.sort((a,b)=>a[1].y-b[1].y);let Ha=[{x:260,y:116}];ea(["TY#"],[f.l,f.o,f.u],1);function Ia(){for(let a=0;20>a;a++)v(r,{x:-1,y:13*a},{x:321,y:13},f.u,f.G);v(r,{x:180,y:20},{x:130,y:220},f.u,f.G)}
class Ja extends Ga{constructor(){super(...arguments);this.j=new S({x:50,y:195},"PUUUU@ijjjAdjjjFPjjjZ@UUUUAt\u007f\u007f\u007fGPUUu^@@@P\u007fAPUEmGPTVt_@QYQ\u007fADeE}G@TUt_@UUU\u007fAt\u007f\u007f\u007fGPUUUU@",{F:!0,ba:!0})}m(){this.text="Bring coffee";this.i=[];super.m();y.h=p({x:30,y:30});y.A=[];T.forEach(([a,b,c=!1])=>{this.i.push(new S(b,a,{F:c}))});Ha.forEach((a,b)=>{this.i.push(new S(a,ka[b],{$:!0}))});this.j.M=!1;this.i.push(this.j)}v(a){Ia();this.i.forEach(b=>{b.update(a);b.$&&b.M&&(!b.A&&
0<y.A.length?(b.A="@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@|C@@@pW@@@@\u007fC@@@|K@@@@J@@@@@@@@@@@@@@@@@",b.text="TY#",b.S=1500,y.A.pop(),za(this)):b.M=!1)});this.j.M&&1>y.A.length&&y.A.push("@@@@@@@@@@@@TUE@@djjA@d~\u007fZ@T^UmAdZUUFPfVUZ@YjjjEtjjjfQujj^Fi}\u007f_ZPZUUZ@djjZ@@UUU@@@@@@@");super.v(a)}}let Ka=new Ja;
class La extends Ea{m(){super.m();this.text="Jump off";this.ca=[new P({x:0,y:240},{x:320,y:20},f.o)];let a=new P({x:218,y:235},{x:32,y:10},f.l,f.G);this.V=[a];this.W=[new R({x:-20,y:66}),a]}}
let Ma=new La,Na=[{name:"Assistant Dave",Z:"If you want to make it big in Hollywood kid, you better do as I say!",ha:"Is that all you got?",la:"I guess you're not totally worthless!",ia:"Stop wasting my time kid!",icon:"@@@@@@@UUE@@UUUA@ijjU@dfZZAPjYjE@YiVV@deZYAPjjjF@iUeZ@dZUjA@ijjA@PUUA@TjjZAdjjjZPUUUUA"},{name:"Producer Elena",Z:"Just do as you're told and don't get in my way.",ha:"Hurry, I don't have all day",la:"Obedient and disciplined. You'll get far, child.",ia:"Is there some reason my coffee isn\t here?",
icon:"@@@@@@PUUE@PeZUAPijjU@ijjVAeUVYUTjifVQijjZEejjjUPjUjVAijjZ@PjjZ@@TiU@@@dF@@PUVUAPUUUU@"},{name:"Director Alfred",Z:"Good evening. Are you ready to face your fears?",ha:"Time for your final act",la:"Well done. I must admit, you handled the tension admirably.",ia:"Was this worth the price of admission?",icon:"@TUU@@djjF@djjjAPUUUF@ijjV@djjjAPVjeF@ijjZ@djjjAPjUjF@djjF@@ejF@@@iF@@TeZU@TUYUEPUUUU@"},{name:"Wally",Z:"I've been following you growth. Show me what you got, ha ha.",ha:"The wheel must keep spinning, ha ha!",
la:"Splendid. I can definitely use you, ha ha!",ia:"This just won't do ha ha",icon:"@PA@E@PU@UAPUUUU@UiVUAPijUA@djZA@PfiF@@YfZ@@djjATdjjFPejjZ@djjZ@@UUU@@@@U@@@@UE@@PUUE@"}],Oa=[[Ma,Fa,Ka],[Ma,Ka,Fa]];function Aa(){var a=M;a.g++;a.i=1;D(Oa[a.j][a.g]||F)}class Pa{constructor(){this.j=0;this.g=-1;this.i=3}}
let M=new Pa,U=[[6,5,3,3,5,5,0,5,-2,0,-2,0,6,3,2,3],[4,3,5,4,3,5,6,4,3,5,4,3,5,6,4,3],[3,2,3,6,0,-2,0,-2,5,0,5,5,3,3,5,6]],Qa=[[2,3,2.5,4],[4,3.5,3,2.5],[4,2.5,3,2]],Ra=(a,b)=>c=>Math.sin(60*Math.pow(10,-(c+1)/2048%8))/8+Math.tan(Math.cbrt(Math.sin(c*a[c>>13&15]/30)))/[2,3,4,6,8,12,16,24][c/[1,1.5][c>>12&1]>>10&7]/32+Math.cbrt(Math.asin(Math.sin(c/b[c>>16&3]/10)))/64;
class Sa{constructor(){this.source=null;this.i=[];this.g=new AudioContext;for(let a=0;3>a;a++){let b=U[a%U.length],c=Qa[a%U.length],d=32E3*(b.length+.4)/2,g=this.g.createBuffer(1,d,32E3),h=g.getChannelData(0);for(let l=0;l<d;l++)h[l]=Ra(b,c)(l);this.i.push(g)}}start(){this.g=new AudioContext;this.source=this.g.createBufferSource();this.source.buffer=this.i[M.g];this.source.connect(this.g.destination);this.source.loop=!0;this.source.start()}}
let V,W=!1,Ta=a=>{W=!0;let b=a.replace(/[^a-zA-Z\s]/g,"").split(" "),c=0,d=()=>{if(W&&c<b.length){var g=d,h=Math.floor(b[c].replace(/[^a-zA-Z\s]/g,"").length/2)||1,l=1+.5*(Math.random()-.5);let n=new AudioContext;var m=3E3*(h+.25);let w=n.createBuffer(1,m,48E3),x=w.getChannelData(0);for(;m--;){let t=3E3*h;x[m]=m>t?0:Math.sin(l*m/25-.5*Math.sin(m/5))*Math.sin(m/(t/h)*Math.PI)*.2}h=n.createBufferSource();h.buffer=w;h.connect(n.destination);h.start();h.addEventListener("ended",g);c++}};d()},X=0,Ua=0,
Va="",ha="",Wa="";function Xa(a){X+=a;30<=X&&(Ua++,X-=30);v(r,{x:5,y:190},{x:310,y:50},f.u,f.G);v(r,{x:8,y:193},{x:304,y:44},f.u,f.G);u(r,{text:Va,x:12,y:197,size:2,color:f.o});fa().forEach((b,c)=>{u(r,{text:b,x:12,y:215+8*c,size:1,oa:Ua-40*c})});r.g.save();r.g.translate(275,200);r.g.save();r.g.scale(2,2);q(Wa,{x:0,y:0});r.g.restore();r.g.restore()}class Ya{m(){let {name:a,Z:b,icon:c}=Na[M.j];Va=a;ha=b;Wa=c;Ua=X=0;Ta(b)}v(a){ma();Xa(a)}aa(){W=!1;Aa()}}let Y=[[" Story mode",80],[" Endless mode",160]];
class Za{constructor(){this.g=0}m(){this.g=0;V&&V?.source?.stop()}v(){u(r,{text:"Levels",x:160,y:30,textAlign:"center",color:f.o,size:3});[...Y,["&",0===this.g?Y[0][1]:Y[1][1]]].forEach(([a,b])=>{u(r,{text:a,x:66,y:b,color:f.l,size:2})});u(r,{text:"Press ENTER to start",x:160,y:240,textAlign:"center",color:f.o,size:1});r.g.save();r.g.translate(76,100);["@@@@@@@UUE@@UUUA@ijjU@dfZZAPjYjE@YiVV@deZYAPjjjF@iUeZ@dZUjA@ijjA@PUUA@TjjZAdjjjZPUUUUA","@@@@@@PUUE@PeZUAPijjU@ijjVAeUVYUTjifVQijjZEejjjUPjUjVAijjZ@PjjZ@@TiU@@@dF@@PUVUAPUUUU@",
"@TUU@@djjF@djjjAPUUUF@ijjV@djjjAPVjeF@ijjZ@djjjAPjUjF@djjF@@ejF@@@iF@@TeZU@TUYUEPUUUU@","@PA@E@PU@UAPUUUU@UiVUAPijUA@djZA@PfiF@@YfZ@@djjATdjjFPejjZ@djjZ@@UUU@@@@U@@@@UE@@PUUE@"].forEach((a,b)=>{r.g.save();r.g.scale(2,2);b={x:21*b,y:0};v(r,b,{x:16,y:16},f.u);q(a,b,!0);r.g.restore()});r.g.restore()}ka(){this.g--;0>this.g&&(this.g=Y.length-1)}ja(){this.g++;this.g>Y.length-1&&(this.g=0)}aa(){0===this.g&&D(new Ya)}}let $a=new Za,ab=["new game","continue","about"];
class bb{constructor(){this.g=0}m(){V&&V?.source?.stop()}v(){["THIRTEEN","TERRIBLE","STUNTS"].forEach((a,b)=>[f.u,f.l].forEach((c,d)=>u(r,{text:a,x:160-d,y:40+15*b-d,textAlign:"center",color:c,size:2})));ab.forEach((a,b)=>{u(r,{text:a,x:160,y:120+16*b,textAlign:"center",color:b===this.g?f.l:f.o,size:1})})}ka(){this.g--;0>this.g&&(this.g=ab.length-1)}ja(){this.g++;this.g>ab.length-1&&(this.g=0)}aa(){0===this.g&&(M.j=0,M.g=-1,D($a))}}let F=new bb;
document.querySelector('link[type="image/x-icon"]').href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E\ud83c\udf9e%3C/text%3E%3C/svg%3E";E=new ta(...[]);let cb=0,Z=[];V=new Sa;function db(a){let b=a-cb;cb=a;Z.push(1E3/b);15===Z.length&&(fps.innerHTML=`${Math.round(Z.reduce((c,d)=>c+d)/15)} FPS`,Z=[]);r.g.clearRect(0,0,320,260);a=E.g;G.v(a);a.v(b);a.ma&&a.ma(b);va(b);requestAnimationFrame(db)}requestAnimationFrame(db);
